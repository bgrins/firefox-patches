# HG changeset patch
# User Brian Grinstead <bgrinstead@mozilla.com>
# Parent  782f341be605f1a30e8a9bfbfc13ce389e620a24

diff --git a/devtools/client/inspector/markup/test/browser.ini b/devtools/client/inspector/markup/test/browser.ini
--- a/devtools/client/inspector/markup/test/browser.ini
+++ b/devtools/client/inspector/markup/test/browser.ini
@@ -93,18 +93,16 @@ support-files =
 skip-if = os == "mac" # Full keyboard navigation on OSX only works if Full Keyboard Access setting is set to All Control in System Keyboard Preferences
 [browser_markup_accessibility_navigation.js]
 skip-if = os == "mac" # Full keyboard navigation on OSX only works if Full Keyboard Access setting is set to All Control in System Keyboard Preferences
 [browser_markup_accessibility_new_selection.js]
 [browser_markup_accessibility_navigation_after_edit.js]
 skip-if = os == "mac" # Full keyboard navigation on OSX only works if Full Keyboard Access setting is set to All Control in System Keyboard Preferences
 [browser_markup_accessibility_semantics.js]
 [browser_markup_anonymous_01.js]
-[browser_markup_anonymous_02.js]
-skip-if = !xbl || (os == 'win' && processor == 'aarch64') # bug 1531584
 [browser_markup_anonymous_03.js]
 skip-if = (os == 'win' && processor == 'aarch64') # bug 1531584
 [browser_markup_anonymous_04.js]
 skip-if = (os == 'win' && processor == 'aarch64') # bug 1531584
 [browser_markup_copy_html.js]
 tags = clipboard
 [browser_markup_copy_image_data.js]
 tags = clipboard
diff --git a/devtools/client/inspector/markup/test/browser_markup_anonymous_02.js b/devtools/client/inspector/markup/test/browser_markup_anonymous_02.js
deleted file mode 100644
--- a/devtools/client/inspector/markup/test/browser_markup_anonymous_02.js
+++ /dev/null
@@ -1,30 +0,0 @@
-/* Any copyright is dedicated to the Public Domain.
- http://creativecommons.org/publicdomain/zero/1.0/ */
-
-"use strict";
-
-requestLongerTimeout(2);
-
-// Test XBL anonymous content in the markupview
-const TEST_URL = URL_ROOT + "doc_markup_anonymous_xul.xul";
-
-add_task(async function() {
-  const { inspector } = await openInspectorForURL(TEST_URL);
-
-  const boundNode = await getNodeFront("#xbl-host", inspector);
-  const children = await inspector.walker.children(boundNode);
-
-  is(boundNode.numChildren, 2, "Correct number of children");
-  is(children.nodes.length, 2, "Children returned from walker");
-
-  is(boundNode.isAnonymous, false, "Node with XBL binding is not anonymous");
-  await isEditingMenuEnabled(boundNode, inspector);
-
-  for (const node of children.nodes) {
-    ok(node.isAnonymous, "Child is anonymous");
-    ok(node._form.isXBLAnonymous, "Child is XBL anonymous");
-    ok(!node._form.isShadowAnonymous, "Child is not shadow anonymous");
-    ok(!node._form.isNativeAnonymous, "Child is not native anonymous");
-    await isEditingMenuDisabled(node, inspector);
-  }
-});
diff --git a/docshell/base/crashtests/403574-1.xhtml b/docshell/base/crashtests/403574-1.xhtml
deleted file mode 100644
--- a/docshell/base/crashtests/403574-1.xhtml
+++ /dev/null
@@ -1,23 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml" class="reftest-wait">
-<head>
-
-<bindings xmlns="http://www.mozilla.org/xbl"><binding id="foo"><content>
-<frame xmlns="http://www.w3.org/1999/xhtml"><children xmlns="http://www.mozilla.org/xbl"/></frame>
-</content></binding></bindings>
-
-<script>
-
-function boom()
-{
-  document.getElementById("span").style.MozBinding = "url('#foo')";
-  document.documentElement.removeAttribute("class");
-}
-
-</script>
-</head>
-
-<body onload="setTimeout(boom, 100);">
-<span id="span"></span>
-</body>
-
-</html>
diff --git a/docshell/base/crashtests/crashtests.list b/docshell/base/crashtests/crashtests.list
--- a/docshell/base/crashtests/crashtests.list
+++ b/docshell/base/crashtests/crashtests.list
@@ -1,11 +1,10 @@
 load 40929-1.html
 load 369126-1.html
-skip-if(!xbl) load 403574-1.xhtml
 load 430124-1.html
 load 430628-1.html
 load 432114-1.html
 load 432114-2.html
 load 436900-1.html
 asserts(0-1) load 436900-2.html # bug 566159
 load 443655.html
 load 500328-1.html
diff --git a/dom/base/crashtests/348049-1.xhtml b/dom/base/crashtests/348049-1.xhtml
deleted file mode 100644
--- a/dom/base/crashtests/348049-1.xhtml
+++ /dev/null
@@ -1,40 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml" xmlns:html="http://www.w3.org/1999/xhtml" class="reftest-wait">
-<head>
-
-<bindings xmlns="http://www.mozilla.org/xbl">
-
-<binding id="td">
-  <content>
-    <html:td><children/></html:td>
-  </content>
-</binding>
-
-<binding id="foo">
-  <content>
-    <html:span/>
-  </content>
-</binding>
-
-</bindings>
-
-
-<script>
-function f1()
-{
-  document.getElementById("inner").style.MozBinding = "url(#foo)";
-  document.documentElement.removeAttribute("class");
-}
-</script>
-
-</head>
-
-
-<body onload="setTimeout(f1, 30);">
-
-
-<div id="outer" style="-moz-binding: url(#td)"><div id="inner">M</div></div>
-
-
-</body>
-
-</html>
diff --git a/dom/base/crashtests/395469-1.xhtml b/dom/base/crashtests/395469-1.xhtml
deleted file mode 100644
--- a/dom/base/crashtests/395469-1.xhtml
+++ /dev/null
@@ -1,29 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml">
-<head>
-
-<bindings xmlns="http://www.mozilla.org/xbl"><binding id="empty"><content></content></binding></bindings>
-
-<style>
-
-.bef:before { content: counter(c); }
-
-.fl:first-letter { }
-
-</style>
-
-<script>
-
-function boom()
-{
-  document.getElementById("xblize").style.MozBinding = "url('#empty')";
-}
-
-</script>
-</head>
-
-<body onload="boom();">
-
-<div class="fl"><span class="bef" id="xblize"></span><span class="bef"></span></div>
-
-</body>
-</html>
diff --git a/dom/base/crashtests/395469-2.xhtml b/dom/base/crashtests/395469-2.xhtml
deleted file mode 100644
--- a/dom/base/crashtests/395469-2.xhtml
+++ /dev/null
@@ -1,45 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml" class="reftest-wait">
-<head>
-
-<bindings xmlns="http://www.mozilla.org/xbl"><binding id="empty"><content></content></binding></bindings>
-
-<style>
-
-.bef:before { content: counter(c); }
-
-.fl:first-letter { }
-
-</style>
-
-<script>
-
-var xblize, div;
-
-function boom()
-{
-  xblize = document.getElementById("xblize");
-  div = document.getElementById("div");
-  
-  xblize.style.MozBinding = "url('#empty')";
-
-  // Give the XBL extra time to settle
-  setTimeout(boom2, 200);
-}
-
-function boom2()
-{
-  div.removeChild(xblize);
-  div.appendChild(xblize);
-  
-  document.documentElement.removeAttribute("class");
-}
-
-</script>
-</head>
-
-<body onload="boom();">
-
-<div class="fl" id="div"><span class="bef" id="xblize"></span><span class="bef"></span></div>
-
-</body>
-</html>
diff --git a/dom/base/crashtests/401993-1.html b/dom/base/crashtests/401993-1.html
deleted file mode 100644
--- a/dom/base/crashtests/401993-1.html
+++ /dev/null
@@ -1,38 +0,0 @@
-<html class="reftest-wait">
-<head>
-<script>
-
-function s()
-{
-  var x = document.getElementById("x");
-  x.style.MozBinding = "url(401993-1.xml#foo)";
-  
-  setTimeout(boom, 0);
-  
-  function boom()
-  {
-    var nodes = SpecialPowers.unwrap(SpecialPowers.wrap(document).getAnonymousNodes(x));
-    if (!nodes) {
-      setTimeout(boom, 10);
-      return;
-    }
-
-    var newSpan = document.createElement("span");
-    newSpan.contentEditable = "true";
-    nodes[0].appendChild(newSpan);
-    x.remove();
-    
-    document.documentElement.removeAttribute("class");
-  }
-}
-</script>
-</head>
-
-<body onload="s();">
-
-<span contenteditable="true"></span>
-
-<div id="x"></div>
-
-</body>
-</html>
diff --git a/dom/base/crashtests/404869-1.xul b/dom/base/crashtests/404869-1.xul
deleted file mode 100644
--- a/dom/base/crashtests/404869-1.xul
+++ /dev/null
@@ -1,23 +0,0 @@
-<?xml version="1.0"?>
-<window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul" onload="boom();">
-        
-<bindings xmlns="http://www.mozilla.org/xbl">
-  <binding id="empty"><content></content></binding>
-</bindings>
-
-<script type="text/javascript">
-
-function boom()
-{
-  var menupopup = document.getElementById("menupopup");
-  var x = SpecialPowers.wrap(document).getAnonymousNodes(menupopup)[0];
-  menupopup.style.MozBinding = "url('#empty')";
-  for (var ppp in x) {
-  }
-}
-
-</script>
-
-<menupopup id="menupopup"/>
-
-</window>
diff --git a/dom/base/crashtests/crashtests.list b/dom/base/crashtests/crashtests.list
--- a/dom/base/crashtests/crashtests.list
+++ b/dom/base/crashtests/crashtests.list
@@ -24,17 +24,16 @@ load 338674-1.xhtml
 load 340733-1.html
 load 343730-1.xhtml
 load 343850-1.xhtml
 load 343889-1.html
 load 344434-1.xhtml
 load 344882-1.html
 load 345837-1.xhtml
 load 346381-1.html
-skip-if(!xbl) load 348049-1.xhtml
 load 349355-1.html
 load 359432-1.xhtml
 load 360599-1.html
 load 366200-1.xhtml
 load 369219-1.xhtml
 load 369413-1.html
 load 371124-1.html
 load 371124-2.html
@@ -43,22 +42,18 @@ load 372554-1.html
 load 375399-1.html
 load 377360-1.xhtml
 load 377960-1.html
 load 377960-2.html
 load 384663-1.html
 load 386000-1.html
 load 386794-1.html
 load 387460-1.html
-skip-if(!xbl) load 395469-1.xhtml
-skip-if(!xbl) load 395469-2.xhtml
 load 399712-1.html
 load 400763-1.html
-skip-if(!xbl) load 401993-1.html
-skip-if(!xbl) load chrome://reftest/content/crashtests/dom/base/crashtests/404869-1.xul
 load 407818.html
 load 410860-1.xml
 load 411882-1.xhtml
 load 416734-1.html
 load 417852-1.html
 load 418928-1.html
 load 420620-1.html
 load 424276-1.html
diff --git a/dom/base/test/mochitest.ini b/dom/base/test/mochitest.ini
--- a/dom/base/test/mochitest.ini
+++ b/dom/base/test/mochitest.ini
@@ -281,18 +281,16 @@ tags = audiochannel
 skip-if = (os == "win" && processor == "aarch64") # bug 1535775
 [test_audioNotificationNavigationWebAudio.html]
 tags = audiochannel
 skip-if = (os == "win" && processor == "aarch64") # bug 1535775
 [test_audioNotificationWithEarlyPlay.html]
 tags = audiochannel
 skip-if = (os == "win" && processor == "aarch64") # bug 1535775
 [test_base.xhtml]
-[test_base_xbl.xhtml]
-skip-if = !xbl
 [test_bug5141.html]
 [test_bug28293.html]
 [test_bug28293.xhtml]
 [test_bug51034.html]
 [test_bug116083.html]
 tags = clipboard
 skip-if = headless # fails in clipboard mode
 [test_bug166235.html]
@@ -309,18 +307,16 @@ skip-if = headless # headless != clipboa
 [test_bug282547.html]
 [test_bug298064.html]
 [test_bug300992.html]
 [test_bug311681.xml]
 [test_bug313646.html]
 [test_bug320799.html]
 [test_bug322317.html]
 [test_bug326337.html]
-[test_bug330925.xhtml]
-skip-if = !xbl
 [test_bug331959.html]
 [test_bug333064.html]
 skip-if = headless # Headless: Bug 1405868
 [test_bug333198.html]
 [test_bug333673.html]
 [test_bug337631.html]
 [test_bug338541.xhtml]
 [test_bug338583.html]
@@ -346,18 +342,16 @@ support-files = file_bug357450.js
 [test_bug366944.html]
 [test_bug366946.html]
 [test_bug367164.html]
 [test_bug368972.html]
 [test_bug371576-2.html]
 [test_bug371576-3.html]
 [test_bug371576-4.html]
 [test_bug371576-5.html]
-[test_bug372086.html]
-skip-if = !xbl
 [test_bug372964-2.html]
 [test_bug372964.html]
 [test_bug373181.xhtml]
 [test_bug375314.html]
 [test_bug378969.html]
 [test_bug380418.html]
 support-files = test_bug380418.html^headers^
 [test_bug382113.html]
@@ -405,18 +399,16 @@ support-files = test_bug402150.html^head
 [test_bug428847.html]
 [test_bug429157.html]
 [test_bug431082.html]
 [test_bug431701.html]
 [test_bug431833.html]
 [test_bug433533.html]
 [test_bug433662.html]
 [test_bug435425.html]
-[test_bug444030.xhtml]
-skip-if = !xbl
 [test_bug444322.html]
 [test_bug444546.html]
 disabled = Disabled for now. Mochitest isn't reliable enough for these.
 support-files = bug444546.sjs
 [test_bug444722.html]
 [test_bug448993.html]
 [test_bug450160.html]
 [test_bug451376.html]
diff --git a/dom/base/test/test_base_xbl.xhtml b/dom/base/test/test_base_xbl.xhtml
deleted file mode 100644
--- a/dom/base/test/test_base_xbl.xhtml
+++ /dev/null
@@ -1,34 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml">
-<head>
-  <title>Test for base URIs</title>
-  <script src="/tests/SimpleTest/SimpleTest.js"></script>
-  <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
-  <base href="/tests/dom/base/" />
-  <style>
-    #bound { -moz-binding: url("test/file_base_xbl.xml#test"); }
-  </style>
-</head>
-<body>
-<div id="bound"/>
-<pre id="test">
-<script type="application/javascript">
-SimpleTest.waitForExplicitFinish();
-addLoadEvent(function() {
-  var svgExpected =
-    ["http://mochi.test:8888/tests/dom/base/",
-     "http://mochi.test:8888/tests/dom/base/",
-     "http://mochi.test:8888/tests/dom/base/",
-     ];
-  let node = SpecialPowers.wrap(document).getAnonymousNodes(document.getElementById("bound"))[0];
-  while(node) {
-    is(node.baseURI, svgExpected.shift(), "node base");
-    node = node.firstChild;
-  }
-  is(svgExpected.length, 0, "found all expected nodes");
-
-  SimpleTest.finish();
-});
-</script>
-</pre>
-</body>
-</html>
diff --git a/dom/base/test/test_bug330925.xhtml b/dom/base/test/test_bug330925.xhtml
deleted file mode 100644
--- a/dom/base/test/test_bug330925.xhtml
+++ /dev/null
@@ -1,74 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml">
-<!--
-https://bugzilla.mozilla.org/show_bug.cgi?id=330925
--->
-<head>
-  <title>Test for Bug 330925</title>
-  <script src="/tests/SimpleTest/SimpleTest.js"></script>
-  <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
-
-<style type="text/css">
-#t {
--moz-binding: url(#randomxbl);
-}
-</style>
-
-<bindings xmlns="http://www.mozilla.org/xbl">
-<binding id="randomxbl" inheritstyle="false">
-<content>
-xbl textnode1
-<div>
-xbl textnode2
-<children xmlns="http://www.mozilla.org/xbl"/>
-</div>
-</content>
-</binding>
-</bindings>
-
-</head>
-<body>
-<a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=330925">Mozilla Bug 330925</a>
-
-<p id="display">
-<div id="t" />
-</p>
-
-<pre id="test">
-<script class="testbody" type="text/javascript">
-<![CDATA[
-
-/** Test for Bug 330925 **/
-
-// We have to wait until onload because XBL doesn't bind immediately.
-SimpleTest.waitForExplicitFinish();
-addLoadEvent(init);
-
-function init()
-{
-  var t = document.getElementById("t");
-  var d = SpecialPowers.wrap(document);
-
-  is(SpecialPowers.unwrap(d.getBindingParent(d.getAnonymousNodes(t)[0])),
-     t,
-     "Wrong binding parent for anonymous node");
-     
-  is(SpecialPowers.unwrap(d.getBindingParent(d.getAnonymousNodes(t)[1].childNodes[0])),
-     t,
-     "Wrong binding parent for child of anonymous node");
-     
-  is(d.getBindingParent(t), 
-     null,
-     "Non-anonymous node should not have a binding parent");
-     
-  is(d.getBindingParent(document.documentElement), 
-     null,
-     "Document element should not have a binding parent");
-     
-  SimpleTest.finish();
-}
-
-]]>
-</script>
-</pre>
-</body>
-</html>
diff --git a/dom/base/test/test_bug372086.html b/dom/base/test/test_bug372086.html
deleted file mode 100644
--- a/dom/base/test/test_bug372086.html
+++ /dev/null
@@ -1,96 +0,0 @@
-<!DOCTYPE HTML>
-<html>
-<!--
-https://bugzilla.mozilla.org/show_bug.cgi?id=372086
--->
-<head>
-  <title>Test for Bug 372086</title>
-  <script src="/tests/SimpleTest/SimpleTest.js"></script>        
-  <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
-</head>
-<body>
-<a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=372086">Mozilla Bug 372086</a>
-<p id="display">
-  <!-- Binding is:
-       <bindings xmlns="http://www.mozilla.org/xbl">
-         <binding id="test">
-           <content>ghi<children/>jkl</content>
-         </binding>
-       </bindings>
-    -->
-  <div id="d" style="-moz-binding: url(file_bug372086.xml)">abc</div>def
-</p>
-<div id="content" style="display: none">
-  
-</div>
-<pre id="test">
-<script class="testbody" type="text/javascript">
-
-/** Test for Bug 372086 **/
-
-// Note that we could avoid a lot of SpecialPowers.unwrap calls if the SpecialPowers
-// wrappers could be made to preserve identity. See bug 718543.
-
-function runTest() {
-  var range = SpecialPowers.wrap(document.createRange());
-
-  var c = $("d").firstChild;
-  var a = $("d").nextSibling;
-  
-  range.setStart(c, 1);
-  range.setEnd(c, 3);
-  is(SpecialPowers.unwrap(range.startContainer), c, "Unexpected start container");
-  is(range.startOffset, 1, "Unexpected start offset");
-  is(SpecialPowers.unwrap(range.endContainer), c, "Unexpected end container");
-  is(range.endOffset, 3, "Unexpected end offset");
-  is(range.toString(), "bc", "Unexpected range serialization");
-
-  var anon = SpecialPowers.wrap(document).getAnonymousNodes($("d"))[0];
-  // Should collapse the range, because can't determine order
-  range.setEnd(anon, 2);
-  is(SpecialPowers.unwrap(range.startContainer), SpecialPowers.unwrap(anon),
-     "Unexpected collapsed start container");
-  is(range.startOffset, 2, "Unexpected collapsed start offset");
-  is(SpecialPowers.unwrap(range.endContainer), SpecialPowers.unwrap(anon),
-     "Unexpected collapsed end container");
-  is(range.endOffset, 2, "Unexpected collapsed end offset");
-  is(range.toString(), "", "Unexpected collapsed range serialization");
-
-  range.setEnd(a, 2);
-  range.setStart(a, 0);
-  is(SpecialPowers.unwrap(range.startContainer), a, "Unexpected start container after");
-  is(range.startOffset, 0, "Unexpected start offset after");
-  is(SpecialPowers.unwrap(range.endContainer), a, "Unexpected end container after");
-  is(range.endOffset, 2, "Unexpected end offset after");
-  is(range.toString(), "de", "Unexpected range serialization after");
-
-  anon = SpecialPowers.wrap(document).getAnonymousNodes($("d"))[2];
-  // Collapses because one endpoint is anonymous from point of view of
-  // the other.  
-  range.setStart(anon, 1);
-  is(SpecialPowers.unwrap(range.startContainer),
-     SpecialPowers.unwrap(anon), "Unexpected newly collapsed start container");
-  is(range.startOffset, 1, "Unexpected newly collapsed start offset");
-  is(SpecialPowers.unwrap(range.endContainer), SpecialPowers.unwrap(anon),
-     "Unexpected newly collapsed end container");
-  is(range.endOffset, 1, "Unexpected newly collapsed end offset");
-  is(range.toString(), "", "Unexpected collapsed range serialization");
-
-  range.setEnd(anon, 3);
-  is(SpecialPowers.unwrap(range.startContainer),
-     SpecialPowers.unwrap(anon), "Unexpected anon start container");
-  is(range.startOffset, 1, "Unexpected anon start offset");
-  is(SpecialPowers.unwrap(range.endContainer),
-     SpecialPowers.unwrap(anon), "Unexpected anon end container");
-  is(range.endOffset, 3, "Unexpected anon end offset");
-  is(range.toString(), "kl", "Unexpected anon range serialization");
-}
-
-SimpleTest.waitForExplicitFinish();
-addLoadEvent(runTest);
-addLoadEvent(SimpleTest.finish)
-</script>
-</pre>
-</body>
-</html>
-
diff --git a/dom/base/test/test_bug444030.xhtml b/dom/base/test/test_bug444030.xhtml
deleted file mode 100644
--- a/dom/base/test/test_bug444030.xhtml
+++ /dev/null
@@ -1,50 +0,0 @@
-<?xml version="1.0"?>
-<html xmlns="http://www.w3.org/1999/xhtml">
-<!--
-https://bugzilla.mozilla.org/show_bug.cgi?id=444030
--->
-<head>
-  <title>Test for Bug 444030</title>
-  <script src="/tests/SimpleTest/SimpleTest.js"></script>
-  <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
-  <bindings xmlns="http://www.mozilla.org/xbl">
-    <binding id="e">
-      <content>e</content>
-    </binding>
-  </bindings>
-</head>
-<body>
-<a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=444030">Mozilla Bug 444030</a>
-<p id="display"></p>
-<div id="content" style="display: none">
-  
-</div>
-<pre id="test">
-<script class="testbody" type="text/javascript">
-<![CDATA[
-
-/** Test for Bug 444030 **/
-
-function doTest() {
-  var anonTextNode = SpecialPowers.unwrap(SpecialPowers.wrap(document).getAnonymousNodes(document.getElementById("boundElement")))[0];
-  var hadException = false;
-  try {
-    var wholeText = anonTextNode.wholeText;
-  } catch(e) {
-    hadException = true;
-  }
-  ok(hadException,
-     "Should have got an exception when using .wholeText with a text node child of the binding parent");
-  SimpleTest.finish();
-}
-
-SimpleTest.waitForExplicitFinish();
-addLoadEvent(doTest);
-
-]]>
-</script>
-</pre>
-<div style="-moz-binding: url(#e)" id="boundElement"></div>
-</body>
-</html>
-
diff --git a/dom/events/crashtests/422009-1.xhtml b/dom/events/crashtests/422009-1.xhtml
deleted file mode 100644
--- a/dom/events/crashtests/422009-1.xhtml
+++ /dev/null
@@ -1,31 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml">
-<head>
-
-<bindings xmlns="http://www.mozilla.org/xbl">
-  <binding id="g">
-    <implementation>
-      <constructor>
-        throw 3;
-      </constructor>
-    </implementation>
-  </binding>
-</bindings>
-
-<script type="text/javascript">
-
-function boom()
-{
-  var HTML_NS = "http://www.w3.org/1999/xhtml";
-  var span = document.createElementNS(HTML_NS, 'span');
-  span.style.MozBinding = "url(#g)";
-  document.removeChild(document.documentElement)
-  var w = document.createElementNS(HTML_NS, 'body');
-  w.setAttribute('onload', "/");
-  document.appendChild(span);
-}
-
-</script>
-</head>
-
-<body onload="boom();"></body>
-</html>
diff --git a/dom/events/crashtests/crashtests.list b/dom/events/crashtests/crashtests.list
--- a/dom/events/crashtests/crashtests.list
+++ b/dom/events/crashtests/crashtests.list
@@ -1,12 +1,11 @@
 load 104310-1.html
 load 116206-1.html
 load 135345-1.html
-skip-if(!xbl) load 422009-1.xhtml
 load 457776-1.html
 load 496308-1.html
 load 682637-1.html
 load 938341.html
 load 1033343.html
 load 1035654-1.html
 load 1035654-2.html
 needs-focus load 1072137-1.html
diff --git a/dom/events/test/chrome.ini b/dom/events/test/chrome.ini
--- a/dom/events/test/chrome.ini
+++ b/dom/events/test/chrome.ini
@@ -7,18 +7,16 @@ support-files =
   bug591249_iframe.xul
   bug602962.xul
   file_bug679494.html
   window_bug617528.xul
   window_bug1412775.xul
   test_bug336682.js
 
 [test_bug336682_2.xul]
-[test_bug391568.xhtml]
-skip-if = !xbl
 [test_bug415498.xul]
 [test_bug418986-3.xul]
 [test_bug524674.xul]
 [test_bug586961.xul]
 [test_bug591249.xul]
 [test_bug602962.xul]
 [test_bug617528.xul]
 [test_bug679494.xul]
diff --git a/dom/events/test/test_bug391568.xhtml b/dom/events/test/test_bug391568.xhtml
deleted file mode 100644
--- a/dom/events/test/test_bug391568.xhtml
+++ /dev/null
@@ -1,77 +0,0 @@
-<?xml version="1.0"?>
-<html xmlns="http://www.w3.org/1999/xhtml" xmlns:xbl="http://www.mozilla.org/xbl">
-<!--
-https://bugzilla.mozilla.org/show_bug.cgi?id=391568
--->
-<head>
-  <title>Test for Bug 391568</title>
-  <script src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
-  <link rel="stylesheet" type="text/css" href="chrome://mochikit/content/tests/SimpleTest/test.css"/>
-  <script>
-    var constructorFired = 0;
-  </script>
-  <xbl:bindings>
-    <xbl:binding id="test">
-      <xbl:content><span>
-        (anonumous content)
-        <span><xbl:children/></span>
-        (anonumous content)</span>
-      </xbl:content>
-  
-      <xbl:implementation>
-        <xbl:constructor>
-          var win = window;
-          ++win.constructorFired;
-          document.getAnonymousNodes(this)[0].addEventListener(
-            "DOMCharacterDataModified", 
-            function(evt) {
-              ++win.characterdatamodified;
-            },
-            true);
-        </xbl:constructor>
-      </xbl:implementation>
-    </xbl:binding>
-  </xbl:bindings>
-</head>
-<body>
-<a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=391568">Mozilla Bug 391568</a>
-<p id="display"></p>
-<div id="content">
-  <span style="-moz-binding: url(#test);"><span id="real1">(real content)</span></span>
-  <span style="-moz-binding: url(#test);"><span id="real2">(real content)</span></span>
-</div>
-<pre id="test">
-<script class="testbody" type="text/javascript">
-<![CDATA[
-
-/** Test for Bug 391568 **/
-
-var characterdatamodified = 0;
-
-document.getElementById('real1').addEventListener(
-  "DOMCharacterDataModified", 
-  function(evt) {},
-  true);
-
-function testListeners() {
-  if (constructorFired < 2) {
-    setTimeout(testListeners, 0);
-    return;
-  }
-  document.getElementById('real1').firstChild.data = "(real content 2)";
-  ok(characterdatamodified == 1,
-     "There is a DOMCharacterDataModified listener in anonymous content which didn't get called (1)!");
-  document.getElementById('real2').firstChild.data = "(real content 2)";
-  ok(characterdatamodified == 2,
-     "There is a DOMCharacterDataModified listener in anonymous content which didn't get called (2)!");
-  SimpleTest.finish();
-}
-
-SimpleTest.waitForExplicitFinish();
-addLoadEvent(testListeners);
-]]>
-</script>
-</pre>
-</body>
-</html>
-
diff --git a/dom/html/crashtests/465466-1.xhtml b/dom/html/crashtests/465466-1.xhtml
deleted file mode 100644
--- a/dom/html/crashtests/465466-1.xhtml
+++ /dev/null
@@ -1,23 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml">
-<head>
-
-<bindings xmlns="http://www.mozilla.org/xbl"><binding id="u">
-<content><foopy><children xmlns="http://www.mozilla.org/xbl"/></foopy></content>
-</binding></bindings>
-
-
-<script type="text/javascript">
-
-function boom()
-{
-  var f = document.getElementById("f");
-  var anon = SpecialPowers.unwrap(SpecialPowers.wrap(document).getAnonymousNodes(f))[0];
-  document.body.removeChild(f);
-  anon.appendChild(document.createElement("label"));
-}
-
-</script>
-</head>
-
-<body onload="boom();"><form id="f" style="-moz-binding: url(#u);"><label></label></form></body>
-</html>
diff --git a/dom/html/crashtests/564461.xhtml b/dom/html/crashtests/564461.xhtml
deleted file mode 100644
--- a/dom/html/crashtests/564461.xhtml
+++ /dev/null
@@ -1,26 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml">
-<head>
-
-
-<bindings xmlns="http://www.mozilla.org/xbl">
-  <binding id="editable"><content><div contenteditable="true" xmlns="http://www.w3.org/1999/xhtml"></div></content></binding>
-</bindings>
-
-<script type="text/javascript">
-<![CDATA[
-
-function boom()
-{
-  while (document.documentElement.firstChild) document.documentElement.firstChild.remove();
-  
-  document.addEventListener("DOMSubtreeModified", function(){});
-  document.addEventListener("DOMNodeInsertedIntoDocument", function(){});
-  document.documentElement.appendChild(document.createElementNS("http://www.w3.org/1999/xhtml", "body"));
-  document.body.style.MozBinding = 'url(#editable)';
-}
-
-]]>
-</script></head>
-
-<body onload="boom();"></body>
-</html>
diff --git a/dom/html/crashtests/680922-1.xul b/dom/html/crashtests/680922-1.xul
deleted file mode 100644
--- a/dom/html/crashtests/680922-1.xul
+++ /dev/null
@@ -1,9 +0,0 @@
-<?xml-stylesheet href="chrome://browser/skin/" type="text/css"?>
-<window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul" xmlns:html="http://www.w3.org/1999/xhtml">
-
-<box id="e">
-<box id="b" name="e" style="-moz-binding:url(680922-binding.xml#xbl);">
-</box>
-</box>
-
-</window>
diff --git a/dom/html/crashtests/crashtests.list b/dom/html/crashtests/crashtests.list
--- a/dom/html/crashtests/crashtests.list
+++ b/dom/html/crashtests/crashtests.list
@@ -14,26 +14,24 @@ load 388183-1.html
 load 395340-1.html
 load 399694-1.html
 load 407053.html
 load 423371-1.html
 load 448564.html
 load 451123-1.html
 load 453406-1.html
 load 464197-1.html
-skip-if(!xbl) load 465466-1.xhtml
 load 468562-1.html
 load 468562-2.html
 load 494225.html
 load 495543.svg
 load 495546-1.html
 load 504183-1.html
 load 515829-1.html
 load 515829-2.html
-skip-if(!xbl) load 564461.xhtml
 load 570566-1.html
 load 571428-1.html
 load 580507-1.xhtml
 load 590387.html
 load 596785-1.html
 load 596785-2.html
 load 601422.html
 load 602117.html
@@ -42,17 +40,16 @@ load 605264.html
 load 606430-1.html
 load 613027.html
 load 614279.html
 load 614988-1.html
 load 620078-1.html
 load 620078-2.html
 load 631421.html
 load 673853.html
-skip-if(!xbl) load chrome://reftest/content/crashtests/dom/html/crashtests/680922-1.xul
 load 682058.xhtml
 load 682460.html
 load 738744.xhtml
 load 741218.json
 load 741250.xhtml
 load 768344.html
 load 795221-1.html
 load 795221-2.html
diff --git a/dom/smil/crashtests/537157-1.svg b/dom/smil/crashtests/537157-1.svg
deleted file mode 100644
--- a/dom/smil/crashtests/537157-1.svg
+++ /dev/null
@@ -1,11 +0,0 @@
-<svg xmlns="http://www.w3.org/2000/svg" style="-moz-binding:url(#xbl)">
-<bindings xmlns="http://www.mozilla.org/xbl">
-<binding id="xbl" inheritstyle="false">
-<content>
-<svg xmlns="http://www.w3.org/2000/svg">
-<animate attributeName="font-size"/>
-</svg>
-</content>
-</binding>
-</bindings>
-</svg>
diff --git a/dom/smil/crashtests/554202-1.svg b/dom/smil/crashtests/554202-1.svg
deleted file mode 100644
--- a/dom/smil/crashtests/554202-1.svg
+++ /dev/null
@@ -1,31 +0,0 @@
-<?xml version="1.0" encoding="UTF-8"?>
-<svg xmlns="http://www.w3.org/2000/svg">
-
-<bindings xmlns="http://www.mozilla.org/xbl">
-  <binding id="foo">
-    <content>
-      <animate xmlns="http://www.w3.org/2000/svg" begin="a.begin">
-        <children xmlns="http://www.mozilla.org/xbl"/>
-      </animate>
-    </content>
-  </binding>
-</bindings>
-
-<animate id="a" begin="b.begin; 3s"/>
-<animate id="b" begin="a.begin"/>
-
-<script type="text/javascript">
-
-function boom()
-{
-  document.documentElement.pauseAnimations();
-  document.documentElement.setCurrentTime(0);
-  document.getElementById('a').beginElementAt(1);
-  document.documentElement.style.MozBinding = 'url(#foo)';
-}
-
-window.addEventListener("load", boom, false);
-
-</script>
-
-</svg>
diff --git a/dom/smil/crashtests/crashtests.list b/dom/smil/crashtests/crashtests.list
--- a/dom/smil/crashtests/crashtests.list
+++ b/dom/smil/crashtests/crashtests.list
@@ -2,23 +2,21 @@ load 483584-1.svg
 load 483584-2.svg
 load 523188-1.svg
 load 525099-1.svg
 load 526536-1.svg
 load 526875-1.svg
 load 526875-2.svg
 load 529387-1.xhtml
 load 531550-1.svg
-skip-if(!xbl) load 537157-1.svg
 load 541297-1.svg
 load 547333-1.svg
 load 548899-1.svg
 load 551620-1.svg
 load 554141-1.svg
-skip-if(!xbl) load 554202-1.svg
 load 554202-2.svg
 load 555026-1.svg
 load 556841-1.svg
 load 572938-1.svg
 load 572938-2.svg
 load 572938-3.svg
 load 572938-4.svg
 load 588287-1.svg
diff --git a/dom/tests/mochitest/chrome/chrome.ini b/dom/tests/mochitest/chrome/chrome.ini
--- a/dom/tests/mochitest/chrome/chrome.ini
+++ b/dom/tests/mochitest/chrome/chrome.ini
@@ -53,18 +53,16 @@ skip-if = os != 'mac' || os_version == '
 [test_callback_wrapping.xul]
 [test_clonewrapper.xul]
 [test_cyclecollector.xul]
 [test_docshell_swap.xul]
 [test_elements_proto.xul]
 [test_focus.xul]
 skip-if = os == 'linux' && !debug # bug 1296622
 [test_focus_docnav.xul]
-[test_focus_switchbinding.xul]
-skip-if = !xbl
 [test_focused_link_scroll.xul]
 [test_fullscreen.xul]
 tags = fullscreen
 # disabled on linux for timeouts--bug-867745
 skip-if = os == 'linux'
 [test_geolocation.xul]
 [test_getTransformTo.html]
 [test_indexedSetter.html]
diff --git a/dom/tests/mochitest/chrome/test_focus_switchbinding.xul b/dom/tests/mochitest/chrome/test_focus_switchbinding.xul
deleted file mode 100644
--- a/dom/tests/mochitest/chrome/test_focus_switchbinding.xul
+++ /dev/null
@@ -1,56 +0,0 @@
-<?xml version="1.0"?>
-<?xml-stylesheet href="chrome://global/skin" type="text/css"?>
-<?xml-stylesheet href="chrome://mochikit/content/tests/SimpleTest/test.css" type="text/css"?>
-
-<window title="Focus Switch Binding Test"
-        xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
-
-  <script src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"/>
-
-<script>
-SimpleTest.waitForExplicitFinish();
-
-function switchBinding()
-{
-  $("box").style.MozBinding = "url(#second)";
-}
-</script>
-
-<xbl:bindings xmlns:xbl="http://www.mozilla.org/xbl"
-              xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
-  <xbl:binding id="first">
-    <xbl:content>
-      <xul:button label="First"/>
-    </xbl:content>
-    <xbl:implementation>
-      <xbl:constructor>
-        document.getAnonymousNodes(this)[0].focus();
-        setTimeout(switchBinding, 0);
-      </xbl:constructor>
-    </xbl:implementation>
-  </xbl:binding>
-  <xbl:binding id="second">
-    <xbl:content>
-      <xul:button label="Second"/>
-    </xbl:content>
-    <xbl:implementation>
-      <xbl:constructor>
-        $("after").focus();
-      </xbl:constructor>
-    </xbl:implementation>
-  </xbl:binding>
-</xbl:bindings>
-
-<box id="box" style="-moz-binding: url(#first)"/>
-<button id="after" label="After" onfocus="is(document.activeElement, $('after'), 'focus set'); SimpleTest.finish()"/>
-
-<body xmlns="http://www.w3.org/1999/xhtml">
-<p id="display">
-</p>
-<div id="content" style="display: none">
-</div>
-<pre id="test">
-</pre>
-</body>
-
-</window>
diff --git a/dom/xbl/crashtests/1382357.xhtml b/dom/xbl/crashtests/1382357.xhtml
deleted file mode 100644
--- a/dom/xbl/crashtests/1382357.xhtml
+++ /dev/null
@@ -1,36 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml" class="reftest-wait">
-<head>
-
-<bindings xmlns="http://www.mozilla.org/xbl">
-  <binding id="foo"><content><span xmlns="http://www.w3.org/1999/xhtml"/></content></binding>
-</bindings>
-
-<script type="text/javascript">
-// <![CDATA[
-
-function boom()
-{
-  // Apply an invalid binding, and wait two ticks of the refresh driver for the async load.
-  var d = document.getElementById("d");
-  d.style.MozBinding = "url(#bar)";
-  requestAnimationFrame(function() {
-  requestAnimationFrame(function() {
-    // Trigger the InnerText getter.
-    document.getElementById("s").innerText;
-    document.documentElement.removeAttribute("class");
-  });
-  });
-}
-
-]]>
-</script>
-</head>
-
-<body onload="boom();">
-
-<div id="d">
-    <span id="s">SpanText</span>
-</div>
-
-</body>
-</html>
diff --git a/dom/xbl/crashtests/205735-1.xhtml b/dom/xbl/crashtests/205735-1.xhtml
deleted file mode 100644
--- a/dom/xbl/crashtests/205735-1.xhtml
+++ /dev/null
@@ -1,27 +0,0 @@
-<?xml version="1.0"?>
-<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
-    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
-<html xmlns="http://www.w3.org/1999/xhtml">
-<head>
-<title>Bug 205735</title>
-<xbl:bindings xmlns:xbl="http://www.mozilla.org/xbl" xmlns="http://www.mozilla.org/xbl">
-<binding id="rd">
-<xbl:content xmlns="http://www.w3.org/1999/xhtml" xmlns:xbl="http://www.mozilla.org/xbl"><div><div>binding content<xbl:children/></div></div></xbl:content>
-  <implementation>
-    <constructor>
-    <![CDATA[
-  var x=document.getAnonymousNodes(this)[0];
-  x.removeChild(x.childNodes[0]);
-    ]]>
-    </constructor>  
-  </implementation>
-</binding>
-</xbl:bindings>
-<style type="text/css">
-.chapter{-moz-binding:url(#rd);}
-</style>
-</head>
-<body>
-<div class="chapter">test</div>
-</body>
-</html>
diff --git a/dom/xbl/crashtests/223799-1.xul b/dom/xbl/crashtests/223799-1.xul
deleted file mode 100644
--- a/dom/xbl/crashtests/223799-1.xul
+++ /dev/null
@@ -1,27 +0,0 @@
-<?xml version="1.0"?>
-<?xml-stylesheet href="chrome://global/skin/" type="text/css"?>
-<window
-  xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
-  xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
-  xmlns:html="http://www.w3.org/1999/xhtml"
-  >
-  <bindings xmlns="http://www.mozilla.org/xbl">
-    <binding id="foo">
-      <content><xul:box><xul:box><children/></xul:box></xul:box></content>
-    </binding>
-      <implementation>
-        <field name="box">document.getAnonymousNodes(this)[0]</field>
-      </implementation>
-  </bindings>
-  <html:style type="text/css">
-  <!-- CSS style rules for XBL bindings go here -->
-  <![CDATA[
-foo {
-  -moz-binding: url("#foo");
-}
-  ]]>
-  </html:style>
-  <!-- XUL application goes here -->
-
-  <foo><description>World</description></foo>
-</window>
diff --git a/dom/xbl/crashtests/226744-1.xhtml b/dom/xbl/crashtests/226744-1.xhtml
deleted file mode 100644
--- a/dom/xbl/crashtests/226744-1.xhtml
+++ /dev/null
@@ -1,35 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<html xmlns="http://www.w3.org/1999/xhtml"
-    xmlns:html="http://www.w3.org/1999/xhtml"
-    xmlns:xbl="http://www.mozilla.org/xbl">
-
-    <xbl:bindings>
-        <xbl:binding id="rd">
-				<xbl:resources>
-<xbl:stylesheet src="data:text/html;charset=utf-8,"/>
-</xbl:resources>
-            <xbl:content>
-<xbl:children/>
-            </xbl:content>
-        </xbl:binding>
-
-    </xbl:bindings>
-
-    <head>
-        <title>testcase bug ?</title>
-        
-        <style type="text/css">
-        .hoofdstuk {
-            -moz-binding: url(#rd);
-        }
-        </style>
-    </head>
-    
-    <body>    
-<div class="hoofdstuk">test
-</div>
-<div class="hoofdstuk">test
-</div>
-    </body>
-
-</html>
diff --git a/dom/xbl/crashtests/232095-1.xul b/dom/xbl/crashtests/232095-1.xul
deleted file mode 100644
--- a/dom/xbl/crashtests/232095-1.xul
+++ /dev/null
@@ -1,44 +0,0 @@
-<?xml version="1.0"?>
-<?xml-stylesheet href="chrome://global/skin/" type="text/css"?>
-<window
-  xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
-  xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
-  xmlns:xbl="http://www.mozilla.org/xbl"
-  xmlns:html="http://www.w3.org/1999/xhtml"
-  >
-<bindings xmlns="http://www.mozilla.org/xbl">
-  <binding id="serverpost_base">
-    <implementation>
-      <method name="getSuccessfulControls">
-        <parameter name="aNode"/>
-        <body><![CDATA[
-          dump("<html:input type="file"/> has not been tested yet!  This may not work!!!\n");
-        ]]></body>
-      </method>
-
-      <method name='finalizeAndSubmit'>
-        <body>
-	  return true;
-        </body>
-      </method>
-    </implementation>
-  </binding>
-</bindings>
-
-  <html:style type="text/css"><![CDATA[
-  @namespace xbl url("http://www.mozilla.org/xbl");
-  @namespace xul url("http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul");
-
-  xbl|bindings {
-    display: none;
-  }
-
-  xul|serverpost {
-    -moz-binding: url("#serverpost_base");
-  }
-
-  ]]></html:style>
-
-  <serverpost/>
-  <serverpost/>
-</window>
diff --git a/dom/xbl/crashtests/277523-1.xhtml b/dom/xbl/crashtests/277523-1.xhtml
deleted file mode 100644
--- a/dom/xbl/crashtests/277523-1.xhtml
+++ /dev/null
@@ -1,24 +0,0 @@
-<?xml version="1.0"?>
-<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
-    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
-<html xmlns="http://www.w3.org/1999/xhtml" xmlns:xbl="http://www.mozilla.org/xbl">
-<head>
-<title>Testcase bug 277208 - appendChild to a hidden box from a binding crashes</title>
-
-<xbl:bindings><xbl:binding id="crash"><xbl:content>
-<span style="display:none"><xbl:children includes="span"/></span>
-</xbl:content></xbl:binding></xbl:bindings>
-
-<style type="text/css">
-#test{-moz-binding:url(#crash);}
-</style>
-</head>
-<body onload="init()">
-<span id="test"></span>
-<script>
-function init(){
-         document.getElementById('test').appendChild(document.createElement('span'));
-}
-</script>
-</body>
-</html>
diff --git a/dom/xbl/crashtests/277950-1.xhtml b/dom/xbl/crashtests/277950-1.xhtml
deleted file mode 100644
--- a/dom/xbl/crashtests/277950-1.xhtml
+++ /dev/null
@@ -1,20 +0,0 @@
-<?xml version="1.0"?>
-<html xmlns="http://www.w3.org/1999/xhtml">
-<head>
-<title>Testcase</title>
-<xbl:bindings xmlns="http://www.mozilla.org/xbl"
-  xmlns:xbl="http://www.mozilla.org/xbl">
-  <binding id="test">
-    <implementation>
-      <property/>
-    </implementation>
-  </binding>
-</xbl:bindings>
-<style type="text/css">
-  p{ -moz-binding: url(#test); }
-</style>
-</head>
-<body>
-<p></p>
-</body>
-</html>
diff --git a/dom/xbl/crashtests/336744-1-inner.html b/dom/xbl/crashtests/336744-1-inner.html
deleted file mode 100644
--- a/dom/xbl/crashtests/336744-1-inner.html
+++ /dev/null
@@ -1,6 +0,0 @@
-<html><head>
-<title>Testcase bug 336744 - Crash when window gets destroyed during popuphiding event</title>
-</head><body>
-This should not crash Mozilla within 1 second<br>
-<iframe src="data:application/vnd.mozilla.xul+xml;charset=utf-8,%3C%3Fxml%20version%3D%221.0%22%3F%3E%0A%3C%3Fxml-stylesheet%20href%3D%22chrome%3A//global/skin%22%20type%3D%22text/css%22%3F%3E%0A%0A%3Cwindow%20xmlns%3Ahtml%3D%22http%3A//www.w3.org/1999/xhtml%22%0A%20%20%20%20%20%20%20%20xmlns%3D%22http%3A//www.mozilla.org/keymaster/gatekeeper/there.is.only.xul%22%3E%0A%3Chtml%3Ascript%3E%0Adocument.addEventListener%28%22popuphiding%22%2C%20doe%2C%20true%29%3B%0Afunction%20doe%28e%29%20%7B%0Avar%20x%3D%20parent.document.getElementsByTagName%28%27iframe%27%29%5B0%5D%3B%0Ax.parentNode.removeChild%28x%29%3B%0A%7D%0AsetTimeout%28function%28%29%20%7B%20document.getElementsByTagName%28%22menupopup%22%29%5B0%5D.showPopup%28%29%3B%20%7D%2C%20800%29%3B%0AsetTimeout%28function%28%29%20%7B%20document.getElementsByTagName%28%22menupopup%22%29%5B0%5D.hidePopup%28%29%3B%20%7D%2C%201000%29%3B%0A%3C/html%3Ascript%3E%0A%3Cscript%3E%0A%0A%3C/script%3E%0A%3Cmenupopup%3E%0A%20%20%3Cmenuitem%20label%3D%22One%22/%3E%0A%3C/menupopup%3E%0A%3C/window%3E%0A"></iframe>
-</body></html>
\ No newline at end of file
diff --git a/dom/xbl/crashtests/336744-1.html b/dom/xbl/crashtests/336744-1.html
deleted file mode 100644
--- a/dom/xbl/crashtests/336744-1.html
+++ /dev/null
@@ -1,9 +0,0 @@
-<html class="reftest-wait">
-<head>
-<script>
-setTimeout('document.documentElement.className = ""', 1000);
-</script>
-<body>
-<iframe src="336744-1-inner.html"></iframe>
-</body>
-</html>
diff --git a/dom/xbl/crashtests/336960-1-inner.xhtml b/dom/xbl/crashtests/336960-1-inner.xhtml
deleted file mode 100644
--- a/dom/xbl/crashtests/336960-1-inner.xhtml
+++ /dev/null
@@ -1,29 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml">
-<head>
-  <script>
-    var x=document.createElementNS('http://www.w3.org/1999/xhtml','style');
-    document.documentElement.appendChild(x);
-    function doe(){
-      var y=document.getElementsByTagName('style')[0];
-    }
-    setTimeout(doe,500);
-  </script>
-
-  <style>
-  style {-moz-binding:url(#randomxbl);}
-  </style>
-
-  <bindings xmlns="http://www.mozilla.org/xbl">
-    <binding id="randomxbl">
-      <implementation>
-        <constructor>
-          var x= parent.document.getElementsByTagName('iframe')[0];
-x.parentNode.removeChild(x);
-        </constructor>
-      </implementation>
-    </binding>
-  </bindings>
-</head>
-<body>
-</body>
-</html>
diff --git a/dom/xbl/crashtests/336960-1.html b/dom/xbl/crashtests/336960-1.html
deleted file mode 100644
--- a/dom/xbl/crashtests/336960-1.html
+++ /dev/null
@@ -1,13 +0,0 @@
-<html class="reftest-wait">
-<head>
-
-<title>Testcase bug 336960 - Crash when window gets destroyed when constructor of xbl is running</title>
-<script>
-setTimeout('document.documentElement.className = ""', 500);
-</script>
-</head><body>
-This page should not crash Mozilla, you should see no iframe<br>
-<iframe src="./336960-1-inner.xhtml"></iframe>
-
-</body>
-</html>
\ No newline at end of file
diff --git a/dom/xbl/crashtests/342954-1.xhtml b/dom/xbl/crashtests/342954-1.xhtml
deleted file mode 100644
--- a/dom/xbl/crashtests/342954-1.xhtml
+++ /dev/null
@@ -1,46 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml" xmlns:xbl="http://www.mozilla.org/xbl">
-
-
-<head>
-
-<script>
-<![CDATA[
-
-function boo()
-{
-  s1 = document.getElementById("s1");  
-  marq = document.getElementById("marq");
-  marqAnonymousSomething = document.getAnonymousNodes(marq)[0].childNodes[0];
-
-  removeNode(marqAnonymousSomething);
-  s1.appendChild(document.createElement("div"));
-}
-
-function removeNode(q1) { q1.remove(); }
-
-]]>
-</script>
-
-<xbl:bindings id="marqueeBindings">
-  <xbl:binding id="marquee-horizontal-12">
-    <xbl:content>
-      <div>
-        <xbl:children/>
-      </div>
-    </xbl:content>
-  </xbl:binding>
-</xbl:bindings>
-
-</head>
-
-
-<body onload="boo()">
-
-<span id="s1">Span</span>
-
-<div id="marq" style="-moz-binding: url('#marquee-horizontal-12');">Marquee</div>
-
-</body>
-
-
-</html>
diff --git a/dom/xbl/crashtests/342954-2-xbl.xml b/dom/xbl/crashtests/342954-2-xbl.xml
deleted file mode 100644
--- a/dom/xbl/crashtests/342954-2-xbl.xml
+++ /dev/null
@@ -1,19 +0,0 @@
-<?xml version="1.0"?>
-
-<bindings id="marqueeBindings"
-          xmlns="http://www.mozilla.org/xbl"
-          xmlns:html="http://www.w3.org/1999/xhtml"
-          xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
-          xmlns:xbl="http://www.mozilla.org/xbl">
-
-  <binding id="marquee-horizontal-10">
-
-    <content>
-      <html:div>
-        <children/>
-      </html:div>
-    </content>
-
-  </binding>
-
-</bindings>
diff --git a/dom/xbl/crashtests/342954-2.xhtml b/dom/xbl/crashtests/342954-2.xhtml
deleted file mode 100644
--- a/dom/xbl/crashtests/342954-2.xhtml
+++ /dev/null
@@ -1,29 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml">
-<head>
-<script>
-<![CDATA[
-
-function boo()
-{
-  s1 = document.getElementById("s1");  
-  marq = document.getElementById("marq");
-  marqAnonymousSomething = document.getAnonymousNodes(marq)[0].childNodes[0];
-
-  removeNode(marqAnonymousSomething);
-  s1.appendChild(document.createElement("div"));
-}
-
-function removeNode(q1) { q1.remove(); }
-
-]]>
-</script>
-</head>
-
-<body onload="boo()">
-
-<span id="s1">Span</span>
-
-<div id="marq" style="-moz-binding: url('342954-2-xbl.xml#marquee-horizontal-10');">Marquee</div>
-
-</body>
-</html>
diff --git a/dom/xbl/crashtests/368276-1.xhtml b/dom/xbl/crashtests/368276-1.xhtml
deleted file mode 100644
--- a/dom/xbl/crashtests/368276-1.xhtml
+++ /dev/null
@@ -1,33 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml"
-      xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
-      class="reftest-wait">
-
-<head>
-<script>
-
-function boom()
-{
-  var quote = document.getElementById("quote");
-  var para = document.getElementById("para");
-  var dialog = document.getElementById("dialog");
-  var e = document.getElementById("e");
-
-  dialog.appendChild(quote);
-  e.insertBefore(quote, para);
-  
-  document.documentElement.removeAttribute("class");
-}
-
-</script>
-</head>
-
-<body onload="setTimeout(boom, 30)">
-
-<p>He said <q id="quote">J<xul:hbox/></q></p>
-
-<xul:dialog id="dialog"/>
-
-<div id="e"><p id="para">Foopy</p></div>
-
-</body>
-</html>
diff --git a/dom/xbl/crashtests/368641-1.xhtml b/dom/xbl/crashtests/368641-1.xhtml
deleted file mode 100644
--- a/dom/xbl/crashtests/368641-1.xhtml
+++ /dev/null
@@ -1,22 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml"
-      xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
-
-<head>
-<script>
-
-function boom()
-{
-  var yaz = document.getElementById("yaz");
-
-  document.body.appendChild(yaz);
-}
-
-</script>
-</head>
-
-<body onload="boom()">
-  
-  <xul:tabs><span id="yaz"><xul:hbox><xul:popup/><xul:template/></xul:hbox></span></xul:tabs>
-</body>
-
-</html>
diff --git a/dom/xbl/crashtests/378521-1.xhtml b/dom/xbl/crashtests/378521-1.xhtml
deleted file mode 100644
--- a/dom/xbl/crashtests/378521-1.xhtml
+++ /dev/null
@@ -1,18 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml" xmlns:html="http://www.w3.org/1999/xhtml">
-<head>
-<bindings xmlns="http://www.mozilla.org/xbl">
-  <binding id="foo" extends="html:input">
-    <content>
-      Foo?
-      <children/>
-    </content>
-  </binding>
-</bindings>
-</head>
-
-<body>
-<div>Hi!</div>
-<div style="-moz-binding: url(#foo)">XXX</div>
-</body>
-
-</html>
\ No newline at end of file
diff --git a/dom/xbl/crashtests/382376-1.xhtml b/dom/xbl/crashtests/382376-1.xhtml
deleted file mode 100644
--- a/dom/xbl/crashtests/382376-1.xhtml
+++ /dev/null
@@ -1,37 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml" class="reftest-wait">
-<head>
-<script>
-
-function boom1()
-{
-  var c = document.getElementById("c");
-  c.style.MozBinding = "url('#foo')";
-  
-  setTimeout(boom2, 30);
-}
-
-function boom2()
-{
-  var v = document.getElementById("v");
-  v.parentNode.removeChild(v);
-  document.documentElement.removeAttribute("class");
-}
-
-</script>
-
-<bindings xmlns="http://www.mozilla.org/xbl"><binding id="foo">
-  <content>x x x x x <children/></content>
-</binding></bindings>
-
-</head>
-
-<body style="font-family: monospace; width: 10ch;" onload="setTimeout(boom1, 30);">
-
-<div style="background: lightblue; border: 1px solid blue; margin-bottom: 1em;">
-  <span id="c">y y<span id="v">Z<div/></span></span>
-</div>
-
-<div style="background: lightgreen; border: 1px solid green; height: 2000px;">s</div>
-
-</body>
-</html>
diff --git a/dom/xbl/crashtests/382376-2.xhtml b/dom/xbl/crashtests/382376-2.xhtml
deleted file mode 100644
--- a/dom/xbl/crashtests/382376-2.xhtml
+++ /dev/null
@@ -1,27 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml" class="reftest-wait">
-<head>
-<script>
-
-function boom()
-{
-  var v = document.getElementById("v");
-  v.parentNode.removeChild(v);
-  document.documentElement.removeAttribute("class");
-}
-
-</script>
-
-<bindings xmlns="http://www.mozilla.org/xbl"><binding id="foo">
-  <content>x x x x x <children/></content>
-</binding></bindings>
-
-</head>
-
-<body onload="setTimeout(boom, 30);">
-
-<div style="background: lightblue; border: 1px solid blue; width: 300px">
-  <span style="-moz-binding: url(#foo);" >y y<span id="v">Z<div/></span></span>
-</div>
-
-</body>
-</html>
diff --git a/dom/xbl/crashtests/397596-1.xhtml b/dom/xbl/crashtests/397596-1.xhtml
deleted file mode 100644
--- a/dom/xbl/crashtests/397596-1.xhtml
+++ /dev/null
@@ -1,29 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml">
-<head>
-<title>Testcase bug - 100% cpu usage with binding setting position: fixed in constructor</title>
-
-<bindings xmlns="http://www.mozilla.org/xbl">
-<binding id="b" inheritstyle="false">
-<content>
-<div xmlns="http://www.w3.org/1999/xhtml" style=" -moz-binding: url(#a);"/>
-<children/>
-</content>
-</binding>
-
-<binding id="a">
-<implementation>
-<constructor>
-  this.style.position='fixed';
-</constructor>
-</implementation>
-<content>
-<children xmlns="http://www.mozilla.org/xbl"/>
-</content>
-</binding>
-</bindings>
-
-</head>
-<body>
-<span style="-moz-binding:url();"></span>
-</body>
-</html>
\ No newline at end of file
diff --git a/dom/xbl/crashtests/406900-1.xul b/dom/xbl/crashtests/406900-1.xul
deleted file mode 100644
--- a/dom/xbl/crashtests/406900-1.xul
+++ /dev/null
@@ -1,33 +0,0 @@
-<?xml version="1.0"?>
-<?xml-stylesheet href="chrome://global/skin/" type="text/css"?>
-<window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
-        xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
-        onload="boom();">
-
-<bindings xmlns="http://www.mozilla.org/xbl">
-  <binding id="lit">
-    <content>
-      <children>
-        <xul:hbox/>
-      </children>
-    </content>
-  </binding>
-</bindings>
-
-<script type="text/javascript"> 
-
-function boom()
-{
-  var x = document.getElementById("x");
-  var anon = document.getAnonymousNodes(x)[0];
-  document.documentElement.removeChild(x);
-  document.documentElement.appendChild(x);
-  var hbox = document.createXULElement('hbox');
-  anon.appendChild(hbox);
-}
-
-</script>
-
-<hbox id="x" style="-moz-binding: url(#lit)" />
-
-</window>
diff --git a/dom/xbl/crashtests/406904-1.xhtml b/dom/xbl/crashtests/406904-1.xhtml
deleted file mode 100644
--- a/dom/xbl/crashtests/406904-1.xhtml
+++ /dev/null
@@ -1,25 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml" xmlns:xbl="http://www.mozilla.org/xbl">
-<head>
-
-<xbl:bindings xmlns="http://www.mozilla.org/xbl"><xbl:binding id="a"><xbl:content>
-<span>foo<xbl:children/></span>
-</xbl:content></xbl:binding></xbl:bindings>
-
-<script type="text/javascript">
-
-function boom()
-{
-  var s = document.getElementById("s");
-  var anon = document.getAnonymousNodes(s)[0];
-
-  while (anon.firstChild)
-    anon.removeChild(anon.firstChild);
-
-  document.documentElement.style.MozBinding = "url('data:text/xml,%3Cbindings%20xmlns%3D%22http%3A%2F%2Fwww.mozilla.org%2Fxbl%22%3E%3Cbinding%20id%3D%22foo%22%3E%3Ccontent%3EQ%3C%2Fcontent%3E%3C%2Fbinding%3E%3C%2Fbindings%3E%0A')";
-}
-
-</script>
-</head>
-
-<body onload="boom();"><span id="s" style="-moz-binding: url('#a');"></span></body>
-</html>
diff --git a/dom/xbl/crashtests/406904-2.xhtml b/dom/xbl/crashtests/406904-2.xhtml
deleted file mode 100644
--- a/dom/xbl/crashtests/406904-2.xhtml
+++ /dev/null
@@ -1,25 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml" xmlns:xbl="http://www.mozilla.org/xbl">
-<head>
-
-<xbl:bindings xmlns="http://www.mozilla.org/xbl"><xbl:binding id="a"><xbl:content>
-<span><span></span><xbl:children/></span>
-</xbl:content></xbl:binding></xbl:bindings>
-
-<script type="text/javascript">
-
-function boom()
-{
-  var s = document.getElementById("s");
-  var anon = document.getAnonymousNodes(s)[0];
-
-  while (anon.firstChild)
-    anon.removeChild(anon.firstChild);
-
-  document.documentElement.style.MozBinding = "url('data:text/xml,%3Cbindings%20xmlns%3D%22http%3A%2F%2Fwww.mozilla.org%2Fxbl%22%3E%3Cbinding%20id%3D%22foo%22%3E%3Ccontent%3EQ%3C%2Fcontent%3E%3C%2Fbinding%3E%3C%2Fbindings%3E%0A')";
-}
-
-</script>
-</head>
-
-<body onload="boom();"><span id="s" style="-moz-binding: url('#a');"></span></body>
-</html>
diff --git a/dom/xbl/crashtests/415192-1.xul b/dom/xbl/crashtests/415192-1.xul
deleted file mode 100644
--- a/dom/xbl/crashtests/415192-1.xul
+++ /dev/null
@@ -1,22 +0,0 @@
-<?xml version="1.0"?>
-<?xml-stylesheet href="chrome://global/skin/global.css"?>
-<window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul" onload="boom();">
-<script type="text/javascript">
-
-function boom()
-{
-  var XUL_NS = "http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul";
-
-  var wizard = document.createElementNS(XUL_NS, "wizard");
-  var space = document.createTextNode(" ");
-  var hbox = document.createElementNS(XUL_NS, "hbox");
-  hbox.setAttribute("anonid", "Buttons");
-
-  document.documentElement.appendChild(wizard);
-  wizard.appendChild(space);
-  wizard.appendChild(hbox);
-  wizard.cloneNode(true);
-}
-
-</script>
-</window>
diff --git a/dom/xbl/crashtests/418133-1.xhtml b/dom/xbl/crashtests/418133-1.xhtml
deleted file mode 100644
--- a/dom/xbl/crashtests/418133-1.xhtml
+++ /dev/null
@@ -1,22 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml"
-      xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
-<head>
-<script type="text/javascript">
-
-function boom()
-{
-  for(var p in document.getElementById("prefs")) {
-  }
-  
-  for(var p in window) {
-  }
-}
-
-</script>
-</head>
-<body onload="boom();">
-
-<xul:preferences id="prefs" />
-
-</body>
-</html>
diff --git a/dom/xbl/crashtests/420233-1.xhtml b/dom/xbl/crashtests/420233-1.xhtml
deleted file mode 100644
--- a/dom/xbl/crashtests/420233-1.xhtml
+++ /dev/null
@@ -1,21 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml" xmlns:html="http://www.w3.org/1999/xhtml">
-<head>
-
-<bindings xmlns="http://www.mozilla.org/xbl">
-  <binding id="ab"><content><html:span>a b<children/></html:span></content></binding>
-  <binding id="empty"><content></content></binding>
-</bindings>
-
-<script type="text/javascript">
-
-function boom()
-{
-  document.getElementById("td").style.MozBinding = "url('#empty')";
-}
-
-</script>
-
-</head>
-
-<body onload="boom();"><div style="width: 1px;"><span style="-moz-binding: url(#ab);"><td id="td"/></span></div></body>
-</html>
diff --git a/dom/xbl/crashtests/421997-1.xhtml b/dom/xbl/crashtests/421997-1.xhtml
deleted file mode 100644
--- a/dom/xbl/crashtests/421997-1.xhtml
+++ /dev/null
@@ -1,27 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml">
-<head>
-
-<bindings xmlns="http://www.mozilla.org/xbl">
-  <binding id="g">
-    <implementation>
-      <constructor>
-        throw 3;
-      </constructor>
-    </implementation>
-  </binding>
-</bindings>
-
-<script type="text/javascript">
-
-function e()
-{
-  var listboxbody = document.createElementNS("http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul", "listboxbody");
-  document.getElementById("s").appendChild(listboxbody);
-}
-
-</script>
-</head>
-
-<body onerror="e();"><span id="s" style="-moz-binding: url(#g)"></span></body>
-
-</html>
diff --git a/dom/xbl/crashtests/432813-1-xbl.xml b/dom/xbl/crashtests/432813-1-xbl.xml
deleted file mode 100644
--- a/dom/xbl/crashtests/432813-1-xbl.xml
+++ /dev/null
@@ -1,7 +0,0 @@
-<bindings xmlns="http://www.mozilla.org/xbl">
-<binding id="a">
-<content>
-<div xmlns="http://www.w3.org/1999/xhtml" style="-moz-binding: inherit;"/>
-</content>
-</binding>
-</bindings>
diff --git a/dom/xbl/crashtests/432813-1.xhtml b/dom/xbl/crashtests/432813-1.xhtml
deleted file mode 100644
--- a/dom/xbl/crashtests/432813-1.xhtml
+++ /dev/null
@@ -1,3 +0,0 @@
-<window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
-  <box style="-moz-binding:url(432813-1-xbl.xml);"/>
-</window>
diff --git a/dom/xbl/crashtests/454820-1.html b/dom/xbl/crashtests/454820-1.html
deleted file mode 100644
--- a/dom/xbl/crashtests/454820-1.html
+++ /dev/null
@@ -1,17 +0,0 @@
-<!DOCTYPE HTML>
-<html><head>
-    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
-    <title>Testcase for bug 454820</title>
-</head>
-<body>
-
-<p>PASS if Firefox does not crash.</p>
-<script type="text/javascript">
-var evObj = document.createEvent('UIEvents');
-evObj.initUIEvent( 'keypress', true, true, window, 1 );
-document.getElementsByTagName('p')[0].dispatchEvent(evObj);
-</script>
-
-
-</body>
-</html>
diff --git a/dom/xbl/crashtests/460665-1.xhtml b/dom/xbl/crashtests/460665-1.xhtml
deleted file mode 100644
--- a/dom/xbl/crashtests/460665-1.xhtml
+++ /dev/null
@@ -1,28 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml">
-<head>
-
-<bindings xmlns="http://www.mozilla.org/xbl">
-  <binding id="a">
-    <content></content>
-    <implementation>
-      <field>t</field>
-      <field/>
-      <property/>
-      <property>
-        <getter>x</getter>
-        <setter>y</setter>
-      </property>
-      <method/>
-      <method>
-        <body/>
-      </method>
-      <method>
-        <body>a</body>
-      </method>
-    </implementation>
-  </binding>
-</bindings>
-</head>
-
-<body><span id="s" style="-moz-binding: url('#a');"></span></body>
-</html>
diff --git a/dom/xbl/crashtests/464863-1.xhtml b/dom/xbl/crashtests/464863-1.xhtml
deleted file mode 100644
--- a/dom/xbl/crashtests/464863-1.xhtml
+++ /dev/null
@@ -1,22 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml">
-<head>
-
-<bindings xmlns="http://www.mozilla.org/xbl"><binding id="foo"><content><qqq><children xmlns="http://www.mozilla.org/xbl"/></qqq></content></binding></bindings>
-
-<script type="text/javascript">
-// <![CDATA[
-
-function boom()
-{
-  var s = document.getElementById("s");
-  var o = document.getAnonymousNodes(s)[0];
-  (document.body).appendChild(s);
-  o.appendChild(document.createTextNode("F"));
-}
-
-// ]]>
-</script>
-</head>
-
-<body onload="boom();"><span id="s" style="-moz-binding: url(#foo)"></span></body>
-</html>
diff --git a/dom/xbl/crashtests/472260-1.xhtml b/dom/xbl/crashtests/472260-1.xhtml
deleted file mode 100644
--- a/dom/xbl/crashtests/472260-1.xhtml
+++ /dev/null
@@ -1,35 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml" class="reftest-wait">
-<head>
-
-<bindings xmlns="http://www.mozilla.org/xbl">
-  <binding id="foo"><content><span xmlns="http://www.w3.org/1999/xhtml"/></content></binding>
-  <binding id="bar"><content></content></binding>
-</bindings>
-
-<script type="text/javascript">
-// <![CDATA[
-
-function boom()
-{
-  var bo = document.getElementById("bo");
-  var anon = SpecialPowers.wrap(document).getAnonymousNodes(bo)[0];
-
-  bo.style.MozBinding = "url(#bar)";
-
-  var fr = document.createElementNS("http://www.w3.org/1999/xhtml", "iframe");
-  fr.setAttribute("src", "javascript:void 0;"); 
-  anon.appendChild(fr);
-  
-  document.documentElement.removeAttribute("class");
-}
-
-]]>
-</script>
-</head>
-
-<body onload="setTimeout(boom, 100);">
-
-<span style="-moz-binding: url(#foo)" id="bo"></span>
-
-</body>
-</html>
diff --git a/dom/xbl/crashtests/477878-1.html b/dom/xbl/crashtests/477878-1.html
deleted file mode 100644
--- a/dom/xbl/crashtests/477878-1.html
+++ /dev/null
@@ -1,4 +0,0 @@
-<html>
-<head></head>
-<body><iframe style="display:none" src="data:text/html,<marquee>Marquee</marquee>" onload="this.style.display = '';"></iframe></body>
-</html>
diff --git a/dom/xbl/crashtests/492978-1.xul b/dom/xbl/crashtests/492978-1.xul
deleted file mode 100644
--- a/dom/xbl/crashtests/492978-1.xul
+++ /dev/null
@@ -1,15 +0,0 @@
-<window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul" xmlns:html="http://www.w3.org/1999/xhtml">
-
-<bindings xmlns="http://www.mozilla.org/xbl">
-<binding id="a" inheritstyle="false">
-<content>
-<style xmlns="http://www.w3.org/1999/xhtml">
-window::after, box::after, bindings::after { content:"m"; float:right;}
-</style>
-</content>
-</binding>
-</bindings>
-
-<box style="-moz-binding:url(crash1.xul);overflow: scroll;"/>
-
-</window>
\ No newline at end of file
diff --git a/dom/xbl/crashtests/493123-1.xhtml b/dom/xbl/crashtests/493123-1.xhtml
deleted file mode 100644
--- a/dom/xbl/crashtests/493123-1.xhtml
+++ /dev/null
@@ -1,34 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml" class="reftest-wait">
-<head>
-
-<bindings xmlns="http://www.mozilla.org/xbl">
-  <binding id="a"><content></content></binding>
-  <binding id="b"><content><style xmlns="http://www.w3.org/1999/xhtml" style="display: none;">* { overflow: hidden; }</style><children xmlns="http://www.mozilla.org/xbl"/></content></binding>
-</bindings>
-
-<script type="text/javascript" style="display: none">
-
-function one()
-{
-  while (document.documentElement.firstChild) document.documentElement.removeChild(document.documentElement.firstChild)
-  document.documentElement.style.MozBinding = 'url("#a")';
-  setTimeout(two, 1);
-}
-
-function two()
-{
-  document.documentElement.style.MozBinding = 'url("#b")';
-  setTimeout(three, 1);
-}
-
-function three()
-{
-  document.documentElement.style.MozBinding = 'url("#a")';
-  document.documentElement.removeAttribute("class");
-}
-
-</script>
-</head>
-
-<body onload="one();"></body>
-</html>
diff --git a/dom/xbl/crashtests/495354-1.xhtml b/dom/xbl/crashtests/495354-1.xhtml
deleted file mode 100644
--- a/dom/xbl/crashtests/495354-1.xhtml
+++ /dev/null
@@ -1,8 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml">
-<head>
-<bindings xmlns="http://www.mozilla.org/xbl"><binding id="x"><content><caption xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"><children xmlns="http://www.mozilla.org/xbl"/></caption></content></binding></bindings>
-</head>
-<body onload="document.getElementById('x').innerHTML = '9';">
-<span id="x" style="-moz-binding: url(#x)"><div></div></span>
-</body>
-</html>
diff --git a/dom/xbl/crashtests/507628-1.xhtml b/dom/xbl/crashtests/507628-1.xhtml
deleted file mode 100644
--- a/dom/xbl/crashtests/507628-1.xhtml
+++ /dev/null
@@ -1,12 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml">
-<bindings xmlns="http://www.mozilla.org/xbl">
-<binding id="b" inheritstyle="false">
-<content>
-<span xmlns="http://www.w3.org/1999/xhtml"/><span xmlns="http://www.w3.org/1999/xhtml"><embed style="display: block;" type="*"/></span>
-</content>
-</binding>
-</bindings>
-
-<div style="-moz-binding:url();"/>
-
-</html>
\ No newline at end of file
diff --git a/dom/xbl/crashtests/507991-1.xhtml b/dom/xbl/crashtests/507991-1.xhtml
deleted file mode 100644
--- a/dom/xbl/crashtests/507991-1.xhtml
+++ /dev/null
@@ -1,18 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml">
-
-<head>
-<title>Crash [@ nsSprocketLayout::PopulateBoxSizes] with object and position:absolute;overflow:scroll in binding</title>
-<bindings xmlns="http://www.mozilla.org/xbl">
-<binding id="a" inheritstyle="false">
-<content>
-<object xmlns="http://www.w3.org/1999/xhtml" style="display: table;"/>
-<div xmlns="http://www.w3.org/1999/xhtml" style="position: absolute;overflow: scroll; "/>
-</content>
-</binding>
-</bindings>
-</head>
-
-<body>
-<span style="-moz-binding:url()"></span>
-</body>
-</html>
\ No newline at end of file
diff --git a/dom/xbl/crashtests/830614-1.xul b/dom/xbl/crashtests/830614-1.xul
deleted file mode 100644
--- a/dom/xbl/crashtests/830614-1.xul
+++ /dev/null
@@ -1,24 +0,0 @@
-<window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
-        onload="document.getElementById('trigger');">
-  <box style="display: none">
-    <bindings xmlns="http://www.mozilla.org/xbl">
-      <binding id="crash">
-        <implementation>
-          <constructor>
-            // Fetch it
-            var obj = this.getElementsByTagName("box")[0];
-            // And make it preserve its wrapper.  Note that this will happen
-            // while we're wrapping our box as the parent for id="trigger",
-            // so then we'll unwind and things will be bad.
-            if (obj) obj.expando = 5;
-          </constructor>
-        </implementation>
-      </binding>
-    </bindings>
-    <box style="-moz-binding:url(#crash);">
-      <box id="trigger"/>
-    </box>
-  </box>
-  <!-- Make sure we load our XBL before we try to run our test -->
-  <box style="-moz-binding:url(#crash);"/>
-</window>
diff --git a/dom/xbl/crashtests/895805-1.xhtml b/dom/xbl/crashtests/895805-1.xhtml
deleted file mode 100644
--- a/dom/xbl/crashtests/895805-1.xhtml
+++ /dev/null
@@ -1,30 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<html xmlns="http://www.w3.org/1999/xhtml"
-      xmlns:xbl="http://www.mozilla.org/xbl">
-<head>
-<title>Bug 895805 - Adopting bound element to another document.</title>
-<xbl:bindings>
-  <xbl:binding id="crash">
-    <xbl:content>
-      <xbl:children />
-      Bug 895805 dummy binding
-    </xbl:content>
-  </xbl:binding>
-</xbl:bindings>
-<style type="text/css">
-#test {
-  -moz-binding:url(#crash);
-}
-</style>
-</head>
-<body onload="init()">
-<span id="test">Test</span>
-<script>
-function init() {
-  var boundElement = document.getElementById('test');
-  var otherDoc = document.implementation.createDocument('', '', null);
-  otherDoc.adoptNode(boundElement);
-}
-</script>
-</body>
-</html>
diff --git a/dom/xbl/crashtests/crashtests.list b/dom/xbl/crashtests/crashtests.list
deleted file mode 100644
--- a/dom/xbl/crashtests/crashtests.list
+++ /dev/null
@@ -1,38 +0,0 @@
-load 205735-1.xhtml
-load chrome://reftest/content/crashtests/dom/xbl/crashtests/223799-1.xul
-load 226744-1.xhtml
-load chrome://reftest/content/crashtests/dom/xbl/crashtests/232095-1.xul
-load 277523-1.xhtml
-load 277950-1.xhtml
-load 336744-1.html
-load 336960-1.html
-load 342954-1.xhtml
-load 342954-2.xhtml
-load 368276-1.xhtml
-load 368641-1.xhtml
-load 378521-1.xhtml
-load 382376-1.xhtml
-load 382376-2.xhtml
-load 397596-1.xhtml
-load chrome://reftest/content/crashtests/dom/xbl/crashtests/406900-1.xul
-load 406904-1.xhtml
-load 406904-2.xhtml
-load chrome://reftest/content/crashtests/dom/xbl/crashtests/415192-1.xul
-load 418133-1.xhtml
-load 420233-1.xhtml
-load 421997-1.xhtml
-load 432813-1.xhtml
-load 454820-1.html
-load 460665-1.xhtml
-load 464863-1.xhtml
-load 472260-1.xhtml
-load 477878-1.html
-load chrome://reftest/content/crashtests/dom/xbl/crashtests/492978-1.xul
-load 493123-1.xhtml
-load 495354-1.xhtml
-load 507628-1.xhtml
-load 507991-1.xhtml
-load chrome://reftest/content/crashtests/dom/xbl/crashtests/830614-1.xul
-load 895805-1.xhtml
-load set-field-bad-this.xhtml
-load 1382357.xhtml
diff --git a/dom/xbl/crashtests/set-field-bad-this.xhtml b/dom/xbl/crashtests/set-field-bad-this.xhtml
deleted file mode 100644
--- a/dom/xbl/crashtests/set-field-bad-this.xhtml
+++ /dev/null
@@ -1,31 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml">
-
-<head>
-  <title>Gracefully handle setting a field on a bad |this|</title>
-
-  <bindings xmlns="http://www.mozilla.org/xbl">
-    <binding id="a">
-      <implementation>
-        <field name="f">17</field>
-      </implementation>
-    </binding>
-  </bindings>
-
-  <script type="application/javascript">
-    window.onload = function()
-    {
-      var bound = document.getElementById("bound");
-      try
-      {
-        Object.getPrototypeOf(bound).f = 42;
-      }
-      catch (e) { /* Throwing's fine, crashing isn't. */ }
-    };
-  </script>
-</head>
-
-<body>
-  <div id="bound" style="-moz-binding: url(#a)"></div>
-</body>
-
-</html>
diff --git a/dom/xslt/tests/mochitest/mochitest.ini b/dom/xslt/tests/mochitest/mochitest.ini
--- a/dom/xslt/tests/mochitest/mochitest.ini
+++ b/dom/xslt/tests/mochitest/mochitest.ini
@@ -1,13 +1,11 @@
 [DEFAULT]
 
 [test_bug1072116.html]
-[test_bug319374.xhtml]
-skip-if = !xbl
 [test_bug427060.html]
 [test_bug440974.html]
 [test_bug453441.html]
 [test_bug468208.html]
 [test_bug511487.html]
 [test_bug551412.html]
 [test_bug551654.html]
 [test_bug566629.html]
diff --git a/dom/xslt/tests/mochitest/test_bug319374.xhtml b/dom/xslt/tests/mochitest/test_bug319374.xhtml
deleted file mode 100644
--- a/dom/xslt/tests/mochitest/test_bug319374.xhtml
+++ /dev/null
@@ -1,109 +0,0 @@
-<?xml version="1.0"?>
-<html xmlns="http://www.w3.org/1999/xhtml"
-      xmlns:xbl="http://www.mozilla.org/xbl">
-<!--
-https://bugzilla.mozilla.org/show_bug.cgi?id=319374
--->
-<head>
-  <title>Test for Bug 319374</title>
-  <script src="/tests/SimpleTest/SimpleTest.js"></script>
-  <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
-  <xbl:bindings>                                  
-    <xbl:binding id="test">
-      <xbl:content>
-        <span attr="attribute"><span></span></span><span> anon text </span><br/>
-      </xbl:content>
-    </xbl:binding>
-  </xbl:bindings>
-</head>
-<body>
-<a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=319374">Mozilla Bug 319374</a>
-<p id="display"></p>
-<div id="content"><span style="-moz-binding: url(#test)"/><span style="-moz-binding: url(#test)"/><span style="-moz-binding: url(#test)"/></div>
-<pre id="test">
-<script class="testbody" type="text/javascript">
-<![CDATA[
-
-/** Test for Bug 319374 **/
-
-  function testChangesInAnonymousTree() {
-    // Test 1: Make sure that modifying anonymous content doesn't 
-    //         cause non-anonymous XPath result to throw exceptions..
-    var counter = 0;
-    var error = null;
-    function getAnonymousNodes(e) {
-      return SpecialPowers.wrap(document).getAnonymousNodes(e);
-    }
-    try {
-      var xp = new XPathEvaluator();
-      var result = xp.evaluate("*",
-                               document.getElementById('content'),
-                               null,
-                               XPathResult.UNORDERED_NODE_ITERATOR_TYPE,
-                               null);
-      var res = null;
-      while (res = result.iterateNext()) {
-        ++counter; 
-        var anon = getAnonymousNodes(res);
-        anon[0].firstChild.remove(); // Removing a child node
-        anon[0].removeAttribute("attr1"); // Removing an attribute
-        anon[1].firstChild.data = "anon text changed" // Modifying text data
-      }
-    } catch (e) {
-      error = e;
-    }
-    ok(!error, error);
-    ok(counter == 3, "XPathEvaluator should have found 3 elements.")
-
-    // Test 2: If the context node is in anonymous content, changing some
-    //         other anonymous tree shouldn't cause XPath result to throw.
-    var anonAttr1 =
-      getAnonymousNodes(document.getElementById('content').
-        firstChild)[0].getAttributeNode('attr');
-    var anonAttr2 =
-      getAnonymousNodes(document.getElementById('content').
-        lastChild)[0].getAttributeNode('attr');
-    var resultAttr = null;
-    try {
-      var xp2 = SpecialPowers.wrap(xp).evaluate(".",
-                            anonAttr1,
-                            null,
-                            XPathResult.UNORDERED_NODE_ITERATOR_TYPE,
-                            null);
-      // Attribute changing in a different anonymous tree.
-      anonAttr2.value = "foo";
-      resultAttr = xp2.iterateNext();
-      ok(SpecialPowers.compare(resultAttr, anonAttr1), "XPathEvaluator returned wrong attribute!")
-    } catch (e) {
-      ok(false, e);
-    }
-
-    // Test 3: If the anonymous tree in which context node is in is modified,
-    //         XPath result should throw when iterateNext() is called.
-    resultAttr = null;
-    try {
-      var xp3 = xp.evaluate(".",
-                            anonAttr1,
-                            null,
-                            XPathResult.UNORDERED_NODE_ITERATOR_TYPE,
-                            null);
-      // Attribute changing in the same anonymous tree.
-      anonAttr1.ownerElement.setAttribute("foo", "bar");
-      resultAttr = xp3.iterateNext();
-      ok(resultAttr == anonAttr1,
-         "XPathEvaluator should have thrown an exception!")
-    } catch (e) {
-      ok(true, e);
-    }
-
-    SimpleTest.finish();
-  }
-
-  SimpleTest.waitForExplicitFinish();
-  addLoadEvent(testChangesInAnonymousTree);
-]]>
-</script>
-</pre>
-</body>
-</html>
-
diff --git a/dom/xul/crashtests/252448-1.xul b/dom/xul/crashtests/252448-1.xul
deleted file mode 100644
--- a/dom/xul/crashtests/252448-1.xul
+++ /dev/null
@@ -1,10 +0,0 @@
-<?xml version="1.0"?>
-<?xml-stylesheet type="text/css" href="chrome://global/skin/"?>
-<window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
-  onload="document.documentElement.firstChild.focus();">
-  <menulist>
-    <menupopup style="-moz-binding: none;">
-      <spacer/>
-    </menupopup>
-  </menulist>
-</window>
diff --git a/dom/xul/crashtests/386947-1.xul b/dom/xul/crashtests/386947-1.xul
deleted file mode 100644
--- a/dom/xul/crashtests/386947-1.xul
+++ /dev/null
@@ -1,12 +0,0 @@
-<?xml version="1.0"?>
-<window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
-        style="background-color: red" onload="boom();">
-        
-<script><![CDATA[
-        
-function boom() {
-  document.documentElement.style.MozBinding = "url('#t')";
-}
-
-]]></script>
-</window>
diff --git a/dom/xul/crashtests/468211-1.xul b/dom/xul/crashtests/468211-1.xul
deleted file mode 100644
--- a/dom/xul/crashtests/468211-1.xul
+++ /dev/null
@@ -1,23 +0,0 @@
-<window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul" style="-moz-binding:url(#xbl2)" class="reftest-wait">
-<tooltip/>
-
-<script id="script" xmlns="http://www.w3.org/1999/xhtml">
-function doe() {
-document.getElementsByTagName('tooltip')[0].setAttribute('style', '-moz-binding:url(#xbl)');
-document.getElementsByTagName('tooltip')[0].setAttribute('onDOMAttrModified', 'this.focus()');
-document.documentElement.removeAttribute("class");
-}
-setTimeout(doe, 1);
-</script>
-
-<bindings xmlns="http://www.mozilla.org/xbl" xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
-<binding id="xbl">
-<content>
-<xul:box onbroadcast="document.documentElement.setAttribute('a','a')" id="g"/>
-<xul:box onDOMAttrModified="document.documentElement.style.display = 'none'" observes="g"/>
-</content>
-</binding>
-
-<binding id="xbl2"></binding>
-</bindings>
-</window>
\ No newline at end of file
diff --git a/dom/xul/crashtests/468211-2-binding.xml b/dom/xul/crashtests/468211-2-binding.xml
deleted file mode 100644
--- a/dom/xul/crashtests/468211-2-binding.xml
+++ /dev/null
@@ -1,12 +0,0 @@
-<bindings xmlns="http://www.mozilla.org/xbl">
-
-<binding id="xbl">
-
-<content>
-<mrow xmlns="http://www.w3.org/1998/Math/MathML" id="f">
-<box observes="f" xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"/>
-</mrow>
-</content>
-
-</binding>
-</bindings>
\ No newline at end of file
diff --git a/dom/xul/crashtests/468211-2.xul b/dom/xul/crashtests/468211-2.xul
deleted file mode 100644
--- a/dom/xul/crashtests/468211-2.xul
+++ /dev/null
@@ -1,10 +0,0 @@
-<?xml-stylesheet href="chrome://browser/skin/" type="text/css"?>
-
-<window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul" xmlns:html="http://www.w3.org/1999/xhtml">
-
-<html:div onDOMAttrModified="this.parentNode.removeChild(this)">
-<html:div/>
-<html:style>div {-moz-binding:url(468211-2-binding.xml#xbl);</html:style>
-</html:div>
-
-</window>
\ No newline at end of file
diff --git a/dom/xul/crashtests/468211-3.xul b/dom/xul/crashtests/468211-3.xul
deleted file mode 100644
--- a/dom/xul/crashtests/468211-3.xul
+++ /dev/null
@@ -1,18 +0,0 @@
-<?xml-stylesheet href="chrome://browser/skin/" type="text/css"?>
-<window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
-<box style="-moz-binding:url(#xbl)"/>
-
-
-<bindings xmlns="http://www.mozilla.org/xbl">
-<binding id="xbl" inheritstyle="false">
-<content>
-<g xmlns="http://www.w3.org/2000/svg" onDOMAttrModified="document.removeChild(document.documentElement)" id="a"/>
-<box xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul" observes="a"/>
-
-<children xmlns="http://www.mozilla.org/xbl"/>
-
-</content>
-</binding>
-</bindings>
-
-</window>
\ No newline at end of file
diff --git a/dom/xul/crashtests/crashtests.list b/dom/xul/crashtests/crashtests.list
--- a/dom/xul/crashtests/crashtests.list
+++ b/dom/xul/crashtests/crashtests.list
@@ -1,24 +1,18 @@
 load 107518-1.xml
-skip-if(!xbl) load chrome://reftest/content/crashtests/dom/xul/crashtests/252448-1.xul
 load chrome://reftest/content/crashtests/dom/xul/crashtests/253479-1.xul
 load chrome://reftest/content/crashtests/dom/xul/crashtests/253479-2.xul
 load chrome://reftest/content/crashtests/dom/xul/crashtests/326204-1.xul
 load 326644-1.html
 load chrome://reftest/content/crashtests/dom/xul/crashtests/326875-1.xul
 load 329982-1.xhtml
 load 336096-1.xhtml
 load chrome://reftest/content/crashtests/dom/xul/crashtests/344215-1.xul
 load 354611-1.html
-skip-if(!xbl) load 360078-1.xhtml
 load chrome://reftest/content/crashtests/dom/xul/crashtests/363791-1.xul
 load chrome://reftest/content/crashtests/dom/xul/crashtests/384740-1.xul
 load 384877-1.html
 load 386914-1.html
-skip-if(!xbl) asserts(1) load chrome://reftest/content/crashtests/dom/xul/crashtests/386947-1.xul
 load chrome://reftest/content/crashtests/dom/xul/crashtests/425821-1.xul
 load chrome://reftest/content/crashtests/dom/xul/crashtests/428951-1.xul
 load 431906-1.html
 load 461917-1.xhtml
-skip-if(!xbl) load chrome://reftest/content/crashtests/dom/xul/crashtests/468211-1.xul
-skip-if(!xbl) load chrome://reftest/content/crashtests/dom/xul/crashtests/468211-2.xul
-skip-if(!xbl) load chrome://reftest/content/crashtests/dom/xul/crashtests/468211-3.xul
diff --git a/dom/xul/test/chrome.ini b/dom/xul/test/chrome.ini
--- a/dom/xul/test/chrome.ini
+++ b/dom/xul/test/chrome.ini
@@ -1,23 +1,19 @@
 [DEFAULT]
 support-files =
   398289-resource.xul
   window_bug583948.xul
   window_bug757137.xul
 
 [test_bug199692.xul]
-[test_bug233643.xul]
-skip-if = !xbl
 [test_bug311681.xul]
 [test_bug391002.xul]
 [test_bug398289.html]
 [test_bug403868.xul]
-[test_bug414907.xul]
-skip-if = !xbl
 [test_bug418216.xul]
 [test_bug445177.xul]
 [test_bug449457.xul]
 [test_bug468176.xul]
 [test_bug583948.xul]
 [test_bug757137.xul]
 [test_bug775972.xul]
 [test_bug1070049_throw_from_script.xul]
diff --git a/dom/xul/test/test_bug233643.xul b/dom/xul/test/test_bug233643.xul
deleted file mode 100644
--- a/dom/xul/test/test_bug233643.xul
+++ /dev/null
@@ -1,76 +0,0 @@
-<?xml version="1.0"?>
-<?xml-stylesheet href="chrome://global/skin" type="text/css"?>
-<?xml-stylesheet href="chrome://mochikit/content/tests/SimpleTest/test.css" type="text/css"?>
-<window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
-        xmlns:html="http://www.w3.org/1999/xhtml"
-        title="Test for Bug 233643">
-<!--
-https://bugzilla.mozilla.org/show_bug.cgi?id=233643
--->
-  <script src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
-
-  <!-- NOTE: This testcase depends on the patch for bug 366770
-       (ability to apply bindings with data: URIs). -->
-
-  <!-- The data URI: below corresponds to:
-    <?xml version="1.0"?>
-    <bindings xmlns="http://www.mozilla.org/xbl"
-              xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
-      <binding id="label">
-        <content>
-          <xul:label anonid="foo" style="display: none; color: green;" value="PASS"/>
-        </content>
-        <implementation>
-          <property name="fooDisplay">
-            <setter>document.getAnonymousElementByAttribute(this, "anonid", "foo").style.display = val;</setter>
-            <getter>return document.getAnonymousElementByAttribute(this, "anonid", "foo").style.display;</getter>
-          </property>
-        </implementation>
-      </binding>
-    </bindings>
-  -->
-  <html:style type="text/css">
-    foo {
-      -moz-binding: url(data:text/xml,%3C%3Fxml%20version%3D%221.0%22%3F%3E%0A%3Cbindings%20xmlns%3D%22http%3A//www.mozilla.org/xbl%22%0A%20%20%20%20%20%20%20%20%20%20xmlns%3Axul%3D%22http%3A//www.mozilla.org/keymaster/gatekeeper/there.is.only.xul%22%3E%0A%20%20%3Cbinding%20id%3D%22label%22%3E%0A%20%20%20%20%3Ccontent%3E%0A%20%20%20%20%20%20%3Cxul%3Alabel%20anonid%3D%22foo%22%20style%3D%22display%3A%20none%3B%20color%3A%20green%3B%22%20value%3D%22PASS%22/%3E%0A%20%20%20%20%3C/content%3E%0A%20%20%20%20%3Cimplementation%3E%0A%20%20%20%20%20%20%3Cproperty%20name%3D%22fooDisplay%22%3E%0A%20%20%20%20%20%20%20%20%3Csetter%3Edocument.getAnonymousElementByAttribute%28this%2C%20%22anonid%22%2C%20%22foo%22%29.style.display%20%3D%20val%3B%3C/setter%3E%0A%20%20%20%20%20%20%20%20%3Cgetter%3Ereturn%20document.getAnonymousElementByAttribute%28this%2C%20%22anonid%22%2C%20%22foo%22%29.style.display%3B%3C/getter%3E%0A%20%20%20%20%20%20%3C/property%3E%0A%20%20%20%20%3C/implementation%3E%0A%20%20%3C/binding%3E%0A%3C/bindings%3E);
-    }
-  </html:style>
-  <body xmlns="http://www.w3.org/1999/xhtml">
-    <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=233643">Mozilla Bug 233643</a>
-    <p id="display">
-      <foo xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"/>
-      <foo xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"/>
-    </p>
-    <div id="content" style="display: none">
-      <script class="testbody" type="text/javascript">
-      <![CDATA[
-        SimpleTest.waitForExplicitFinish();
-
-        function test_233643() {
-          var foos = document.getElementsByTagName("foo");
-          ok(foos.length == 2, "Found 2 <foo> elements");
-
-          // Make sure that the binding was applied successfully
-          ok(foos[0].fooDisplay !== undefined, "Binding applied");
-
-          // Show both both child elements by setting their display to "".
-          foos[0].fooDisplay = "";
-          foos[1].fooDisplay = "";
-
-          // Hide the second one. In a build with bug 233643, this hides both.
-          foos[1].fooDisplay = "none";
-
-          // Check that changing the second didn't affect the first.
-          ok(foos[0].fooDisplay != foos[1].fooDisplay, "XUL Element have their own style rules");
-
-          SimpleTest.finish();
-        }
-
-        function do_test() {
-          setTimeout(test_233643, 0);
-        }
-        addLoadEvent(do_test);
-      ]]>
-      </script>
-    </div>
-  </body>
-</window>
diff --git a/dom/xul/test/test_bug414907.xul b/dom/xul/test/test_bug414907.xul
deleted file mode 100644
--- a/dom/xul/test/test_bug414907.xul
+++ /dev/null
@@ -1,53 +0,0 @@
-<?xml version="1.0"?>
-<?xml-stylesheet href="chrome://global/skin" type="text/css"?>
-<?xml-stylesheet href="chrome://mochikit/content/tests/SimpleTest/test.css" type="text/css"?>
-<!--
-https://bugzilla.mozilla.org/show_bug.cgi?id=414907
--->
-<window title="Mozilla Bug 414907"
-  xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
-  <script src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"/>
-
-  <vbox hidden="true">
-    <bindings xmlns="http://www.mozilla.org/xbl" style="display: block;"
-                xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
-      <binding id="anon">
-        <implementation>
-          <constructor>
-            <![CDATA[
-              var node = this.firstChild;
-              this.palette = node;
-              this.removeChild(node);
-            ]]>
-          </constructor>
-        </implementation>
-      </binding>
-    </bindings>
-  </vbox>
-
-  <!-- test results are displayed in the html:body -->
-  <body xmlns="http://www.w3.org/1999/xhtml">
-  <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=414907"
-     target="_blank">Mozilla Bug 414907</a>
-  </body>
-
-  <!-- test code goes here -->
-  <script type="application/javascript"><![CDATA[
-
-  SimpleTest.waitForExplicitFinish();
-  window.onload = function onload() {
-    is($("box").palette.getAttribute("label"), $("command").getAttribute("label"));
-    SimpleTest.finish();
-  }
-
-  ]]></script>
-
-    <command id="command" label="label"/>
-
-    <box id="box" style="-moz-binding:url('#anon');">
-        <button observes="command"/>
-    </box>
-
-
-
-</window>
diff --git a/gfx/tests/crashtests/483120-1.xhtml b/gfx/tests/crashtests/483120-1.xhtml
deleted file mode 100644
--- a/gfx/tests/crashtests/483120-1.xhtml
+++ /dev/null
@@ -1,23 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml" style="font-family: monospace;">
-<head>
-
-<bindings xmlns="http://www.mozilla.org/xbl">
-  <binding id="w"><content><div xmlns="http://www.w3.org/1999/xhtml"><children xmlns="http://www.mozilla.org/xbl"/></div></content></binding>
-  <binding id="empty"><content/></binding>
-</bindings>
-
-<script type="text/javascript">
-
-function boom()
-{
-  document.createElementNS("http://www.w3.org/2000/svg", "rect");
-  document.getElementById("d").previousSibling.data += "C";
-  document.getElementById("d").style.MozBinding = "url('#empty')";
-}
-
-</script>
-
-</head>
-
-<body onload="boom();"><span>A&#x202E;<span style="-moz-binding: url('#w');"></span>B<span id="d" style="font-size: 80%; color: green;">D</span></span></body>
-</html>
diff --git a/gfx/tests/crashtests/483120-2.xhtml b/gfx/tests/crashtests/483120-2.xhtml
deleted file mode 100644
--- a/gfx/tests/crashtests/483120-2.xhtml
+++ /dev/null
@@ -1,22 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml" style="font-family: monospace;">
-<head>
-
-<bindings xmlns="http://www.mozilla.org/xbl">
-  <binding id="w"><content><div xmlns="http://www.w3.org/1999/xhtml"><children xmlns="http://www.mozilla.org/xbl"/></div></content></binding>
-  <binding id="empty"><content/></binding>
-</bindings>
-
-<script type="text/javascript">
-
-function boom()
-{
-  document.getElementById("d").previousSibling.data += "C";
-  document.getElementById("d").style.MozBinding = "url('#empty')";
-}
-
-</script>
-
-</head>
-
-<body onload="boom();"><span>A&#x202E;<span style="-moz-binding: url('#w');"></span>B<span id="d" style="font-size: 80%; color: green;">D</span></span></body>
-</html>
diff --git a/gfx/tests/crashtests/crashtests.list b/gfx/tests/crashtests/crashtests.list
--- a/gfx/tests/crashtests/crashtests.list
+++ b/gfx/tests/crashtests/crashtests.list
@@ -67,18 +67,16 @@ load 428633.html
 load 429899-1.html
 load 441360.html
 load 445711.html
 load 463307-1.html
 load 467703-1.xhtml
 load 467873-1.html
 load 470418-1.html
 load 474410-1.html
-skip-if(!xbl) load 483120-1.xhtml
-skip-if(!xbl) load 483120-2.xhtml
 load 487549-1.html
 load 487724-1.html
 load 490777-1.html
 load 516512-1.html
 load 532726-1.html
 load 538065-1.html
 load 546870-1.html
 load 557348-1.html
diff --git a/js/xpconnect/tests/chrome/chrome.ini b/js/xpconnect/tests/chrome/chrome.ini
--- a/js/xpconnect/tests/chrome/chrome.ini
+++ b/js/xpconnect/tests/chrome/chrome.ini
@@ -74,18 +74,16 @@ skip-if = os == 'win' || os == 'mac' || 
 [test_bug860494.xhtml]
 [test_bug865948.xhtml]
 [test_bug866823.xhtml]
 [test_bug895340.xhtml]
 [test_bug932906.xhtml]
 [test_bug996069.xhtml]
 [test_bug1041626.xhtml]
 [test_bug1042436.xhtml]
-[test_bug1050049.html]
-skip-if = !xbl
 [test_bug1065185.html]
 [test_bug1074863.html]
 [test_bug1092477.xhtml]
 [test_bug1124898.html]
 [test_bug1126911.html]
 [test_bug1281071.xhtml]
 [test_bug1390159.xhtml]
 [test_bug1430164.html]
diff --git a/js/xpconnect/tests/chrome/test_bug1050049.html b/js/xpconnect/tests/chrome/test_bug1050049.html
deleted file mode 100644
--- a/js/xpconnect/tests/chrome/test_bug1050049.html
+++ /dev/null
@@ -1,56 +0,0 @@
-<!DOCTYPE HTML>
-<html>
-<!--
-https://bugzilla.mozilla.org/show_bug.cgi?id=1050049
--->
-<head>
-  <meta charset="utf-8">
-  <title>Test for Bug 1050049</title>
-  <script src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
-  <link rel="stylesheet" type="text/css" href="chrome://global/skin"/>
-  <link rel="stylesheet" type="text/css" href="chrome://mochikit/content/tests/SimpleTest/test.css"/>
-  <script type="application/javascript">
-
-  /** Test for Bug 1050049 **/
-  SimpleTest.waitForExplicitFinish();
-
-  var regularBindingURI = window.location.toString().replace("test_bug1050049.html", "file_bug1050049.xml") + "#regularChromeBinding";
-  var whitelistedBindingURI = window.location.toString().replace("test_bug1050049.html", "file_bug1050049.xml") + "#whitelistedChromeBinding";
-
-  function testApplyBinding(doc, bindingURI, expectBind) {
-    var d = doc.createElement('div');
-    doc.body.appendChild(d);
-    d.style.MozBinding = "url(" + bindingURI + ")";
-
-    return new Promise(function(resolve, reject) {
-      // Wait two ticks of the refresh driver for the binding to be applied.
-      function onceBindingWouldBeApplied() {
-        is(!!doc.getAnonymousNodes(d), expectBind, "Binding " + (expectBind ? "should" : "shouldn't") +
-                                                   " be applied: " + bindingURI + ", " + doc.location);
-        resolve();
-      }
-      window.requestAnimationFrame(function() { window.requestAnimationFrame(onceBindingWouldBeApplied); });
-    });
-  }
-
-  function go() {
-    testApplyBinding(document, regularBindingURI, true)
-      .then(testApplyBinding.bind(null, window[0].document, regularBindingURI, false))
-      .then(testApplyBinding.bind(null, document, whitelistedBindingURI, true))
-      .then(testApplyBinding.bind(null, window[0].document, whitelistedBindingURI, true))
-      .then(SimpleTest.finish.bind(SimpleTest));
-  }
-
-  </script>
-</head>
-<body>
-<a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=1050049">Mozilla Bug 1050049</a>
-<p id="display"></p>
-<div id="content" style="display: none">
-
-</div>
-<pre id="test">
-</pre>
-<iframe onload="go();" src="http://example.org/tests/js/xpconnect/tests/mochitest/file_empty.html"></iframe>
-</body>
-</html>
diff --git a/layout/base/crashtests/1423216.html b/layout/base/crashtests/1423216.html
deleted file mode 100644
--- a/layout/base/crashtests/1423216.html
+++ /dev/null
@@ -1,18 +0,0 @@
-<style>
-* {
-  -moz-binding: url(l)
-}
-</style>
-<script>
-o1 = document.createElement('span')
-o2 = document.createElement('span')
-document.documentElement.appendChild(o2)
-o2.appendChild(document.createElement('colgroup'))
-o3 = document.createComment('')
-o2.attachShadow({ mode: "open" }).append(o3)
-window.onload = () => {
-  o4 = document.createRange()
-  o4.setStartBefore(o3)
-  o4.insertNode(o1)
-}
-</script>
diff --git a/layout/base/crashtests/288790-1.html b/layout/base/crashtests/288790-1.html
deleted file mode 100644
--- a/layout/base/crashtests/288790-1.html
+++ /dev/null
@@ -1,9 +0,0 @@
-<html class="reftest-wait">
-<head>
-<script>
-setTimeout('document.documentElement.className = ""', 500);
-</script>
-<body>
-<iframe src="288790-1-inner.xhtml"></iframe>
-</body>
-</html>
diff --git a/layout/base/crashtests/350128-1.xhtml b/layout/base/crashtests/350128-1.xhtml
deleted file mode 100644
--- a/layout/base/crashtests/350128-1.xhtml
+++ /dev/null
@@ -1,21 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml" xmlns:html="http://www.w3.org/1999/xhtml">
-<head>
-
-<bindings xmlns="http://www.mozilla.org/xbl">
-  <binding id="lub4">
-    <content>
-      <html:span style="color: green;">
-        <children/>
-      </html:span>
-    </content>
-  </binding>
-</bindings>
-
-
-</head>
-
-<body onload="document.getElementById('gogo');">
-  <span style="-moz-binding: url('#lub4')"><div/><em id="gogo">I</em></span>
-</body>
-
-</html>
diff --git a/layout/base/crashtests/374193-1.xhtml b/layout/base/crashtests/374193-1.xhtml
deleted file mode 100644
--- a/layout/base/crashtests/374193-1.xhtml
+++ /dev/null
@@ -1,7 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml"
-  ><mtd xmlns="http://www.w3.org/1998/Math/MathML"
-  ><th xmlns="http://www.w3.org/1999/xhtml"
-  /><mtable xmlns="http://www.w3.org/1998/Math/MathML"
-  ><th xmlns="http://www.w3.org/1999/xhtml" style="-moz-binding: url(374193-1xbl.xml);" id="mw_th20"></th></mtable></mtd><style>
-mtable::after { content:"anonymous text"; }
-</style></html>
diff --git a/layout/base/crashtests/379105-1.xhtml b/layout/base/crashtests/379105-1.xhtml
deleted file mode 100644
--- a/layout/base/crashtests/379105-1.xhtml
+++ /dev/null
@@ -1,48 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml" class="reftest-wait">
-<head>
-<bindings xmlns="http://www.mozilla.org/xbl">
-
-<binding id="x"><content>
-  <zzz><children/></zzz>
-</content></binding>
-
-<binding id="empty"><content>
-</content></binding>
-
-</bindings>
-
-<script>
-<![CDATA[
-
-var xbltarget;
-
-function boom1()
-{
-  xbltarget = document.getElementById("xbltarget");
-  xbltarget.style.MozBinding = "url('#x')";
-  setTimeout(boom2, 0);
-}
-
-function boom2()
-{
-  var nodes = SpecialPowers.unwrap(SpecialPowers.wrap(document).getAnonymousNodes(xbltarget));
-  if (!nodes) {
-    setTimeout(boom2, 10);
-    return;
-  }
-  var anox = nodes[0];
-  var frame = document.createElementNS("http://www.w3.org/1999/xhtml", "frame")
-  frame.src = "data:text/html,<html><body>Hi!</body></html>";
-  anox.appendChild(frame);
-  xbltarget.style.MozBinding = "url('#empty')";
-  
-  document.documentElement.removeAttribute("class");
-}
-
-]]>
-</script>
-</head>
-<body onload="boom1()">
-<div id="xbltarget"></div>
-</body>
-</html>
diff --git a/layout/base/crashtests/379920-1.svg b/layout/base/crashtests/379920-1.svg
deleted file mode 100644
--- a/layout/base/crashtests/379920-1.svg
+++ /dev/null
@@ -1,7 +0,0 @@
-<svg width='100%' height='100%' xmlns='http://www.w3.org/2000/svg' onload="document.documentElement.style.MozBinding = 'url(#foo)';">
-
-<bindings xmlns="http://www.mozilla.org/xbl">
-  <binding id="foo"><content></content></binding>
-</bindings>
-
-</svg>
diff --git a/layout/base/crashtests/379920-2.svg b/layout/base/crashtests/379920-2.svg
deleted file mode 100644
--- a/layout/base/crashtests/379920-2.svg
+++ /dev/null
@@ -1,7 +0,0 @@
-<svg width='100%' height='100%' xmlns='http://www.w3.org/2000/svg' style="-moz-binding: url(#foo)">
-
-<bindings xmlns="http://www.mozilla.org/xbl">
-  <binding id="foo"><content></content></binding>
-</bindings>
-
-</svg>
diff --git a/layout/base/crashtests/379975.html b/layout/base/crashtests/379975.html
deleted file mode 100644
--- a/layout/base/crashtests/379975.html
+++ /dev/null
@@ -1,15 +0,0 @@
-<!DOCTYPE HTML>
-<!--
-<?xml version="1.0"?>
-<bindings xmlns="http://www.mozilla.org/xbl">
-  <binding id="a">
-    <content></content>
-  </binding>
-</bindings>
--->
-<html style="-moz-binding: url(data:text/xml,%3C%3Fxml%20version%3D%221.0%22%3F%3E%0A%3Cbindings%20xmlns%3D%22http%3A//www.mozilla.org/xbl%22%3E%0A%20%20%3Cbinding%20id%3D%22a%22%3E%0A%20%20%20%20%3Ccontent%3E%3C/content%3E%0A%20%20%3C/binding%3E%0A%3C/bindings%3E);">
-  <head>
-    <title>Crash</title>
-    <script type="text/javascript" src="data:text/plain,document.documentElement;"></script>
-  </head>
-</html>
diff --git a/layout/base/crashtests/393326-1.html b/layout/base/crashtests/393326-1.html
deleted file mode 100644
--- a/layout/base/crashtests/393326-1.html
+++ /dev/null
@@ -1,15 +0,0 @@
-<html><head>
-<style>
-div::first-letter {}
-</style>
-</head>
-<body>
-
-<div style="position: fixed; ">
-<q></q>
-</div>
-<span>
-<span style="display: -moz-box; -moz-binding:url(393326-1-binding.xml#a);"></span>
-</span>
-</body></html>
-
diff --git a/layout/base/crashtests/393326-2.html b/layout/base/crashtests/393326-2.html
deleted file mode 100644
--- a/layout/base/crashtests/393326-2.html
+++ /dev/null
@@ -1,15 +0,0 @@
-<html><head>
-<style>
-div::first-letter {}
-</style>
-</head>
-<body>
-
-<div style="position: fixed; ">
-<q></q>
-</div>
-<span>
-<span style="display: -moz-box; -moz-binding:url(data:text/xml;charset=utf-8,%3Cbindings%20xmlns%3D%22http%3A//www.mozilla.org/xbl%22%3E%0A%3Cbinding%20id%3D%22a%22%3E%0A%3Ccontent%3E%3Cchildren/%3E%3C/content%3E%0A%3C/binding%3E%3C/bindings%3E);"></span>
-</span>
-</body></html>
-
diff --git a/layout/base/crashtests/394014-1.html b/layout/base/crashtests/394014-1.html
deleted file mode 100644
--- a/layout/base/crashtests/394014-1.html
+++ /dev/null
@@ -1,9 +0,0 @@
-<html class="reftest-wait">
-<head>
-<script>
-setTimeout('document.documentElement.className = ""', 1000);
-</script>
-<body>
-<iframe src="394014-1-inner.html"></iframe>
-</body>
-</html>
diff --git a/layout/base/crashtests/394014-2.html b/layout/base/crashtests/394014-2.html
deleted file mode 100644
--- a/layout/base/crashtests/394014-2.html
+++ /dev/null
@@ -1,7 +0,0 @@
-<html><head>
-<title>Testcase bug 394014 - Crash [@ NS_ProcessNextEvent_P] with DOMSubtreeModified removing windows, binding and other stuff</title>
-</head>
-<body>tt
-<iframe src="394014-2-crash.html"></iframe>
-</body>
-</html>
diff --git a/layout/base/crashtests/399946-1.xhtml b/layout/base/crashtests/399946-1.xhtml
deleted file mode 100644
--- a/layout/base/crashtests/399946-1.xhtml
+++ /dev/null
@@ -1,23 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml" xmlns:math="http://www.w3.org/1998/Math/MathML">
-<head>
-
-<bindings xmlns="http://www.mozilla.org/xbl">
-  <binding id="empty">
-    <content></content>
-  </binding>
-</bindings>
-
-<script>
-function boom()
-{
-  document.getElementById("frame").style.MozBinding = "url('#empty')";
-}
-
-window.addEventListener("load", boom, false);
-</script>
-
-</head>
-
-<math:mtd><frameset><frame id="frame"></frame></frameset></math:mtd>
-
-</html>
diff --git a/layout/base/crashtests/404218-1.xhtml b/layout/base/crashtests/404218-1.xhtml
deleted file mode 100644
--- a/layout/base/crashtests/404218-1.xhtml
+++ /dev/null
@@ -1,15 +0,0 @@
-<treeitem xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
-<splitter/>
-<splitter>
-  <splitter id="a"/>
-</splitter>
-
-<script xmlns="http://www.w3.org/1999/xhtml">
- document.getElementById('a').setAttribute('a', 'a');
-</script>
-
-<style xmlns="http://www.w3.org/1999/xhtml">
-treeitem, splitter {-moz-binding:url(data:text/xml;charset=utf-8,%3Cbindings%20xmlns%3D%22http%3A//www.mozilla.org/xbl%22%3E%3Cbinding%20id%3D%22a%22%3E%3Ccontent%3E%3Cchildren/%3E%3C/content%3E%3C/binding%3E%3C/bindings%3E);}
-</style>
-
-</treeitem>
\ No newline at end of file
diff --git a/layout/base/crashtests/405184-1.xhtml b/layout/base/crashtests/405184-1.xhtml
deleted file mode 100644
--- a/layout/base/crashtests/405184-1.xhtml
+++ /dev/null
@@ -1,31 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml">
-<head>
-
-<bindings xmlns="http://www.mozilla.org/xbl">
-  <binding id="foo">
-    <content>
-      <div xmlns="http://www.w3.org/1999/xhtml" style="position: fixed;">
-        <children xmlns="http://www.mozilla.org/xbl"/>
-      </div>
-    </content>
-  </binding>
-</bindings>
-
-<script type="text/javascript">
-
-function boom()
-{
-  var div = document.getElementById("div");
-  var caption = document.getElementById("caption");
-
-  div.removeChild(caption);
-  div.style.position = "inherit";
-}
-
-</script></head>
-
-<body onload="boom();">
-<div id="div" style="-moz-binding: url(#foo);"><caption id="caption"></caption></div>
-</body>
-
-</html>
diff --git a/layout/base/crashtests/405186-1.xhtml b/layout/base/crashtests/405186-1.xhtml
deleted file mode 100644
--- a/layout/base/crashtests/405186-1.xhtml
+++ /dev/null
@@ -1,39 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml">
-<head>
-
-<bindings xmlns="http://www.mozilla.org/xbl">
-  <binding id="foo">
-    <content>
-      <div xmlns="http://www.w3.org/1999/xhtml" style="position: fixed;">
-        <children xmlns="http://www.mozilla.org/xbl"/>
-      </div>
-    </content>
-  </binding>
-</bindings>
-
-<script type="text/javascript">
-
-function boom()
-{
-  var table = document.getElementById("table");
-  var tr = document.getElementById("tr");
-  var td = document.getElementById("td");
-  
-  table.style.border = "2px dotted magenta";
-  tr.removeChild(td);
-}
-
-</script>
-</head>
-
-<body onload="boom();">
-
-<table id="table" style="-moz-binding: url(#foo);">
-  <tr id="tr">
-    <td id="td"></td>
-  </tr>
-</table>
-
-</body>
-
-</html>
diff --git a/layout/base/crashtests/429780-1.xhtml b/layout/base/crashtests/429780-1.xhtml
deleted file mode 100644
--- a/layout/base/crashtests/429780-1.xhtml
+++ /dev/null
@@ -1,4 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml"><head>
-<script>window.addEventListener("load", function() { document.getElementById("v").style.MozBinding = "url(#foo)"; }, false);</script>
-<bindings xmlns="http://www.mozilla.org/xbl"><binding id="foo"><content></content></binding></bindings>
-</head>X<span><div id="v"></div></span></html>
diff --git a/layout/base/crashtests/468546-1.xhtml b/layout/base/crashtests/468546-1.xhtml
deleted file mode 100644
--- a/layout/base/crashtests/468546-1.xhtml
+++ /dev/null
@@ -1,25 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml">
-<head>
-<style type="text/css">
-
-[class='anon'], #v { float: left; }
-[class='anon']:first-line { word-spacing: 30ch; }
-body { width: 30ch; }
-
-</style>
-
-<bindings xmlns="http://www.mozilla.org/xbl"><binding id="foo"><content><div class="anon"><span>A BCDE</span><children xmlns="http://www.mozilla.org/xbl"/></div></content></binding></bindings>
-
-<script type="text/javascript">
-
-function boom()
-{
-  document.body.insertBefore(document.createTextNode("fijkl"), document.body.firstChild);
-}
-
-</script>
-</head>
-
-<body onload="boom();" style="-moz-binding: url(#foo)"><div id="v">&#x202C;</div></body>
-
-</html>
diff --git a/layout/base/crashtests/468645-1.xhtml b/layout/base/crashtests/468645-1.xhtml
deleted file mode 100644
--- a/layout/base/crashtests/468645-1.xhtml
+++ /dev/null
@@ -1,17 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml" class="reftest-paged">
-
-<div style="-moz-binding: url(#xbl); display: table-cell;">
-<span style="display: inline-block;">
-<input style="page-break-after: right;"/>
-</span>
-</div>
-
-
-<bindings xmlns="http://www.mozilla.org/xbl">
-<binding id="xbl" inheritstyle="false">
-     <resources>
-      <stylesheet src="data:text/css;charset=utf-8,"/>
-     </resources>
-</binding>
-</bindings>
-</html>
diff --git a/layout/base/crashtests/468645-2.xhtml b/layout/base/crashtests/468645-2.xhtml
deleted file mode 100644
--- a/layout/base/crashtests/468645-2.xhtml
+++ /dev/null
@@ -1,13 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml" class="reftest-paged">
-
-<div style="-moz-binding:url(#xbl)"/>
-<input style="page-break-after: left;"/>
-
-<bindings xmlns="http://www.mozilla.org/xbl">
-<binding id="xbl" inheritstyle="false">
-     <resources>
-      <stylesheet src="data:text/css;charset=utf-8,"/>
-     </resources>
-</binding>
-</bindings>
-</html>
diff --git a/layout/base/crashtests/471594-1.xhtml b/layout/base/crashtests/471594-1.xhtml
deleted file mode 100644
--- a/layout/base/crashtests/471594-1.xhtml
+++ /dev/null
@@ -1,20 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml">
-<head>
-
-<bindings xmlns="http://www.mozilla.org/xbl">
-  <binding id="x"><content><SPAN>2!<children xmlns="http://www.mozilla.org/xbl"/></SPAN></content></binding>
-  <binding id="y"><content></content></binding>
-</bindings>
-
-<script type="text/javascript">
-
-function boom()
-{
-  document.getElementById("a").style.MozBinding = 'url("#y")';
-}
-
-</script>
-</head>
-
-<body dir="rtl" onload="boom();"><div style="-moz-binding: url(#x);"><span style="unicode-bidi: bidi-override;" id="a"></span></div></body>
-</html>
diff --git a/layout/base/crashtests/497519-1.xhtml b/layout/base/crashtests/497519-1.xhtml
deleted file mode 100644
--- a/layout/base/crashtests/497519-1.xhtml
+++ /dev/null
@@ -1,28 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml">
-<head>
-
-<xbl:bindings xmlns:xbl="http://www.mozilla.org/xbl">
-<xbl:binding id="foo"><xbl:content><div style="position:relative;"><xbl:children/></div></xbl:content></xbl:binding>
-</xbl:bindings>
-
-<script>
-<![CDATA[
-function test() {
-  document.getElementById("span").innerHTML = "<table><tr><td></td></tr></table>";
-}
-]]>
-</script>
-
-</head>
-
-<body onload="test();">
-
-<div style="-moz-binding: url(#foo)">
-
-  <div style="display:none">text</div>
-  <span id="span">text</span>
-
-</div>
-
-</body>
-</html>
diff --git a/layout/base/crashtests/497519-2.xhtml b/layout/base/crashtests/497519-2.xhtml
deleted file mode 100644
--- a/layout/base/crashtests/497519-2.xhtml
+++ /dev/null
@@ -1,26 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml" style="-moz-binding: url(#foo)">
-<head>
-
-<xbl:bindings xmlns:xbl="http://www.mozilla.org/xbl">
-<xbl:binding id="foo"><xbl:content><fieldset><xbl:children/></fieldset></xbl:content></xbl:binding>
-</xbl:bindings>
-
-<script type="text/javascript">
-
-function boom()
-{
-  var dE = document.documentElement;
-  var leg = document.createElementNS("http://www.w3.org/1999/xhtml", "legend");
-  leg.style.cssFloat = "left";
-  dE.appendChild(leg);
-  document.documentElement.offsetHeight;
-  dE.removeChild(leg);
-}
-
-</script>
-
-</head>
-
-<body onload="boom();"></body>
-
-</html>
diff --git a/layout/base/crashtests/497519-3.xhtml b/layout/base/crashtests/497519-3.xhtml
deleted file mode 100644
--- a/layout/base/crashtests/497519-3.xhtml
+++ /dev/null
@@ -1,26 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml" style="-moz-binding: url(#foo)">
-<head>
-
-<xbl:bindings xmlns:xbl="http://www.mozilla.org/xbl">
-<xbl:binding id="foo"><xbl:content><fieldset><xbl:children/></fieldset></xbl:content></xbl:binding>
-</xbl:bindings>
-
-<script type="text/javascript">
-
-function boom()
-{
-  var dE = document.documentElement;
-  var leg = document.createElementNS("http://www.w3.org/1999/xhtml", "legend");
-  leg.appendChild(document.createTextNode("legend"));
-  dE.appendChild(leg);
-  document.documentElement.offsetHeight;
-  dE.removeChild(leg);
-}
-
-</script>
-
-</head>
-
-<body onload="boom();"></body>
-
-</html>
diff --git a/layout/base/crashtests/497519-4.xhtml b/layout/base/crashtests/497519-4.xhtml
deleted file mode 100644
--- a/layout/base/crashtests/497519-4.xhtml
+++ /dev/null
@@ -1,26 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml" style="-moz-binding: url(#foo)">
-<head>
-
-<xbl:bindings xmlns:xbl="http://www.mozilla.org/xbl">
-<xbl:binding id="foo"><xbl:content><fieldset><xbl:children/></fieldset></xbl:content></xbl:binding>
-</xbl:bindings>
-
-<script type="text/javascript">
-
-function boom()
-{
-  var dE = document.documentElement;
-  var leg = document.createElementNS("http://www.w3.org/1999/xhtml", "legend");
-  leg.style.position = "absolute";
-  dE.appendChild(leg);
-  document.documentElement.offsetHeight;
-  dE.removeChild(leg);
-}
-
-</script>
-
-</head>
-
-<body onload="boom();"></body>
-
-</html>
diff --git a/layout/base/crashtests/536623-1.xhtml b/layout/base/crashtests/536623-1.xhtml
deleted file mode 100644
--- a/layout/base/crashtests/536623-1.xhtml
+++ /dev/null
@@ -1,37 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml">
-<head>
-
-<bindings
-  xmlns="http://www.mozilla.org/xbl"
-  xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
-  xmlns:xbl="http://www.mozilla.org/xbl"
-  xmlns:html="http://www.w3.org/1999/xhtml">
-
-  <binding id="qwe">
-    <content>
-      <xul:label style="-moz-binding: url(#xar)" xbl:inherits="xbl:text=label" flex="1"/>
-    </content>
-  </binding>
-
-  <binding id="xar">
-    <content>
-      <html:table><children/></html:table>
-    </content>
-  </binding>
-
-</bindings>
-
-<script type="text/javascript">
-function boom()
-{
-  document.getElementById("b").setAttribute('label', "1 2 3");
-  document.documentElement.offsetHeight;
-  document.getElementById("b").removeAttribute('label');
-}
-</script>
-</head>
-
-<body onload="boom();">
-<div style="width: 0px;"><box id="b" xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul" style="-moz-binding: url(#qwe);"/></div>
-</body>
-</html>
diff --git a/layout/base/crashtests/537059-1.xhtml b/layout/base/crashtests/537059-1.xhtml
deleted file mode 100644
--- a/layout/base/crashtests/537059-1.xhtml
+++ /dev/null
@@ -1,14 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml">
-  <head>
-    <bindings xmlns="http://www.mozilla.org/xbl" xmlns:html="http://www.w3.org/1999/xhtml">
-      <binding id="td"><content><html:div><children/></html:div></content></binding>
-    </bindings>
-    <style type="text/css">
-      div, tbody { position: absolute; }
-      div:first-letter { }
-    </style>
-  </head>
-  <body>
-    <div><table>A<tbody><tr style="-moz-binding: url(#td);"></tr></tbody>B</table></div>
-  </body>
-</html>
diff --git a/layout/base/crashtests/537141-1.xhtml b/layout/base/crashtests/537141-1.xhtml
deleted file mode 100644
--- a/layout/base/crashtests/537141-1.xhtml
+++ /dev/null
@@ -1,6 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml">
-<head>
-</head>
-<body onload="document.body.appendChild(document.createElementNS('http://www.w3.org/1999/xhtml', 'span'));" style="-moz-binding: url('537141.xml#mo');">
-<g xmlns="http://www.w3.org/2000/svg"/></body>
-</html>
diff --git a/layout/base/crashtests/559705.xhtml b/layout/base/crashtests/559705.xhtml
deleted file mode 100644
--- a/layout/base/crashtests/559705.xhtml
+++ /dev/null
@@ -1,14 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml">
-<head>
-  <bindings xmlns="http://www.mozilla.org/xbl">
-    <binding id="foo">
-      <content>
-        <iframe xmlns="http://www.w3.org/1999/xhtml" src="javascript:void 0"><children xmlns="http://www.mozilla.org/xbl"/></iframe>
-      </content>
-    </binding>
-  </bindings>
-</head>
-<body>
-  <span style="-moz-binding: url(#foo)"></span>
-</body>
-</html>
diff --git a/layout/base/crashtests/560441-1.xhtml b/layout/base/crashtests/560441-1.xhtml
deleted file mode 100644
--- a/layout/base/crashtests/560441-1.xhtml
+++ /dev/null
@@ -1,12 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml">
-<head>
-<bindings xmlns="http://www.mozilla.org/xbl"><binding id="foo"><content><frame xmlns="http://www.w3.org/1999/xhtml"><children xmlns="http://www.mozilla.org/xbl"/></frame></content></binding></bindings>
-</head>
-
-<frameset 
-  onload="document.getElementById('y').appendChild(document.createElementNS('http://www.w3.org/1999/xhtml', 'span'));" 
-  style="-moz-binding: url(#foo)"
->
-<frame id="y"></frame>
-</frameset>
-</html>
diff --git a/layout/base/crashtests/567292-1.xhtml b/layout/base/crashtests/567292-1.xhtml
deleted file mode 100644
--- a/layout/base/crashtests/567292-1.xhtml
+++ /dev/null
@@ -1,17 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml"><head>
-
-<bindings xmlns="http://www.mozilla.org/xbl"><binding id="foo"><content><optgroup><span><children xmlns="http://www.mozilla.org/xbl"/></span></optgroup></content></binding></bindings>
-
-<script>
-<![CDATA[
-
-function boom() { document.getElementById("a").appendChild(document.createElementNS("http://www.w3.org/1999/xhtml", "span")); }
-
-window.addEventListener("load", boom);
-
-]]>
-</script></head>
-
-<frameset style="-moz-binding: url(&quot;#foo&quot;);"><frame id="a"></frame></frameset>
-
-</html>
diff --git a/layout/base/crashtests/crashtests.list b/layout/base/crashtests/crashtests.list
--- a/layout/base/crashtests/crashtests.list
+++ b/layout/base/crashtests/crashtests.list
@@ -52,17 +52,16 @@ load 269566-1.html
 load 272647-1.html
 load 275746-1.html
 load 276053-1.html
 load 280708-1.html
 load 280708-2.html
 load 281333-1.html
 load 285212-1.html
 load 286813-1.html
-skip-if(!xbl) load 288790-1.html
 load 306940-1.html
 load 310267-1.xml
 load 310638-1.svg
 load 310638-2.html
 load chrome://reftest/content/crashtests/layout/base/crashtests/311661-1.xul
 load chrome://reftest/content/crashtests/layout/base/crashtests/311661-2.xul
 load 313086-1.xml
 load 317285-1.html
@@ -110,17 +109,16 @@ load 344300-1.html
 load 344300-2.html
 load chrome://reftest/content/crashtests/layout/base/crashtests/344340-1.xul
 load 347898-1.html
 load 348126-1.html
 load 348688-1.html
 load 348708-1.xhtml
 load 348729-1.html
 load 349095-1.xhtml
-skip-if(!xbl) load 350128-1.xhtml
 load 350267-1.html
 load 354133-1.html
 load 354766-1.xhtml
 load 355989-1.xhtml
 load 355993-1.xhtml
 load chrome://reftest/content/crashtests/layout/base/crashtests/356325-1.xul
 load 358729-1.xhtml
 load chrome://reftest/content/crashtests/layout/base/crashtests/360339-1.xul
@@ -142,83 +140,70 @@ load 369176-1.html
 load 369547-1.html
 load 369547-2.html
 load 369945-1.xhtml
 load 371681-1.xhtml
 load 372237-1.html
 load 372475-1.xhtml
 load 372550-1.html
 load 373628-1.html
-skip-if(!xbl) load 374193-1.xhtml
 load 374297-1.html
 load 374297-2.html
 load 378325-1.html
 load 378682.html
-skip-if(!xbl) load 379105-1.xhtml
 load 379419-1.xhtml
 load 379768-1.html
 load 379799-1.html
-skip-if(!xbl) load 379920-1.svg
-skip-if(!xbl) load 379920-2.svg
-skip-if(!xbl) load 379975.html
 load 380096-1.html
 load 382204-1.html # bug 1323680
 load 383129-1.html
 load 384344-1.html
 load 384392-1.xhtml
 load 384392-2.svg
 load 384649-1.xhtml
 load 385354.html
 load 385866-1.xhtml
 load 385880-1.xhtml
 load 386266-1.html
 load 386476.html
 load 387195-1.html
 load 387195-2.xhtml
 load 388715-1.html
 load 390976-1.html
-skip-if(!xbl) load 393326-1.html
-skip-if(!xbl) load 393326-2.html
 load 393661-1.html
 load 393801-1.html
-skip-if(!xbl) load 394014-1.html
-skip-if(!xbl) load 394014-2.html
 load 394150-1.xhtml
 load 397011-1.xhtml
 load 398510-1.xhtml
 load 398733-1.html
 load 398733-2.html
 load 399132-1.xhtml
 load 399219-1.xhtml
 load 399365-1.html
 load 399676-1.xhtml
 load 399687-1.html
 load 399940-1.xhtml
-skip-if(!xbl) load 399946-1.xhtml
 load 399951-1.html
 load 399994-1.html
 load 400445-1.xhtml
 load 400904-1.xhtml
 load chrome://reftest/content/crashtests/layout/base/crashtests/401589-1.xul
 load 401734-1.html
 load 401734-2.html
 needs-focus pref(accessibility.browsewithcaret,true) load 403048.html
 load 403175-1.html
 load 403245-1.html
 load 403454.html
 load 403569-1.xhtml
 load 403569-2.xhtml
 load 403569-3.xhtml
-skip-if(!xbl) load 404218-1.xhtml
 load 404491-1.html
 load 404721-1.xhtml
 load 404721-2.xhtml
 load chrome://reftest/content/crashtests/layout/base/crashtests/405049-1.xul
-skip-if(!xbl) load 405184-1.xhtml
-skip-if(!xbl) load 405186-1.xhtml
 load 406675-1.html
 load 408292.html
 load 408299.html
 load 408450-1.xhtml
 load 409461-1.xhtml
 load 409513.html
 load 410967.html
 load 411870-1.html
@@ -236,17 +221,16 @@ load chrome://reftest/content/crashtests
 load 421432.html
 load 422276.html
 asserts(0-1) load 423107-1.xhtml # bug 866955
 load 425981-1.html
 load 428138-1.html
 load 428448-1.html
 load 429088-1.html
 load 429088-2.html
-skip-if(!xbl) load 429780-1.xhtml
 load 429865-1.html
 load 429881.html
 load 430569-1.html
 load 430569-2.html
 load 432752-1.svg
 load 433450-1.html
 load 436982-1.html
 load 437142-1.html
@@ -270,29 +254,25 @@ load 455171-4.html
 load 455623-1.html
 load 457362-1.xhtml
 load 457514.html
 asserts(0-1) load 460389-1.html # bug 780985
 load 462392.html
 load 466763-1.html
 load 467881-1.html
 load 468491-1.html
-skip-if(!xbl) load 468546-1.xhtml
 load 468555-1.xhtml
 load 468563-1.html
 load 468578-1.xhtml
 # These three didn't actually crash without the resizing that the
 # browser does when setting up print preview, but adding them anyway.
-skip-if(!xbl) load 468645-1.xhtml
-skip-if(!xbl) load 468645-2.xhtml
 load 468645-3.xhtml
 load 469861-1.xhtml
 load 469861-2.xhtml
 load 470851-1.xhtml
-skip-if(!xbl) load 471594-1.xhtml
 asserts-if(Android&&!asyncPan,1-2) load 473042.xhtml # bug 1034369 (may also cause a few assertions to be registered on the next test)
 asserts(0-5) load 474075.html # bug 847368
 load 477333-1.xhtml
 load 477731-1.html
 load 479114-1.html
 load 479360-1.xhtml
 load 480686-1.html
 load 481806-1.html
@@ -306,57 +286,47 @@ load 490559-1.html
 load 490747.html
 load chrome://reftest/content/crashtests/layout/base/crashtests/491547-1.xul
 load chrome://reftest/content/crashtests/layout/base/crashtests/491547-2.xul
 load 492014.xhtml
 load 492112-1.xhtml
 load 492163-1.xhtml
 load 495350-1.html
 load 496011-1.xhtml
-skip-if(!xbl) load 497519-1.xhtml
-skip-if(!xbl) load 497519-2.xhtml
-skip-if(!xbl) load 497519-3.xhtml
-skip-if(!xbl) load 497519-4.xhtml
 load 499741-1.xhtml
 load 499841-1.xhtml
 load 499858-1.xhtml
 load 500467-1.html
 load 501878-1.html
 load 503936-1.html
 load 507119.html
 load 522374-1.html
 load 522374-2.html
 load chrome://reftest/content/crashtests/layout/base/crashtests/526378-1.xul
 load 534367-1.xhtml
 load 534368-1.xhtml
 load 534768-1.html
 load 534768-2.html
 load 535721-1.xhtml
 load 535911-1.xhtml
-skip-if(!xbl) load 536623-1.xhtml
 load chrome://reftest/content/crashtests/layout/base/crashtests/536720.xul
-skip-if(!xbl) load 537059-1.xhtml
-skip-if(!xbl) load 537141-1.xhtml
 load 537562-1.xhtml
 load 537624-1.html
 load 537631-1.html
 load chrome://reftest/content/crashtests/layout/base/crashtests/538082-1.xul
 load 538207-1.xhtml
 load 538210-1.html
 load 538267-1.html
 load chrome://reftest/content/crashtests/layout/base/crashtests/540760.xul
 load 540771-1.xhtml
 load 541869-1.xhtml
 load 541869-2.html
 load 543648-1.html
-skip-if(!xbl) load 559705.xhtml
-skip-if(!xbl) load 560441-1.xhtml
 load 560447-1.html
 load 564063-1.html
-skip-if(!xbl) load 567292-1.xhtml
 load 569018-1.html
 pref(layout.css.xul-display-values.content.enabled,true) load 570038-1.html
 load chrome://reftest/content/crashtests/layout/base/crashtests/572003.xul
 load 572582-1.xhtml
 load 576649-1.html
 load 579655.html
 load 580129-1.html
 load 580494-1.html
@@ -509,17 +479,16 @@ load 1404789-2.html
 load 1406562.html
 load 1409147.html
 load 1411138.html
 load 1414100.html
 load 1414303.html
 load 1419762.html
 load 1419802.html
 load 1420533.html
-skip-if(!xbl) load 1423216.html
 load 1425893.html
 load 1425959.html
 load 1428353.html
 load 1428892.html
 load 1429088.html
 load 1429961.html
 load 1429962.html
 load 1435015.html
diff --git a/layout/forms/crashtests/crashtests.list b/layout/forms/crashtests/crashtests.list
--- a/layout/forms/crashtests/crashtests.list
+++ b/layout/forms/crashtests/crashtests.list
@@ -15,18 +15,16 @@ load chrome://reftest/content/crashtests
 load 363696-2.html
 load 363696-3.html
 load 366205-1.html
 load 366537-1.xhtml
 load 367587-1.html
 load 370703-1.html
 load 370940-1.html
 load 370967.html
-skip-if(!xbl) load 373586-1.xhtml
-skip-if(!xbl) load 375299.html
 load 378369.html
 load 378413-1.xhtml
 load 380116-1.xhtml
 load 382610-1.html
 load 383887-1.html
 load 386554-1.html
 load 388374-1.xhtml
 load 388374-2.html
diff --git a/layout/generic/crashtests/crashtests.list b/layout/generic/crashtests/crashtests.list
--- a/layout/generic/crashtests/crashtests.list
+++ b/layout/generic/crashtests/crashtests.list
@@ -92,46 +92,42 @@ load 370794-1.html
 load 370866-1.xhtml
 load 370884-1.xhtml
 load 371348-1.xhtml
 load 371561-1.html
 load 371566-1.xhtml
 load 372376-1.xhtml
 load 373859-1.html
 load 373868-1.xhtml
-skip-if(!xbl) load 374090.html
-skip-if(!xbl) load 374420.xhtml
 load 375462-1.html
 load 375831.html
 load 376419.html
 load 377522.html
 load 379217-1.xhtml
 load 379217-2.xhtml
 load 379917-1.xhtml
 load 380012-1.html
 load 381152-1.html
 load 381786-1.html
 load 382129-1.xhtml
 load 382131-1.html
 load 382199-1.html
 load 382208-1.xhtml
 load 382262-1.html
 load 382396-1.xhtml
-skip-if(!xbl) load 382745-1.xhtml # Bug 758695
 load 383089-1.html
 load 385265-1.xhtml
 load 385295-1.xhtml
 load 385344-1.html
 load 385344-2.html
 load 385414-1.html
 load 385414-2.html
 load 385426-1.html
 load 385526.html
 load 385681.html
-skip-if(!xbl) load chrome://reftest/content/crashtests/layout/generic/crashtests/385885-1.xul
 load 386799-1.html
 load 386807-1.html
 load 386812-1.html
 load 386827-1.html
 load 387058-1.html
 load 387058-2.html
 load 387088-1.html
 load 387209-1.html
@@ -185,17 +181,16 @@ load 399412-1.html
 load 399843-1.html
 load 400078-1.html
 load 400190.html
 load 400223-1.html
 load 400232-1.html
 load 400244-1.html
 load 400768-1.xhtml
 load 400768-2.xhtml
-skip-if(!xbl) load 401042-1.xhtml
 load 401042-2.html
 load 402380-1.html
 load 402380-2.html
 load 402872-1.html
 load 402872-2.html
 load 403004.html
 load 403143-1.html
 load 403576-1.html
@@ -241,39 +236,36 @@ load 413712-1.xhtml # bug 1323680
 load 414061-1.html
 load chrome://reftest/content/crashtests/layout/generic/crashtests/414180-1.xul
 load 414719-1.html
 load 415685-1.html
 load 415818.xhtml
 load 416165.html
 load 416264-1.html
 load 416476-1.html
-skip-if(!xbl) load 417109-1.xhtml
 load 417848-1.xhtml
 load 417902-1.html
 load 417902-2.html
 load 418532-1.html
 load 418932-1.html
 load 419352.html
 load 420000-1.html
 load 420718.html
-skip-if(!xbl) load 420785-1.xhtml
 load 421404-1.html
 load 421671.html
 load 422283-1.html
 load 422301-1.html
 load 423055-1.html
 load 423098.html
 load 423264-1.html
 load 424629.html
 load 425253-1.html
 load 426040-1.html
 load 426272-1.html
 load 428263-1.html
-skip-if(!xbl) load 429458.xhtml
 load 429960-1.html
 load 429960-2.html
 load 429969-1.html
 load 429981-1.html
 load 430332-1.html
 load 430344-1.html
 load 430352-1.html
 load 430744-1.html
@@ -318,17 +310,16 @@ load 457380-1.html
 asserts(1) asserts-if(Android,0-1) load 459968.html # bug 1067022
 load 460910-1.xml
 load 461294-1.html
 load 462968.xhtml
 load 463350-1.html
 load 463350-2.html
 load 463350-3.html
 load 463741-1.html
-skip-if(!xbl) load 463785.xhtml
 load 465651-1.html
 load 467137-1.html
 load 467213-1.html
 load 467487-1.html
 load 467493-1.html
 load 467493-2.html
 load 467875-1.xhtml
 load 467914-1.html
@@ -365,17 +356,16 @@ load 494283-1.xhtml
 load 494283-2.html
 load 494332-1.html
 load 495875-1.html
 load 495875-2.html
 load 496742.html
 load 499138.html
 load 499857-1.html
 load 499862-1.html
-skip-if(!xbl) asserts(0-3) load 499885-1.xhtml # Bug 1220265
 load 501535-1.html
 load 503961-1.xhtml
 load 503961-2.html
 load 505912-1.html
 load 507566.html
 load 508154-1.xhtml
 load 508168-1.html
 load chrome://reftest/content/crashtests/layout/generic/crashtests/508816-1.xul
diff --git a/layout/inspector/tests/mochitest.ini b/layout/inspector/tests/mochitest.ini
--- a/layout/inspector/tests/mochitest.ini
+++ b/layout/inspector/tests/mochitest.ini
@@ -3,24 +3,20 @@ support-files =
   bug1202095.css
   bug1202095-2.css
   bug856317.css
   file_bug522601.html
 
 [test_bug462787.html]
 [test_bug462789.html]
 [test_bug522601-shadow.xhtml]
-[test_bug522601.xhtml]
-skip-if = !xbl
 [test_bug536379.html]
 [test_bug536379-2.html]
 [test_bug557726.html]
 [test_bug609549-shadow.xhtml]
-[test_bug609549.xhtml]
-skip-if = !xbl
 [test_bug856317.html]
 [test_bug877690.html]
 [test_bug1006595.html]
 [test_color_to_rgba.html]
 [test_css_property_is_shorthand.html]
 [test_getCSSStyleRules.html]
 support-files =
   file_getCSSStyleRules-default.html
diff --git a/layout/mathml/crashtests/crashtests.list b/layout/mathml/crashtests/crashtests.list
--- a/layout/mathml/crashtests/crashtests.list
+++ b/layout/mathml/crashtests/crashtests.list
@@ -46,17 +46,16 @@ load 412237-1.xml
 load 413063-1.xhtml
 load 416907-1.xhtml
 load 420420-1.xhtml
 load 431072-1.xhtml
 load 443089-1.xhtml
 load 463763-1.xhtml
 load 463763-2.xhtml
 load 476547-1.xhtml
-skip-if(!xbl) load 477740-1.xhtml
 load 541620-1.xhtml
 load 557474-1.html
 load 654928-1.html
 load 655451-1.xhtml
 load 713606-1.html
 load 716349-1.html
 load 767251.xhtml
 load 848725-1.html
diff --git a/layout/reftests/bugs/1369954-1-ref.xhtml b/layout/reftests/bugs/1369954-1-ref.xhtml
deleted file mode 100644
--- a/layout/reftests/bugs/1369954-1-ref.xhtml
+++ /dev/null
@@ -1,17 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml">
-  <head>
-    <style>
-      span { color: green; }
-      b { color: purple }
-    </style>
-  </head>
-  <body>
-    <div>
-      <span>This should be green</span>
-      <p>
-        <span>This should also be green</span><br/>
-        <b>This should be purple</b>
-      </p>
-    </div>
-  </body>
-</html>
diff --git a/layout/reftests/bugs/1369954-1.xhtml b/layout/reftests/bugs/1369954-1.xhtml
deleted file mode 100644
--- a/layout/reftests/bugs/1369954-1.xhtml
+++ /dev/null
@@ -1,26 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml">
-  <head>
-    <bindings xmlns="http://www.mozilla.org/xbl"
-              xmlns:xhtml="http://www.w3.org/1999/xhtml">
-      <binding id="a">
-        <content>
-          <span>This should be green</span>
-          <xhtml:p>
-            <children></children>
-          </xhtml:p>
-        </content>
-      </binding>
-    </bindings>
-    <style>
-      div > span { color: green; }
-      p > span { color: red !important; }
-      p { color: purple }
-    </style>
-  </head>
-  <body>
-    <div style="-moz-binding: url(#a)">
-      <span>This should also be green</span><br/>
-      <b>This should be purple</b>
-    </div>
-  </body>
-</html>
diff --git a/layout/reftests/bugs/1371130-ref.xhtml b/layout/reftests/bugs/1371130-ref.xhtml
deleted file mode 100644
--- a/layout/reftests/bugs/1371130-ref.xhtml
+++ /dev/null
@@ -1,24 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml">
-  <head>
-    <bindings xmlns="http://www.mozilla.org/xbl"
-              xmlns:xhtml="http://www.w3.org/1999/xhtml">
-      <binding id="a">
-        <content>
-          <xhtml:p>
-            <children></children>
-          </xhtml:p>
-          <xhtml:span>This should also be green.</xhtml:span>
-        </content>
-      </binding>
-    </bindings>
-    <style>
-      span { color: red; }
-      div > span { color: green; }
-    </style>
-  </head>
-  <body>
-    <div style="-moz-binding: url(#a)">
-      <span>This should be green.</span>
-    </div>
-  </body>
-</html>
diff --git a/layout/reftests/bugs/1371130.xhtml b/layout/reftests/bugs/1371130.xhtml
deleted file mode 100644
--- a/layout/reftests/bugs/1371130.xhtml
+++ /dev/null
@@ -1,24 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml">
-  <head>
-    <bindings xmlns="http://www.mozilla.org/xbl"
-              xmlns:xhtml="http://www.w3.org/1999/xhtml">
-      <binding id="a">
-        <content>
-          <xhtml:p>
-            <children></children>
-          </xhtml:p>
-          <xhtml:span>This should also be green.</xhtml:span>
-        </content>
-      </binding>
-    </bindings>
-    <style>
-      span { color: red; }
-      div.x > span { color: green; }
-    </style>
-  </head>
-  <body onload="document.body.offsetTop; document.querySelector('div').className = 'x'">
-    <div style="-moz-binding: url(#a)">
-      <span>This should be green.</span>
-    </div>
-  </body>
-</html>
diff --git a/layout/reftests/bugs/232990-1b.xhtml b/layout/reftests/bugs/232990-1b.xhtml
deleted file mode 100644
--- a/layout/reftests/bugs/232990-1b.xhtml
+++ /dev/null
@@ -1,63 +0,0 @@
-<?xml version="1.0"?>
-<html xmlns="http://www.w3.org/1999/xhtml">
-  <head>
-    <title>display test</title>
-    <bindings xmlns="http://www.mozilla.org/xbl"
-              xmlns:pp="prettyprint"
-              xmlns:html="http://www.w3.org/1999/xhtml">
-
-      <binding id="expander">
-        <content><pp:float>-</pp:float><children/></content>
-      </binding>
-    </bindings>
-
-    <style type="text/css">
-<![CDATA[
-@namespace pp url("prettyprint");
-pp|expander-box,
-pp|pre-content {
-  display: block;
-}
-
-pp|expander-box[collapsed] > pp|float,
-pp|expander-box[collapsed] > pp|pre-content {
-  display: inline;
-  float: none;
-}
-
-pp|expander-box[xbl] {
-  -moz-binding: url(#expander);
-}
-
-pp|float {
-  float: left;
-}
-    ]]></style>
-    <script>
-<![CDATA[
-var target;
-function onLoad() {
-var res = document.evaluate("descendant::pp:expander-box",
-                    document.documentElement,
-                    function(aPref){return "prettyprint";},
-                    0, null);
-target = res.iterateNext();
-toggle();
-}
-
-function toggle() {
-  target.setAttribute("collapsed", "collapsed");
-}
-    ]]></script>
-  </head>
-
-  <body onload="onLoad()">
-    <div>
-<pp:content xmlns:pp="prettyprint">
-  <pp:expander-box xbl="yes">
-    <pp:pre-content>pre</pp:pre-content>
-  </pp:expander-box>
-</pp:content>
-    </div>
-  </body>
-</html>
diff --git a/layout/reftests/bugs/309914-1-ref.xul b/layout/reftests/bugs/309914-1-ref.xul
deleted file mode 100644
--- a/layout/reftests/bugs/309914-1-ref.xul
+++ /dev/null
@@ -1,11 +0,0 @@
-<?xml version="1.0"?>
-<?xml-stylesheet href="chrome://global/skin/global.css" type="text/css"?>
-
-<window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
-<hbox>
-  <label value="anon label"/>
-  <button label="1"/>
-  <button label="0"/>
-</hbox>
-
-</window>
diff --git a/layout/reftests/bugs/309914-1.xul b/layout/reftests/bugs/309914-1.xul
deleted file mode 100644
--- a/layout/reftests/bugs/309914-1.xul
+++ /dev/null
@@ -1,45 +0,0 @@
-<?xml version="1.0"?>
-<?xml-stylesheet href="chrome://global/skin/global.css" type="text/css"?>
-
-<window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
-	class="reftest-wait">
-
-<hbox style="display: none">
-  <bindings id="testBindings" xmlns="http://www.mozilla.org/xbl"
-	    xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
-
-    <binding id="testBinding" >
-      <content>
-	<xul:label value="anon label"/>
-	<children/>
-      </content>
-    </binding>
-  </bindings>
-</hbox>
-<script>
-<![CDATA[
-var cont;
-
-window.onload = function() {
-  const XUL_NS = "http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul";
-  cont = document.getElementById("container");
-
-  for(var i=0; i<2; i++) {
-    var item = document.createElementNS(XUL_NS, "button");
-    cont.appendChild(item);
-    item.label = i;
-  }
-
-  document.documentElement.getBoundingClientRect();
-
-  var item = cont.firstChild;
-  //alert(item.label);
-  cont.insertBefore(item.nextSibling, item);
-  document.documentElement.removeAttribute("class");
-}
-]]>
-</script>
-
-<hbox id="container" style="-moz-binding: url('#testBinding');"/>
-
-</window>
diff --git a/layout/reftests/bugs/334829-1a.xhtml b/layout/reftests/bugs/334829-1a.xhtml
deleted file mode 100644
--- a/layout/reftests/bugs/334829-1a.xhtml
+++ /dev/null
@@ -1,33 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml">
-<head>
-  <bindings xmlns="http://www.mozilla.org/xbl">
-    <binding id="test">
-      <content>
-        <span><children/></span>
-      </content>
-    </binding>
-  </bindings>
-  <script type="application/x-javascript">
-    function runTest() {
-      var div = document.getElementById("testDiv");
-
-      // First we have to make sure that we've looked up the primary frame for
-      // the textnode.  Appending a space should do the trick.
-      div.firstChild.data += " ";
-
-      // Now flush our reflow
-      document.body.offsetWidth;
-
-      var node = document.createElementNS("http://www.w3.org/1999/xhtml",
-                                          "span");
-      div.appendChild(node);
-      node.appendChild(document.createTextNode("This text should appear"));
-    }
-  </script>
-</head>
-
-<body onload="runTest()">
-<div id="testDiv" style="width: 0; -moz-binding: url(#test)">This is text in a div</div>
-
-</body>
-</html>
diff --git a/layout/reftests/bugs/334829-1b.xhtml b/layout/reftests/bugs/334829-1b.xhtml
deleted file mode 100644
--- a/layout/reftests/bugs/334829-1b.xhtml
+++ /dev/null
@@ -1,34 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml">
-<head>
-  <bindings xmlns="http://www.mozilla.org/xbl">
-    <binding id="test">
-      <content>
-        <span><children/></span>
-      </content>
-    </binding>
-  </bindings>
-  <script type="application/x-javascript">
-    function runTest() {
-      var div = document.getElementById("testDiv");
-
-      // First we have to make sure that we've looked up the primary frame for
-      // the previous child span.  Appending text to it should do the trick.
-      div.firstChild.
-          appendChild(document.createTextNode("This is text in a div "));
-
-      // Now flush out reflow
-      document.body.offsetWidth;
-
-      var node = document.createElementNS("http://www.w3.org/1999/xhtml",
-                                          "span");
-      div.appendChild(node);
-      node.appendChild(document.createTextNode("This text should appear"));
-    }
-  </script>
-</head>
-
-<body onload="runTest()">
-<div id="testDiv" style="width: 0; -moz-binding: url(#test)"><span></span></div>
-
-</body>
-</html>
diff --git a/layout/reftests/bugs/348049-1-ref.xhtml b/layout/reftests/bugs/348049-1-ref.xhtml
deleted file mode 100644
--- a/layout/reftests/bugs/348049-1-ref.xhtml
+++ /dev/null
@@ -1,7 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml">
-  <body>
-    <div>
-      <td>PASS</td>
-    </div>
-  </body>
-</html>
diff --git a/layout/reftests/bugs/348049-1.xhtml b/layout/reftests/bugs/348049-1.xhtml
deleted file mode 100644
--- a/layout/reftests/bugs/348049-1.xhtml
+++ /dev/null
@@ -1,24 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml"
-      xmlns:html="http://www.w3.org/1999/xhtml"
-      class="reftest-wait">
-  <head>
-    <bindings xmlns="http://www.mozilla.org/xbl">
-      <binding id="td">
-        <content>
-          <html:td><children/></html:td>
-        </content>
-      </binding>
-    </bindings>
-    <script>
-      function f1() {
-        document.getElementById("outer")
-                .appendChild(document.createTextNode("PASS"));
-        document.documentElement.className = "";
-      }
-    </script>
-  </head>
-  <body onload="f1();">
-    <div id="outer" style="-moz-binding: url(#td)"/>
-  </body>
-
-</html>
diff --git a/layout/reftests/bugs/366207-1-ref.xul b/layout/reftests/bugs/366207-1-ref.xul
deleted file mode 100644
--- a/layout/reftests/bugs/366207-1-ref.xul
+++ /dev/null
@@ -1,7 +0,0 @@
-<?xml version="1.0"?>
-
-<?xml-stylesheet href="chrome://global/skin/" type="text/css"?>
-<window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
-<label>After</label>
-</window>
-
diff --git a/layout/reftests/bugs/366207-1.xul b/layout/reftests/bugs/366207-1.xul
deleted file mode 100644
--- a/layout/reftests/bugs/366207-1.xul
+++ /dev/null
@@ -1,54 +0,0 @@
-<?xml version="1.0"?>
-
-<?xml-stylesheet href="chrome://global/skin/" type="text/css"?>
-
-<window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
-        onload="loaded()"
-	class="reftest-wait">
-        
-<hbox style="display: none">
-<bindings xmlns="http://www.mozilla.org/xbl"
-          xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
-  <binding id="foo">
-    <content>
-      <xul:hbox
-         xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
-       <xul:label>After</xul:label>
-     </xul:hbox>
-     <xul:hbox style="display:none">
-       <children/>
-     </xul:hbox>
-    </content>
-    <implementation>
-      <constructor>
-        var win = XPCNativeWrapper.unwrap(window);
-        win.setTimeout(function() {
-          win.document.documentElement.clientHeight;
-          win.setTimeout(win.finish, 0);
-        }, 0);
-      </constructor>
-    </implementation>
-  </binding>
-</bindings>
-</hbox>
-
-<script>
-function loaded()
-{
-  setTimeout(function() {
-    document.documentElement.clientHeight;
-    setTimeout(boom, 0);
-  }, 0);
-}
-function boom()
-{
-  document.documentElement.style.MozBinding = "url('#foo')"; 
-}
-function finish()
-{
-  document.documentElement.removeAttribute("class");
-}
-</script>
-<label>Before</label>
-</window>
-
diff --git a/layout/reftests/bugs/372323-1.xhtml b/layout/reftests/bugs/372323-1.xhtml
deleted file mode 100644
--- a/layout/reftests/bugs/372323-1.xhtml
+++ /dev/null
@@ -1,32 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml" class="reftest-wait">
-  <head>
-    <style>
-      div { color: green; }
-    </style>
-  </head>
-  <body onload="runTest()">
-    <div id="test1" style="-moz-binding: url(372323-1xbl.xml#test);"/>
-    <div id="test2" style="-moz-binding: url(372323-1xbl.xml#test);">
-      <!-- Make the script load, so the binding loads first -->
-      <script src="data:text/javascript,document.body.offsetWidth;"/>
-      <!-- The whitespace here is important... or this comment will do
-           the trick too -->
-      <span>test</span>
-    </div>
-    <script>
-      function runTest() {
-        var n = document.getElementById("test1");
-        n.appendChild(makeSpan());
-
-        document.documentElement.className = "";
-      }
-
-      function makeSpan() {
-        var s = document.createElementNS("http://www.w3.org/1999/xhtml",
-                                         "span");
-        s.appendChild(document.createTextNode("test"));
-        return s;
-      }      
-    </script>
-  </body>
-</html>
diff --git a/layout/reftests/bugs/374719-1-css.css b/layout/reftests/bugs/374719-1-css.css
deleted file mode 100644
--- a/layout/reftests/bugs/374719-1-css.css
+++ /dev/null
@@ -1,57 +0,0 @@
-gridlikebox {
-  margin: 2px 4px;
-  background-color: -moz-Field;
-  color: -moz-FieldText;
-  -moz-binding: url('374719-1-xbl.xml#gridlike');
-  -moz-user-focus: normal;
-  -moz-appearance: listbox;
-}
-
-gridlikehead {
-  -moz-binding: url("374719-1-xbl.xml#gridlikehead");
-}
-
-gridlikebox > scrollbox > box {
-  display: -moz-grid;
-}
-
-gridlikecols, gridlikehead, gridlikerows, gridlikeboxbody {
-  display: -moz-grid-group;
-}
-
-gridlikecol, gridlikeitem, gridlikeheaditem {
-  display: -moz-grid-line;
-}
-
-gridlikehead {
-  -moz-box-orient: vertical;
-}
-
-gridlikerows {
-  -moz-box-orient: vertical;
-  -moz-box-flex: 1;
-}
-
-gridlikeboxbody {
-  -moz-box-orient: vertical;
-  -moz-box-flex: 1;
-}
-
-gridlikecol {
-  -moz-box-orient: vertical;
-  min-width: 16px;
-}
-
-gridlikeheader {
-  -moz-box-ordinal-group: 2147483646;
-  -moz-appearance: treeheadercell;
-  -moz-box-align: center;
-  border: 2px solid;
-  -moz-border-top-colors: ThreeDHighlight ThreeDLightShadow;
-  -moz-border-right-colors: ThreeDDarkShadow ThreeDShadow;
-  -moz-border-bottom-colors: ThreeDDarkShadow ThreeDShadow;
-  -moz-border-left-colors: ThreeDHighlight ThreeDLightShadow;
-  background-color: -moz-Dialog;
-  color: -moz-DialogText;
-  padding: 0 4px;
-}
diff --git a/layout/reftests/bugs/374719-1-ref.xul b/layout/reftests/bugs/374719-1-ref.xul
deleted file mode 100644
--- a/layout/reftests/bugs/374719-1-ref.xul
+++ /dev/null
@@ -1,41 +0,0 @@
-<?xml version="1.0"?>
-
-<?xml-stylesheet href="chrome://global/skin/global.css"
-                 type="text/css"?>
-<?xml-stylesheet href="374719-1-css.css"
-                 type="text/css"?>
-
-<window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
-  <gridlikebox flex="1">
-    <gridlikecols>
-      <gridlikecol flex="1"/>
-      <gridlikecol flex="1"/>
-    </gridlikecols>
-
-    <gridlikehead>
-      <gridlikeheader label="Col1"/>
-      <gridlikeheader label="Col2"/>
-    </gridlikehead>
-
-    <gridlikeitem value="hello1">
-      <gridlikecell><label value="Hello"/></gridlikecell>
-      <gridlikecell><label value="Hello"/></gridlikecell>
-    </gridlikeitem>
-    <gridlikeitem value="aValue">
-      <gridlikecell><label value="aLabel1"/></gridlikecell>
-      <gridlikecell><label value="aLabel2"/></gridlikecell>
-    </gridlikeitem>
-    <gridlikeitem value="hello2">
-      <gridlikecell><label value="Hello2"/></gridlikecell>
-      <gridlikecell><label value="Hello2.1"/></gridlikecell>
-    </gridlikeitem>
-    <gridlikeitem value="hello3">
-      <gridlikecell><label value="Hello592"/></gridlikecell>
-      <gridlikecell><label value="Hello592.1"/></gridlikecell>
-    </gridlikeitem>
-    <gridlikeitem value="hello4">
-      <gridlikecell><label value="Hello4"/></gridlikecell>
-      <gridlikecell><label value="Hello4--"/></gridlikecell>
-    </gridlikeitem>
-  </gridlikebox>
-</window>
diff --git a/layout/reftests/bugs/374719-1-xbl.xml b/layout/reftests/bugs/374719-1-xbl.xml
deleted file mode 100644
--- a/layout/reftests/bugs/374719-1-xbl.xml
+++ /dev/null
@@ -1,34 +0,0 @@
-<?xml version="1.0"?>
-
-<bindings xmlns="http://www.mozilla.org/xbl"
-          xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
-          xmlns:xbl="http://www.mozilla.org/xbl"
-          xmlns:html="http://www.w3.org/1999/xhtml">
-
-  <binding id="gridlike">
-    <content>
-      <xul:scrollbox allowevents="true" orient="vertical" anonid="main-box"
-                     flex="1" style="overflow: auto;">
-        <children includes="gridlikecols">
-          <xul:gridlikecols>
-            <xul:gridlikecol flex="1"/>
-          </xul:gridlikecols>
-        </children>
-        <xul:gridlikerows>
-          <children includes="gridlikehead"/>
-          <xul:gridlikeboxbody xbl:inherits="rows,size,minheight">
-            <children includes="gridlikeitem"/>
-          </xul:gridlikeboxbody>
-        </xul:gridlikerows>
-      </xul:scrollbox>
-    </content>
-  </binding>
-
-  <binding id="gridlikehead">
-    <content>
-      <xul:gridlikeheaditem>
-        <children includes="gridlikeheader"/>
-      </xul:gridlikeheaditem>
-    </content>
-  </binding>
-</bindings>
diff --git a/layout/reftests/bugs/374719-1.xul b/layout/reftests/bugs/374719-1.xul
deleted file mode 100644
--- a/layout/reftests/bugs/374719-1.xul
+++ /dev/null
@@ -1,74 +0,0 @@
-<?xml version="1.0"?>
-
-<?xml-stylesheet href="chrome://global/skin/global.css"
-                 type="text/css"?>
-<?xml-stylesheet href="374719-1-css.css"
-                 type="text/css"?>
-
-<window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
-	onload="test2()">
-
-  <script>
-    function test2()
-    {
-      var r = document.getElementById('rbox');
-
-      const XULNS =
-        "http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul";
-
-      var item = document.createElementNS(XULNS, "gridlikeitem");
-      item.setAttribute("value", "aValue");
-
-      var cell1 = document.createElementNS(XULNS, "gridlikecell");
-      var label1 = document.createElementNS(XULNS, "label");
-      label1.setAttribute("value", "aLabel1");
-      label1.setAttribute("flex", "1");
-      label1.setAttribute("crop", "end");
-      cell1.appendChild(label1);
-      item.appendChild(cell1);
-
-      var cell2 = document.createElementNS(XULNS, "gridlikecell");
-      var label2 = document.createElementNS(XULNS, "label");
-      label2.setAttribute("value", "aLabel2");
-      label2.setAttribute("flex", "1");
-      label2.setAttribute("crop", "end");
-      cell2.appendChild(label2);
-      item.appendChild(cell2);
-
-      var before = document.getElementById("inx");
-      if (!before)
-        r.appendChild(item);
-      else
-        r.insertBefore(item, before);
-    }
-  </script>
-
-  <gridlikebox flex="1" id="rbox">
-    <gridlikecols>
-      <gridlikecol flex="1"/>
-      <gridlikecol flex="1"/>
-    </gridlikecols>
-
-    <gridlikehead>
-      <gridlikeheader label="Col1"/>
-      <gridlikeheader label="Col2"/>
-    </gridlikehead>
-
-    <gridlikeitem value="hello1">
-      <gridlikecell><label value="Hello"/></gridlikecell>
-      <gridlikecell><label value="Hello"/></gridlikecell>
-    </gridlikeitem>
-    <gridlikeitem value="hello2" id="inx">
-      <gridlikecell><label value="Hello2"/></gridlikecell>
-      <gridlikecell><label value="Hello2.1"/></gridlikecell>
-    </gridlikeitem>
-    <gridlikeitem value="hello3">
-      <gridlikecell><label value="Hello592"/></gridlikecell>
-      <gridlikecell><label value="Hello592.1"/></gridlikecell>
-    </gridlikeitem>
-    <gridlikeitem value="hello4">
-      <gridlikecell><label value="Hello4"/></gridlikecell>
-      <gridlikecell><label value="Hello4--"/></gridlikecell>
-    </gridlikeitem>
-  </gridlikebox>
-</window>
diff --git a/layout/reftests/bugs/386310-1b.html b/layout/reftests/bugs/386310-1b.html
deleted file mode 100644
--- a/layout/reftests/bugs/386310-1b.html
+++ /dev/null
@@ -1,9 +0,0 @@
-<!DOCTYPE html>
-<html>
-  <head>
-    <script src="386310-script.js"></script>
-  </head>
-  <body>
-    <div id="test" style="-moz-binding: url(386310-binding.xml#prepend);">first second third [fourth]</div>
-  </body>
-</html>
diff --git a/layout/reftests/bugs/386310-1c.html b/layout/reftests/bugs/386310-1c.html
deleted file mode 100644
--- a/layout/reftests/bugs/386310-1c.html
+++ /dev/null
@@ -1,9 +0,0 @@
-<!DOCTYPE html>
-<html>
-  <head>
-    <script src="386310-script.js"></script>
-  </head>
-  <body>
-    <div id="test" style="-moz-binding: url(386310-binding.xml#append);">first second third [fourth]</div>
-  </body>
-</html>
diff --git a/layout/reftests/bugs/386310-1d.html b/layout/reftests/bugs/386310-1d.html
deleted file mode 100644
--- a/layout/reftests/bugs/386310-1d.html
+++ /dev/null
@@ -1,9 +0,0 @@
-<!DOCTYPE html>
-<html>
-  <head>
-    <script src="386310-script.js"></script>
-  </head>
-  <body>
-    <div id="test" style="-moz-binding: url(386310-binding.xml#prepend-with-comment-fix);">first second third [fourth]</div>
-  </body>
-</html>
diff --git a/layout/reftests/bugs/394676-1-ref.xhtml b/layout/reftests/bugs/394676-1-ref.xhtml
deleted file mode 100644
--- a/layout/reftests/bugs/394676-1-ref.xhtml
+++ /dev/null
@@ -1,6 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml">
-<body>
-<span id="test">constructor onload </span>
-</body>
-</html>
-
diff --git a/layout/reftests/bugs/394676-1.xhtml b/layout/reftests/bugs/394676-1.xhtml
deleted file mode 100644
--- a/layout/reftests/bugs/394676-1.xhtml
+++ /dev/null
@@ -1,40 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml" class="reftest-wait">
-<head>
-  <bindings xmlns="http://www.mozilla.org/xbl">
-    <binding id="xbltest">
-      <implementation>
-        <constructor>
-          <![CDATA[
-            var win = XPCNativeWrapper.unwrap(window);
-            win.str += "constructor "
-            win.testFinished();
-          ]]>
-        </constructor>
-      </implementation>
-    </binding>
-  </bindings>
-</head>
-<body>
-<span id="test" style="-moz-binding: url(#xbltest)"></span>
-<script class="testbody" type="text/javascript">
-<![CDATA[
-  var testsToFinish = 2;
-  var str = "";
-  
-  function testFinished() {
-    --testsToFinish;
-    if (!testsToFinish) {
-      document.getElementById("test").textContent = str;
-      document.documentElement.className = '';
-    }
-  }
-
-  window.onload = function() {
-    str += "onload ";
-    testFinished();
-  }
-]]>
-</script>
-</body>
-</html>
-
diff --git a/layout/reftests/bugs/395331-1-ref.xml b/layout/reftests/bugs/395331-1-ref.xml
deleted file mode 100644
--- a/layout/reftests/bugs/395331-1-ref.xml
+++ /dev/null
@@ -1,6 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml"
-      xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
-<body>
-Kitty
-</body>
-</html> 
diff --git a/layout/reftests/bugs/395331-1.xml b/layout/reftests/bugs/395331-1.xml
deleted file mode 100644
--- a/layout/reftests/bugs/395331-1.xml
+++ /dev/null
@@ -1,19 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml"
-      xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
-<head>
-<style>
-.base { -moz-binding: url("395331-xbl.xml#base"); }
-.inner { -moz-binding: url("395331-xbl.xml#inner"); }
-</style>
-<script>
-function boom()
-{
-  var x = document.getElementById("x");
-  x.removeChild(x.firstChild);
-}
-</script>
-</head>
-<body onload="boom();">
-<xul:box class="base" id="x" style="height:2em;">Hello</xul:box>Kitty
-</body>
-</html> 
diff --git a/layout/reftests/bugs/396286-1.html b/layout/reftests/bugs/396286-1.html
deleted file mode 100644
--- a/layout/reftests/bugs/396286-1.html
+++ /dev/null
@@ -1,12 +0,0 @@
-<html><head>
-<style id="script">#a::first-line {}</style>
-</head>
-<body>
-<span id="a" style="-moz-binding: url(396286-1xbl.xml#a);">
-  <br>
-  <span style="-moz-binding: url(396286-1xbl.xml#b);">
-    <span style="position: absolute;-moz-binding: url(396286-1xbl.xml#a);"></span>
-  </span>
-</span>
-</body>
-</html>
diff --git a/layout/reftests/bugs/403962-1-ref.xhtml b/layout/reftests/bugs/403962-1-ref.xhtml
deleted file mode 100644
--- a/layout/reftests/bugs/403962-1-ref.xhtml
+++ /dev/null
@@ -1,17 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml">
-  <head>
-    <style>
-      div { color: green; }
-    </style>
-  </head>
-  <body>
-    <div>
-      <!-- Need the non-breaking spaces to avoid some reftest badness due to
-           the 't' extending outside its nominal metrics -->
-      <span>&#xA0;test</span>
-    </div>
-    <div>
-      <span>&#xA0;test</span>
-    </div>
-  </body>
-</html>
diff --git a/layout/reftests/bugs/403962-1.xhtml b/layout/reftests/bugs/403962-1.xhtml
deleted file mode 100644
--- a/layout/reftests/bugs/403962-1.xhtml
+++ /dev/null
@@ -1,36 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml" class="reftest-wait">
-  <head>
-    <style>
-      div { color: green; }
-
-      #test1, #test2 {
-        -moz-binding: url(403962-1xbl.xml#test);
-      }
-    </style>
-  </head>
-  <body onload="runTest()">
-    <div id="test1"/>
-    <div id="test2">
-      <!-- Make the script load, so the binding loads first -->
-      <script src="data:text/javascript,document.body.offsetWidth;"/>
-      <!-- The whitespace here is important... or this comment will do
-           the trick too -->
-      <span>&#xA0;test</span>
-    </div>
-    <script>
-      function runTest() {
-        var n = document.getElementById("test1");
-        n.appendChild(makeSpan());
-
-        document.documentElement.className = "";
-      }
-
-      function makeSpan() {
-        var s = document.createElementNS("http://www.w3.org/1999/xhtml",
-                                         "span");
-        s.appendChild(document.createTextNode("&#xA0;test"));
-        return s;
-      }      
-    </script>
-  </body>
-</html>
diff --git a/layout/reftests/bugs/403962-1xbl.xml b/layout/reftests/bugs/403962-1xbl.xml
deleted file mode 100644
--- a/layout/reftests/bugs/403962-1xbl.xml
+++ /dev/null
@@ -1,22 +0,0 @@
-<bindings xmlns="http://www.mozilla.org/xbl">
-  <binding id="test">
-    <content>
-      <html:div xmlns:html="http://www.w3.org/1999/xhtml"
-                style="color: red; -moz-binding: url(403962-1xbl.xml#test-base)">
-        <children/>
-      </html:div>
-    </content>
-  </binding>
-
-  <binding id="test-base">
-    <content>
-      <html:div xmlns:html="http://www.w3.org/1999/xhtml" style="color: green">
-        <children includes="span"/>
-      </html:div>
-      <html:div xmlns:html="http://www.w3.org/1999/xhtml" style="color: red">
-        <children/>
-      </html:div>
-
-    </content>
-  </binding>
-</bindings>
diff --git a/layout/reftests/bugs/405186-1.xhtml b/layout/reftests/bugs/405186-1.xhtml
deleted file mode 100644
--- a/layout/reftests/bugs/405186-1.xhtml
+++ /dev/null
@@ -1,37 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml">
-<head>
-
-<bindings xmlns="http://www.mozilla.org/xbl">
-  <binding id="foo">
-    <content>
-      <div xmlns="http://www.w3.org/1999/xhtml" style="position: fixed;">
-        <children xmlns="http://www.mozilla.org/xbl"/>
-      </div>
-    </content>
-  </binding>
-</bindings>
-
-<script type="text/javascript">
-
-function boom()
-{
-  var tr = document.getElementById("tr");
-  var td = document.getElementById("td");
-  
-  tr.removeChild(td);
-}
-
-</script>
-</head>
-
-<body onload="boom();">
-
-<table id="table" style="-moz-binding: url(#foo);">
-  <tr id="tr">
-    <td id="td">Text</td>
-  </tr>
-</table>
-
-</body>
-
-</html>
diff --git a/layout/reftests/bugs/420790-1-ref.xhtml b/layout/reftests/bugs/420790-1-ref.xhtml
deleted file mode 100644
--- a/layout/reftests/bugs/420790-1-ref.xhtml
+++ /dev/null
@@ -1,7 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml">
-
-<head></head>
-
-<body><caption id="cap">ABC DEF</caption></body>
-
-</html>
diff --git a/layout/reftests/bugs/420790-1.xhtml b/layout/reftests/bugs/420790-1.xhtml
deleted file mode 100644
--- a/layout/reftests/bugs/420790-1.xhtml
+++ /dev/null
@@ -1,26 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml">
-
-<head>
-
-<bindings xmlns="http://www.mozilla.org/xbl" xmlns:html="http://www.w3.org/1999/xhtml">
-  <binding id="foo">
-    <content><html:span>ABC DEF<children xmlns="http://www.mozilla.org/xbl"/></html:span></content>
-  </binding>
-</bindings>
-
-<script type="text/javascript">
-
-function boom()
-{
-  var cap = document.getElementById("cap");
-  var space = document.createTextNode(" ");
-  cap.insertBefore(space, cap.firstChild);
-}
-
-</script>
-
-</head>
-
-<body onload="boom();">&#x202D;<caption id="cap" style="-moz-binding: url('#foo');"><span style="display: none;"/></caption></body>
-
-</html>
diff --git a/layout/reftests/bugs/468546-1-ref.xhtml b/layout/reftests/bugs/468546-1-ref.xhtml
deleted file mode 100644
--- a/layout/reftests/bugs/468546-1-ref.xhtml
+++ /dev/null
@@ -1,12 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml">
-<head>
-<style type="text/css">
-[class='anon'] { float: left; }
-[class='anon']:first-line { word-spacing: 30ch; }
-body { width: 30ch; }
-</style>
-</head>
-
-<body><div class="anon"><span>A B</span>jk</div></body>
-
-</html>
diff --git a/layout/reftests/bugs/468546-1.xhtml b/layout/reftests/bugs/468546-1.xhtml
deleted file mode 100644
--- a/layout/reftests/bugs/468546-1.xhtml
+++ /dev/null
@@ -1,25 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml">
-<head>
-<style type="text/css">
-
-[class='anon'], #v { float: left; }
-[class='anon']:first-line { word-spacing: 30ch; }
-body { width: 30ch; }
-
-</style>
-
-<bindings xmlns="http://www.mozilla.org/xbl"><binding id="foo"><content><div class="anon"><span>A B</span><children xmlns="http://www.mozilla.org/xbl"/></div></content></binding></bindings>
-
-<script type="text/javascript">
-
-function boom()
-{
-  document.body.insertBefore(document.createTextNode("jk"), document.body.firstChild);
-}
-
-</script>
-</head>
-
-<body onload="boom();" style="-moz-binding: url(#foo)"><div id="v"></div></body>
-
-</html>
diff --git a/layout/reftests/bugs/471594-1-ref.html b/layout/reftests/bugs/471594-1-ref.html
deleted file mode 100644
--- a/layout/reftests/bugs/471594-1-ref.html
+++ /dev/null
@@ -1,5 +0,0 @@
-<!DOCTYPE HTML>
-<html>
-<body style="white-space:pre;">a
-bs</body>
-</html>
diff --git a/layout/reftests/bugs/471594-1.xhtml b/layout/reftests/bugs/471594-1.xhtml
deleted file mode 100644
--- a/layout/reftests/bugs/471594-1.xhtml
+++ /dev/null
@@ -1,26 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml">
-<head>
-<bindings xmlns="http://www.mozilla.org/xbl">
-  <binding id="x"><content><span>a
-b<children xmlns="http://www.mozilla.org/xbl"/></span></content></binding>
-</bindings>
-<style>
-  div#d {
-    white-space: pre;
-    -moz-binding: url(#x);
-  }
-  span#s {
-    display: inline-block;
-  }
-</style>
-<script>
-function boom()
-{
-  document.getElementById("s").style.display = "inline";
-}
-</script>
-</head>
-<body onload="boom();">
-  <div id="d"><span id="s">s</span></div>
-</body>
-</html>
diff --git a/layout/reftests/bugs/472020-1-ref.xul b/layout/reftests/bugs/472020-1-ref.xul
deleted file mode 100644
--- a/layout/reftests/bugs/472020-1-ref.xul
+++ /dev/null
@@ -1,22 +0,0 @@
-<?xml version="1.0"?>
-<window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
-
-<style xmlns="http://www.w3.org/1999/xhtml"><![CDATA[
-  outer {
-    -moz-binding: url(472020-xbl.xml#outer);
-    border: 2px solid yellow;
-  }
-  inner {
-    -moz-binding: url(472020-xbl.xml#inner);
-  }
-  box {
-    width: 50px;
-    border: 2px solid green;
-  }
-]]></style>
-
-  <outer>
-    <box/>
-    <box/>
-  </outer>
-</window>
diff --git a/layout/reftests/bugs/472020-1a.xul b/layout/reftests/bugs/472020-1a.xul
deleted file mode 100644
--- a/layout/reftests/bugs/472020-1a.xul
+++ /dev/null
@@ -1,22 +0,0 @@
-<?xml version="1.0"?>
-<window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
-	onload="document.getElementById('o').appendChild(document.createXULElement('box'));">
-
-<style xmlns="http://www.w3.org/1999/xhtml"><![CDATA[
-  outer {
-    -moz-binding: url(472020-xbl.xml#outer);
-    border: 2px solid yellow;
-  }
-  inner {
-    -moz-binding: url(472020-xbl.xml#inner);
-  }
-  box {
-    width: 50px;
-    border: 2px solid green;
-  }
-]]></style>
-
-  <outer id="o">
-    <box/>
-  </outer>
-</window>
diff --git a/layout/reftests/bugs/472020-1b.xul b/layout/reftests/bugs/472020-1b.xul
deleted file mode 100644
--- a/layout/reftests/bugs/472020-1b.xul
+++ /dev/null
@@ -1,22 +0,0 @@
-<?xml version="1.0"?>
-<window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
-	onload="var p = document.getElementById('o'); p.insertBefore(document.createXULElement('box'), p.firstChild);">
-
-<style xmlns="http://www.w3.org/1999/xhtml"><![CDATA[
-  outer {
-    -moz-binding: url(472020-xbl.xml#outer);
-    border: 2px solid yellow;
-  }
-  inner {
-    -moz-binding: url(472020-xbl.xml#inner);
-  }
-  box {
-    width: 50px;
-    border: 2px solid green;
-  }
-]]></style>
-
-  <outer id="o">
-    <box/>
-  </outer>
-</window>
diff --git a/layout/reftests/bugs/472020-2-ref.xul b/layout/reftests/bugs/472020-2-ref.xul
deleted file mode 100644
--- a/layout/reftests/bugs/472020-2-ref.xul
+++ /dev/null
@@ -1,21 +0,0 @@
-<?xml version="1.0"?>
-<window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
-
-<style xmlns="http://www.w3.org/1999/xhtml"><![CDATA[
-  outer {
-    -moz-binding: url(472020-xbl.xml#outer);
-    border: 2px solid yellow;
-  }
-  inner {
-    -moz-binding: url(472020-xbl.xml#inner);
-  }
-  box {
-    width: 50px;
-    border: 2px solid green;
-  }
-]]></style>
-
-  <outer>
-    <box/>
-  </outer>
-</window>
diff --git a/layout/reftests/bugs/472020-2.xul b/layout/reftests/bugs/472020-2.xul
deleted file mode 100644
--- a/layout/reftests/bugs/472020-2.xul
+++ /dev/null
@@ -1,21 +0,0 @@
-<?xml version="1.0"?>
-<window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
-	onload="document.getElementById('o').appendChild(document.createXULElement('box'));">
-
-<style xmlns="http://www.w3.org/1999/xhtml"><![CDATA[
-  outer {
-    -moz-binding: url(472020-xbl.xml#outer);
-    border: 2px solid yellow;
-  }
-  inner {
-    -moz-binding: url(472020-xbl.xml#inner);
-  }
-  box {
-    width: 50px;
-    border: 2px solid green;
-  }
-]]></style>
-
-  <outer id="o">
-  </outer>
-</window>
diff --git a/layout/reftests/bugs/472020-xbl.xml b/layout/reftests/bugs/472020-xbl.xml
deleted file mode 100644
--- a/layout/reftests/bugs/472020-xbl.xml
+++ /dev/null
@@ -1,21 +0,0 @@
-<?xml version="1.0"?>
-<bindings xmlns="http://www.mozilla.org/xbl"
-          xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
-
-  <binding id="outer">
-    <content>
-      <xul:inner>
-	<xul:label value="Before"/>
-        <children/>
-        <xul:label value="After"/>
-      </xul:inner>
-    </content>
-  </binding>
-
-  <binding id="inner">
-    <content>
-      <children/>
-    </content>
-  </binding>
-
-</bindings>
diff --git a/layout/reftests/bugs/482592-1-ref.html b/layout/reftests/bugs/482592-1-ref.html
deleted file mode 100644
--- a/layout/reftests/bugs/482592-1-ref.html
+++ /dev/null
@@ -1,6 +0,0 @@
-<!DOCTYPE html>
-<html>
-  <body style="font-size: 300%">
-    xy
-  </body>
-</html>
diff --git a/layout/reftests/bugs/482592-1a-shadow.xhtml b/layout/reftests/bugs/482592-1a-shadow.xhtml
deleted file mode 100644
--- a/layout/reftests/bugs/482592-1a-shadow.xhtml
+++ /dev/null
@@ -1,30 +0,0 @@
-<!DOCTYPE html>
-<html xmlns="http://www.w3.org/1999/xhtml" class="reftest-wait">
-  <head>
-    <script>
-      customElements.define("custom-element", class extends HTMLElement {
-        constructor() {
-          super();
-          const template = document.getElementById("template");
-          const shadowRoot = this.attachShadow({mode: "open"})
-            .appendChild(template.content.cloneNode(true));
-        }
-      });
-      function doTest() {
-        var l = document.getElementById("l");
-        l.parentNode.insertBefore(document.createTextNode("x"), l);
-        document.documentElement.removeAttribute("class");
-      }
-    </script>
-  </head>
-  <body onload="doTest()">
-    <template id="template">
-      <style>
-        #hasAfter::after { content: "y"; }
-        #l { display: none; }
-      </style>
-      <span id="hasAfter"><slot/></span>
-    </template>
-    <custom-element style="font-size: 300%; display:block;"><span id="l"></span></custom-element>
-  </body>
-</html>
diff --git a/layout/reftests/bugs/482592-1a.xhtml b/layout/reftests/bugs/482592-1a.xhtml
deleted file mode 100644
--- a/layout/reftests/bugs/482592-1a.xhtml
+++ /dev/null
@@ -1,27 +0,0 @@
-<!DOCTYPE html>
-<html xmlns="http://www.w3.org/1999/xhtml" class="reftest-wait">
-  <head>
-    <bindings xmlns="http://www.mozilla.org/xbl">
-      <binding id="a">
-        <content>
-          <html:span xmlns:html="http://www.w3.org/1999/xhtml"
-                     id="hasAfter"><children/></html:span>
-        </content>
-      </binding>
-    </bindings>
-    <style>
-      #hasAfter::after { content: "y"; }
-      #l { display: none; } 
-    </style>
-    <script>
-      function doTest() {
-        var l = document.getElementById("l");
-        l.parentNode.insertBefore(document.createTextNode("x"), l);
-        document.documentElement.removeAttribute("class");
-      }
-    </script>
-  </head>
-  <body onload="doTest()">
-    <div style="-moz-binding: url(#a); font-size: 300%;"><span id="l"></span></div>
-  </body>
-</html>
diff --git a/layout/reftests/bugs/482592-1b-shadow.xhtml b/layout/reftests/bugs/482592-1b-shadow.xhtml
deleted file mode 100644
--- a/layout/reftests/bugs/482592-1b-shadow.xhtml
+++ /dev/null
@@ -1,29 +0,0 @@
-<!DOCTYPE html>
-<html xmlns="http://www.w3.org/1999/xhtml" class="reftest-wait">
-  <head>
-    <script>
-      customElements.define("custom-element", class extends HTMLElement {
-        constructor() {
-          super();
-          const template = document.getElementById("template");
-          const shadowRoot = this.attachShadow({mode: "open"})
-            .appendChild(template.content.cloneNode(true));
-        }
-      });
-      function doTest() {
-        var l = document.getElementById("l");
-        l.parentNode.insertBefore(document.createTextNode("y"), l);
-        document.documentElement.removeAttribute("class");
-      }
-    </script>
-  </head>
-  <body onload="doTest()">
-    <template id="template">
-      <style>
-        #hasBefore::before { content: "x"; }
-      </style>
-      <span id="hasBefore"><slot/></span>
-    </template>
-    <custom-element style="font-size: 300%; display: block;"><span id="l"></span></custom-element>
-  </body>
-</html>
diff --git a/layout/reftests/bugs/482592-1b.xhtml b/layout/reftests/bugs/482592-1b.xhtml
deleted file mode 100644
--- a/layout/reftests/bugs/482592-1b.xhtml
+++ /dev/null
@@ -1,26 +0,0 @@
-<!DOCTYPE html>
-<html xmlns="http://www.w3.org/1999/xhtml" class="reftest-wait">
-  <head>
-    <bindings xmlns="http://www.mozilla.org/xbl">
-      <binding id="a">
-        <content>
-          <html:span xmlns:html="http://www.w3.org/1999/xhtml"
-                     id="hasBefore"><children/></html:span>
-        </content>
-      </binding>
-    </bindings>
-    <style>
-      #hasBefore::before { content: "x"; }
-    </style>
-    <script>
-      function doTest() {
-        var l = document.getElementById("l");
-        l.parentNode.insertBefore(document.createTextNode("y"), l);
-        document.documentElement.removeAttribute("class");
-      }
-    </script>
-  </head>
-  <body onload="doTest()">
-    <div style="-moz-binding: url(#a); font-size: 300%;"><span id="l"></span></div>
-  </body>
-</html>
diff --git a/layout/reftests/bugs/495354-1-ref.xhtml b/layout/reftests/bugs/495354-1-ref.xhtml
deleted file mode 100644
--- a/layout/reftests/bugs/495354-1-ref.xhtml
+++ /dev/null
@@ -1,5 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml">
-<body>
-<span><caption xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">9</caption></span>
-</body>
-</html>
diff --git a/layout/reftests/bugs/495354-1a.xhtml b/layout/reftests/bugs/495354-1a.xhtml
deleted file mode 100644
--- a/layout/reftests/bugs/495354-1a.xhtml
+++ /dev/null
@@ -1,8 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml">
-<head>
-<bindings xmlns="http://www.mozilla.org/xbl"><binding id="x"><content><caption xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"><children xmlns="http://www.mozilla.org/xbl"/></caption></content></binding></bindings>
-</head>
-<body onload="document.getElementById('y').innerHTML = '9';">
-<span id="y" style="-moz-binding: url(#x)"><div>123</div></span>
-</body>
-</html>
diff --git a/layout/reftests/bugs/495354-1b.xhtml b/layout/reftests/bugs/495354-1b.xhtml
deleted file mode 100644
--- a/layout/reftests/bugs/495354-1b.xhtml
+++ /dev/null
@@ -1,8 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml">
-<head>
-<bindings xmlns="http://www.mozilla.org/xbl"><binding id="x"><content><caption xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"><children xmlns="http://www.mozilla.org/xbl"/></caption></content></binding></bindings>
-</head>
-<body onload="document.getElementById('y').innerHTML = '9';">
-<span id="y" style="-moz-binding: url(#x)"><div style="border: 5px solid green">123</div></span>
-</body>
-</html>
diff --git a/layout/reftests/bugs/508816-1-ref.xul b/layout/reftests/bugs/508816-1-ref.xul
deleted file mode 100644
--- a/layout/reftests/bugs/508816-1-ref.xul
+++ /dev/null
@@ -1,40 +0,0 @@
-<?xml version="1.0"?>
-<!DOCTYPE window>
-<window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul" title="RTL overflow test" width="640px" height="480px" style="direction: rtl" onload="load()" class="reftest-wait">
-
-<style type="text/css" xmlns="http://www.w3.org/1999/xhtml"><![CDATA[
-button {
-  margin: 0;
-}
-]]></style>
-
-<hbox style="max-width: 200px; border: 1px solid red;">
-<scrollbox align="start" pack="start" orient="horizontal" flex="1">
-  <button id="sb1" label="test1"/><button label="test2"/><button label="test3"/><button label="test4"/><button label="test5"/>
-</scrollbox>
-</hbox>
-
-<hbox style="max-width: 200px; border: 1px solid blue">
-<arrowscrollbox align="start" pack="start" orient="horizontal" flex="1">
-  <button id="asb1" label="test1"/><button label="test2"/><button label="test3"/><button label="test4"/><button label="test5"/>
-</arrowscrollbox>
-</hbox>
-
-<hbox style="max-width: 200px; border: 1px solid black">
-<hbox align="end" pack="end" flex="1">
-  <button label="test1"/><button label="test2"/><button label="test3"/><button label="test4"/><button label="test5"/>
-</hbox>
-</hbox>
-
-<script type="text/javascript">
-  <![CDATA[
-    function load() {
-      document.getElementById("sb1").scrollIntoView({ behavior: "instant" });
-      document.getElementById("asb1").scrollIntoView({ behavior: "instant" });
-
-      document.documentElement.removeAttribute("class");
-    }
-  ]]>
-</script>
-
-</window>
diff --git a/layout/reftests/bugs/508816-1.xul b/layout/reftests/bugs/508816-1.xul
deleted file mode 100644
--- a/layout/reftests/bugs/508816-1.xul
+++ /dev/null
@@ -1,29 +0,0 @@
-<?xml version="1.0"?>
-<!DOCTYPE window>
-<window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul" title="RTL overflow test" width="640px" height="480px" style="direction: rtl">
-
-<style type="text/css" xmlns="http://www.w3.org/1999/xhtml"><![CDATA[
-button {
-  margin: 0;
-}
-]]></style>
-
-<hbox style="max-width: 200px; border: 1px solid red;">
-<scrollbox align="start" pack="start" orient="horizontal" flex="1">
-  <button label="test1"/><button label="test2"/><button label="test3"/><button label="test4"/><button label="test5"/>
-</scrollbox>
-</hbox>
-
-<hbox style="max-width: 200px; border: 1px solid blue">
-<arrowscrollbox align="start" pack="start" orient="horizontal" flex="1">
-  <button label="test1"/><button label="test2"/><button label="test3"/><button label="test4"/><button label="test5"/>
-</arrowscrollbox>
-</hbox>
-
-<hbox style="max-width: 200px; border: 1px solid black">
-<hbox align="end" pack="end" flex="1">
-  <button label="test1"/><button label="test2"/><button label="test3"/><button label="test4"/><button label="test5"/>
-</hbox>
-</hbox>
-
-</window>
diff --git a/layout/reftests/bugs/reftest.list b/layout/reftests/bugs/reftest.list
--- a/layout/reftests/bugs/reftest.list
+++ b/layout/reftests/bugs/reftest.list
@@ -221,17 +221,16 @@ fuzzy-if(skiaContent,0-1,0-5) == 212563-
 == 218473-1.html 218473-1-ref.html
 fuzzy-if(skiaContent,0-1,0-4) fuzzy-if(webrender&&isDebugBuild,0-1,0-8) == 220165-1.svg 220165-1-ref.svg
 == 223809-1.html 223809-1-ref.html
 == 228856-1.html 228856-1-ref.html
 == 228856-2.html 228856-2-ref.html
 == 229591-1.html 229591-1-ref.html
 # == 231823-1.html 231823-1-ref.html
 == 232990-1a.xhtml 232990-1-ref.xhtml
-skip-if(!xbl) == 232990-1b.xhtml 232990-1-ref.xhtml
 == 233094-1.html 233094-1-ref.html
 == 233094-2a.html 233094-2-ref.html
 == 233094-2b.html 233094-2-ref.html
 == 233094-2c.html 233094-2-ref.html
 == 234686-1.html 234686-ref.html
 == 234686-2.html 234686-ref.html
 == 234686-3.html 234686-ref.html
 == 234686-4.html 234686-ref.html
@@ -347,17 +346,16 @@ fails-if(Android) != 301726-2.html 30172
 == 307076-1.html 307076-1-ref.html
 == 307102-1.html 307102-1-ref.html
 == 307102-2.html 307102-2-ref.html
 == 307102-3.html 307102-3-ref.html
 == 307102-4.html 307102-4-ref.html
 == 308406-1.html 308406-1-ref.html
 == 308406-2.html 308406-2-ref.html
 == 309550-1.html 309550-1-ref.html
-skip-if(!xbl) == chrome://reftest/content/bugs/309914-1.xul chrome://reftest/content/bugs/309914-1-ref.xul
 == 311366-unknown-inline-1.html 311366-unknown-inline-1-ref.html
 == 311366-unknown-block-1.html 311366-unknown-block-1-ref.html
 == 311366-unknown-block-3.html 311366-unknown-block-3-ref.html
 == 311366-unknown-block-2.html 311366-unknown-block-2-ref.html
 == 311366-unknown-inline-2.html 311366-unknown-inline-2-ref.html
 == 311822-1.html 311822-1-ref-a.html
 == 311822-1.html 311822-1-ref-b.html
 == 315620-1a.html 315620-1-ref.html
@@ -449,18 +447,16 @@ random == 328829-1.xhtml 328829-1-ref.xh
 == 332360-ltr.html 332360-ltr-ref.html
 == 332360-width.html 332360-ref.html
 == 332360-width-ltr.html 332360-ltr-ref.html
 == 332557-1.html 332557-1-ref.html
 == 332975-1.html 332975-1-ref.html
 == 333970-1.html 333970-1-ref.html
 == 334829-1a-shadow.xhtml 334829-1-ref.xhtml
 == 334829-1b-shadow.xhtml 334829-1-ref.xhtml
-skip-if(!xbl) == 334829-1a.xhtml 334829-1-ref.xhtml
-skip-if(!xbl) == 334829-1b.xhtml 334829-1-ref.xhtml
 == 335628-1.html 335628-1-ref.html
 == chrome://reftest/content/bugs/336096-1.xul chrome://reftest/content/bugs/336096-1-ref.xul
 == 336147-1.html 336147-1-ref.html
 == 336153-1.html 336153-1-ref.html
 != 338251-p.html about:blank
 == 338251-p-oh.html 338251-p-oh-ref.html
 != 338251-pre.html about:blank
 == 338251-pre-oh.html 338251-pre-oh-ref.html
@@ -472,17 +468,16 @@ fuzzy-if(skiaContent,0-2,0-3) == 339289-
 == 345267-1a.html 345267-1-ref.html
 == 345267-1b.html 345267-1-ref.html
 == 345267-1c.html 345267-1-ref.html
 == 345267-1d.html 345267-1-ref.html
 fuzzy-if(skiaContent,0-4,0-2) == 346774-1a.html 346774-1-ref.html
 fuzzy-if(skiaContent,0-4,0-2) == 346774-1b.html 346774-1-ref.html
 fuzzy-if(skiaContent,0-4,0-2) == 346774-1c.html 346774-1-ref.html
 == 347912-1.html 347912-1-ref.html
-skip-if(!xbl) == 348049-1.xhtml 348049-1-ref.xhtml
 == 348516-1.html 348516-1-ref.html
 == 348516-2.html 348516-2-ref.html
 != 348516-2.html 348516-2-notref.html
 != 348516-3.html 348516-3-notref.html
 == 348597-1.html 348597-ref.html
 == 348809-1a.html 348809-1-ref.html
 == 348809-1b.html 348809-1-ref.html
 == 348809-1c.html 348809-1-ref.html
@@ -571,17 +566,16 @@ fuzzy-if(skiaContent||Android,0-4,0-11) 
 == 364066-1.html 364066-1-ref.html
 == 364079-1.html 364079-1-ref.html
 == 364318-1.xhtml 364318-1-ref.xhtml
 == 364861-1.html 364861-1-ref.html
 == 364862-1.html 364862-1-ref.html
 == chrome://reftest/content/bugs/364968-1.xul 364968-1-ref.html
 == 364989-1.html 364989-1-ref.html
 == 365173-1.html 365173-1-ref.html
-skip-if(!xbl) == chrome://reftest/content/bugs/366207-1.xul chrome://reftest/content/bugs/366207-1-ref.xul
 == chrome://reftest/content/bugs/366616-1.xul chrome://reftest/content/bugs/366616-1-ref.xul
 == 367220-1.html 367220-1-ref.html
 == 367247-s-visible.html 367247-s-hidden.html
 == 367247-s-hidden.html 367247-s-auto.html
 fails-if(Android) != 367247-s-auto.html 367247-s-scroll.html
 != 367247-l-visible.html 367247-l-hidden.html
 fails-if(Android&&!asyncPan) != 367247-l-hidden.html 367247-l-scroll.html
 == 367247-l-scroll.html 367247-l-auto.html
@@ -650,31 +644,29 @@ pref(layout.css.line-height.normal-as-re
 == 371483-1.html about:blank # assertion test
 fails-if(Android&&!asyncPan) == 371561-1.html 371561-1-ref.html
 != 371681-1.xhtml about:blank
 == 371925-1a.html 371925-1-ref.html
 == 371925-1b.html 371925-1-ref.html
 == 372037-1.html 372037-1-ref.html
 == 372062-1.html 372062-1-ref.html
 random-if(/^Windows\x20NT\x206\.1/.test(http.oscpu)) == 372063-1.html 372063-1-ref.html # Bug 1392106
-skip-if(!xbl) == 372323-1.xhtml 372323-1-ref.xhtml
 random-if(/^Windows\x20NT\x206\.1/.test(http.oscpu)) == 372553-1.html 372553-1-ref.html # Bug 1392106
 == 372632-1.html 372632-1-ref.html
 == 372768-1.html 372768-1-ref.html
 fuzzy-if(webrender&&winWidget,83-92,1-2) == 373295-1.html 373295-1-ref.html
 == 373298-1.html 373298-1-ref.html
 random-if(/^Windows\x20NT\x206\.1/.test(http.oscpu)) == 373381-1.html 373381-1-ref.html # Bug 1392106
 fuzzy-if(skiaContent&&!Android,0-2,0-40) == 373381-2.html 373381-2-ref.html
 random-if(d2d) == 373381-3.html 373381-3-ref.html
 == 373381-4.html 373381-4-ref.html
 == 373383-1.html 373383-1-ref.html
 == 373433-1.html 373433-1-ref.html
 == chrome://reftest/content/bugs/374038-1.xul chrome://reftest/content/bugs/374038-1-ref.xul
 == chrome://reftest/content/bugs/374038-2.xul chrome://reftest/content/bugs/374038-2-ref.xul
-random-if(d2d) skip-if(!xbl) == chrome://reftest/content/bugs/374719-1.xul chrome://reftest/content/bugs/374719-1-ref.xul
 fails == 374927-1.html 374927-1-ref.html # Was broken by patch for bug 368600; fails until bug 400776 is fixed
 == 375508-1.html 375508-1-ref.html
 == 375716-1.html 375716-1-ref.html
 == 375827-1.html 375827-1-ref.html
 == 376375-1.html 376375-1-ref.html
 == 376484-1.html 376484-1-ref.html
 == 376532-1.html 376532-1-ref.html
 fails-if(Android) != 376532-2.html 376532-2-ref.html
@@ -744,19 +736,16 @@ fuzzy-if(skiaContent,0-2,0-3) == 385870-
 == 386014-1c.html 386014-1-ref.html
 == 386065-1.html 386065-1-ref.html
 == 386065-2.html about:blank
 == 386147-1.html 386147-1-ref.html
 == 386310-1a.html 386310-1-ref.html
 == 386310-1b-shadow.html 386310-1-ref.html
 == 386310-1c-shadow.html 386310-1-ref.html
 == 386310-1d-shadow.html 386310-1-ref.html
-skip-if(!xbl) == 386310-1b.html 386310-1-ref.html
-skip-if(!xbl) == 386310-1c.html 386310-1-ref.html
-skip-if(!xbl) == 386310-1d.html 386310-1-ref.html
 == 386401-1.html 386401-1-ref.html
 == 386401-2.html 386401-2-ref.html
 == 386401-3.html 386401-3-ref.html
 == 386470-1a.html 386470-1-ref.html
 == 386470-1b.html 386470-1-ref.html
 == 386470-1c.html 386470-1-ref.html
 random-if(/^Windows\x20NT\x206\.1/.test(http.oscpu)) == 386920-1.html 386920-1-ref.html # Bug 1392106
 == 387201-1.html 387201-1-ref.html
@@ -803,27 +792,24 @@ fuzzy-if(skiaContent,0-1,0-600) == 39364
 == 393655-3.html 393655-3-ref.html
 == 393655-4.html 393655-4-ref.html
 == 393655-5.html 393655-5-ref.html
 == 393671-1.html 393671-1-ref.html
 == 393671-2.html 393671-2-ref.html
 == 393671-3.html 393671-3-ref.html
 == 394111-1.html about:blank  # Really an assertion test rather than a rendering test
 == 394534-1.html 394534-1-ref.html
-skip-if(!xbl) == 394676-1.xhtml 394676-1-ref.xhtml
 == 395107-1.html 395107-1-ref.html
 fuzzy-if(Android,0-4,0-2) == 395107-2.html 395107-2-ref.html # bug 1309533 fuzzy after test rebucketed
 fuzzy-if(skiaContent,0-1,0-118) fuzzy-if(geckoview,0-4,0-2) == 395107-3.html 395107-3-ref.html
 == 395107-4.html 395107-4-ref.html
 fuzzy-if(geckoview,0-4,0-1) == 395107-5.html 395107-5-ref.html
 == 395130-1.html 395130-1-ref.html
 == 395130-2.html 395130-2-ref.html
-skip-if(!xbl) == 395331-1.xml 395331-1-ref.xml
 == 395390-1.html 395390-1-ref.html
-skip-if(!xbl) == 396286-1.html about:blank  # crash test
 fuzzy-if(Android,0-5,0-283) == 397428-1.html 397428-1-ref.html
 == 397844-1.xhtml 397844-1-ref.xhtml
 == 398092-1.html 398092-1-ref.html
 == 398101-1.html 398101-1-ref.html
 == 398144-1.html 398144-1-ref.html
 fuzzy-if(skiaContent,0-2,0-21) == 398682-1.html 398682-1-ref.html
 == 398797-1a.html 398797-1-ref.html
 == 398797-1b.html 398797-1-ref.html
@@ -882,17 +868,16 @@ fuzzy-if(webrender,130-131,177-177) skip
 == 403519-2.html 403519-2-ref.html
 == 403656-1.html 403656-1-ref.html
 == 403656-2.html 403656-2-ref.html
 == 403656-3.html 403656-3-ref.html
 == 403656-4.html 403656-4-ref.html
 == 403656-5.html 403656-5-ref.html
 #== 403657-1.html 403657-1-ref.html  # Fails depending on the fonts...
 == 403733-1.html 403733-1-ref.html
-skip-if(!xbl) == 403962-1.xhtml 403962-1-ref.xhtml
 == 404030-1.html 404030-1-ref.html
 != 404030-1-notref.html 404030-1.html
 != 404030-1-notref2.html 404030-1.html
 fuzzy-if(skiaContent,0-2,0-4) == 404123-1.html 404123-1-ref.html
 == 404123-2.html 404123-2-ref.html
 != 404123-3.html 404123-3-ref.html
 # may fail "randomly" on OS X, doesn't seem to be rendering usefully anyhow - bug 602469
 random-if(cocoaWidget) == chrome://reftest/content/bugs/404149-1.xul chrome://reftest/content/bugs/404149-1-ref.xul # HTTP for fonts directory access
@@ -900,17 +885,16 @@ random-if(cocoaWidget) == chrome://refte
 == 404301-1.html 404301-1-ref.html
 == 404309-1a.html 404309-1-ref.html
 == 404309-1b.html 404309-1-ref.html
 # Disabled due to compartments for now.
 #!= data:application/xml,<foo/> data:text/plain, # ensure we pretty-print this XML instead of letting it appear blank (test for bug 404419)
 fuzzy-if(Android,0-8,0-50) == 404553-1.html 404553-1-ref.html  # assertion test, also tests that marquee binding is applied correctly
 == 404666-1.html 404666-1-ref.html
 == 404666-2.html 404666-2-ref.html
-skip-if(!xbl) == 405186-1.xhtml about:blank
 == 405305-1.html 405305-1-ref.html
 == 405380-1.html 405380-1-ref.html
 == 405517-1.xhtml 405517-1-ref.xhtml
 == 405577-1.html 405577-1-ref.html
 == 405584-1.html 405584-1-ref.html
 # == 405952-1.html 405952-1-ref.html
 == 406484-1.html 406484-1-ref.html
 == 406568-1.html 406568-1-ref.html
@@ -991,17 +975,16 @@ fuzzy-if(Android,0-11,0-17) fuzzy-if(web
 == 418766-1a.html 418766-1-ref.html
 == 418766-1b.html 418766-1-ref.html
 == 419060.html 419060-ref.html
 == 419285-1.html 419285-1-ref.html
 == 419531-1.html 419531-1-ref.html
 == 420069-1.html 420069-1-ref.html
 == 420069-2.html 420069-2-ref.html
 == 420351-1.html 420351-1-ref.html
-skip-if(!xbl) == 420790-1.xhtml 420790-1-ref.xhtml
 == 421069.html 421069-ref.html
 == 421069.html 421069-ref2.html
 == 421069-ref.html 421069-ref2.html
 == chrome://reftest/content/bugs/421203-1.xul 421203-1-ref.html
 == chrome://reftest/content/bugs/421203-2.xul 421203-1-ref.html
 == chrome://reftest/content/bugs/421203-3.xul chrome://reftest/content/bugs/321402-3-ref.xul
 == chrome://reftest/content/bugs/421203-4.xul chrome://reftest/content/bugs/321402-4-ref.xul
 == chrome://reftest/content/bugs/421203-5.xul chrome://reftest/content/bugs/321402-5-ref.xul
@@ -1237,22 +1220,18 @@ fuzzy-if(webrender,16-16,3392-4020) == c
 == 466258-1.html 466258-1-ref.html
 == 466395-1.html 466395-1-ref.html
 == 466395-2.html 466395-2-ref.html
 == 467084-1.html 467084-1-ref.html
 == 467084-2.html 467084-2-ref.html
 == 467444-1.html 467444-1-ref.html
 == 467460-1.html 467460-1-ref.html
 == chrome://reftest/content/bugs/468473-1.xul chrome://reftest/content/bugs/468473-1-ref.xul
-skip-if(!xbl) == 468546-1.xhtml 468546-1-ref.xhtml
 == 471356-1.html 471356-1-ref.html
-skip-if(!xbl) == 471594-1.xhtml 471594-1-ref.html
-fuzzy(0-255,0-15) skip-if(!xbl) == chrome://reftest/content/bugs/472020-1a.xul chrome://reftest/content/bugs/472020-1-ref.xul
-fails skip-if(!xbl) == chrome://reftest/content/bugs/472020-1b.xul chrome://reftest/content/bugs/472020-1-ref.xul
-fails skip-if(!xbl) == chrome://reftest/content/bugs/472020-2.xul chrome://reftest/content/bugs/472020-2-ref.xul
+fuzzy(0-255,0-15)
 == chrome://reftest/content/bugs/472500-1.xul chrome://reftest/content/bugs/472500-1-ref.xul
 == 472769-1a.html 472769-1-ref.html
 == 472769-1b.html 472769-1-ref.html
 == 472769-2.html 472769-2-ref.html
 == 472769-3.html 472769-3-ref.html
 == chrome://reftest/content/bugs/473847-1.xul chrome://reftest/content/bugs/473847-1-ref.xul
 == 474417-1.html 474417-1-ref.html
 fuzzy-if(skiaContent,0-1,0-5) == 474472-1.html 474472-1-ref.html
@@ -1314,18 +1293,16 @@ fails-if(Android) == 481024-1c.html 4810
 == 481024-1d.html 481024-1-ref.html
 == 481024-1e.html 481024-1-ref.html
 != 481948-1.html 481948-1-ref.html
 != 481948-2.html 481948-2-ref.html
 fails-if(Android||gtkWidget) random-if(winWidget||cocoaWidget) == 481948-3.html 481948-3-ref.html # questionable test, see bug 488364
 == 482398-1.html 482398-1-ref.html
 random-if(d2d) == 482592-1a-shadow.xhtml 482592-1-ref.html # bug 586771
 random-if(d2d) == 482592-1b-shadow.xhtml 482592-1-ref.html # bug 586771
-random-if(d2d) skip-if(!xbl) == 482592-1a.xhtml 482592-1-ref.html # bug 586771
-random-if(d2d) skip-if(!xbl) == 482592-1b.xhtml 482592-1-ref.html # bug 586771
 random-if(winWidget) fuzzy-if(skiaContent,0-1,0-5) == 482659-1a.html 482659-1-ref.html
 fuzzy-if(skiaContent,0-1,0-5) == 482659-1b.html 482659-1-ref.html
 fuzzy-if(skiaContent,0-1,0-5) == 482659-1c.html 482659-1-ref.html
 fuzzy-if(skiaContent,0-1,0-5) == 482659-1d.html 482659-1-ref.html
 == chrome://reftest/content/bugs/483565.xul chrome://reftest/content/bugs/483565-ref.xul
 == 484256-1.html 484256-1-ref.html
 == 484256-2.html 484256-1-ref.html
 == 485012-1.html 485012-1-ref.html
@@ -1356,18 +1333,16 @@ pref(browser.display.focus_ring_width,1)
 pref(browser.display.focus_ring_width,1) == 491180-2.html 491180-2-ref.html
 == chrome://reftest/content/bugs/491323-1.xul chrome://reftest/content/bugs/491323-1-ref.xul
 == chrome://reftest/content/bugs/492239-1.xul chrome://reftest/content/bugs/492239-1-ref.xul
 == 492661-1.html 492661-1-ref.html
 == 493968-1.html 493968-1-ref.html
 == 494667-1.html 494667-1-ref.html
 == 494667-2.html 494667-2-ref.html
 == 495274-1.html 495274-1-ref.html
-skip-if(!xbl) == 495354-1a.xhtml 495354-1-ref.xhtml
-skip-if(!xbl) == 495354-1b.xhtml 495354-1-ref.xhtml
 random-if(/^Windows\x20NT\x206\.1/.test(http.oscpu)) == 495385-1a.html 495385-1-ref.html # Bug 1392106
 random-if(/^Windows\x20NT\x206\.1/.test(http.oscpu)) == 495385-1b.html 495385-1-ref.html # Bug 1392106
 random-if(/^Windows\x20NT\x206\.1/.test(http.oscpu)) == 495385-1c.html 495385-1-ref.html # Bug 1392106
 random-if(/^Windows\x20NT\x206\.1/.test(http.oscpu)) == 495385-1d.html 495385-1-ref.html # Bug 1392106
 random-if(/^Windows\x20NT\x206\.1/.test(http.oscpu)) == 495385-1e.html 495385-1-ref.html # Bug 1392106
 random-if(/^Windows\x20NT\x206\.1/.test(http.oscpu)) == 495385-1f.html 495385-1-ref.html # Bug 1392106
 random-if(/^Windows\x20NT\x206\.1/.test(http.oscpu)) == 495385-2a.html 495385-2-ref.html # Bug 1392106
 random-if(/^Windows\x20NT\x206\.1/.test(http.oscpu)) == 495385-2b.html 495385-2-ref.html # Bug 1392106
@@ -1400,17 +1375,16 @@ needs-focus fails == 503531-1.html 50353
 fuzzy-if(Android,0-5,0-2800) == 506481-1.html 506481-1-ref.html
 == 507187-1.html 507187-1-ref.html
 == 507487-1.html 507487-1-ref.html
 == 507487-2.xhtml 507487-2-ref.xhtml
 == 507762-1.html 507762-1-ref.html
 == 507762-2.html 507762-2-ref.html
 == 507762-3.html 507762-1-ref.html
 == 507762-4.html 507762-2-ref.html
-random skip-if(!xbl) == chrome://reftest/content/bugs/508816-1.xul chrome://reftest/content/bugs/508816-1-ref.xul # Bug 1375012. The skip-if(!xbl) should be removed once this is converted to a CE (bug 1566675).
 pref(layout.css.xul-box-display-values.content.enabled,true) == 508816-2.html 508816-2-ref.html
 skip-if(isDebugBuild) == chrome://reftest/content/bugs/508908-1.xul chrome://reftest/content/bugs/508908-1-ref.xul
 == 508919-1.xhtml 508919-1-ref.xhtml
 == 509155-1.xhtml 509155-1-ref.xhtml
 fuzzy-if(Android,0-5,0-1656) fuzzy-if(skiaContent,0-1,0-1200) == 512410.html 512410-ref.html
 == 512631-1.html 512631-1-ref.html
 == 513153-1a.html 513153-1-ref.html
 == 513153-1b.html 513153-1-ref.html
@@ -2023,19 +1997,17 @@ skip-if(isDebugBuild&&winWidget) == 1330
 == 1365159-1.html 1365159-1-ref.html
 == 1365162-1.html 1365162-1-ref.html
 == 1352306-1.html 1352306-1-ref.html
 == 1366144.html 1366144-ref.html
 == 1367592-1.html 1367592-1-ref.html
 == 1368113-1.html 1368113-1-ref.html
 == 1369584-1a.html 1369584-1-ref.html
 == 1369584-1b.html 1369584-1-ref.html
-skip-if(!xbl) == 1369954-1.xhtml 1369954-1-ref.xhtml
 == 1369985-1.html 1369985-1-ref.html
-skip-if(!xbl) == 1371130.xhtml 1371130-ref.xhtml
 == 1375315-1.html 1375315-1-ref.html
 == 1375315-2.html 1375315-2-ref.html
 == 1375315-3.html 1375315-3-ref.html
 == 1375315-4.html 1375315-4-ref.html
 == 1375315-5.html 1375315-5-ref.html
 == 1375315-6.html 1375315-6-ref.html
 == 1375315-7.html 1375315-7-ref.html
 == 1375315-8.html 1375315-8-ref.html
diff --git a/layout/reftests/css-display/reftest.list b/layout/reftests/css-display/reftest.list
--- a/layout/reftests/css-display/reftest.list
+++ b/layout/reftests/css-display/reftest.list
@@ -11,23 +11,17 @@ fuzzy-if(Android,0-8,0-604) == display-c
 == display-contents-style-inheritance-1-stylechange.html display-contents-style-inheritance-1-ref.html
 fuzzy-if(winWidget,0-12,0-100) == display-contents-style-inheritance-1-dom-mutations.html display-contents-style-inheritance-1-ref.html
 == display-contents-tables.xhtml display-contents-tables-ref.xhtml
 == display-contents-tables-2.xhtml display-contents-tables-ref.xhtml
 == display-contents-tables-3.xhtml display-contents-tables-3-ref.xhtml
 == display-contents-visibility-hidden.html display-contents-visibility-hidden-ref.html
 == display-contents-visibility-hidden-2.html display-contents-visibility-hidden-ref.html
 == display-contents-495385-2d.html display-contents-495385-2d-ref.html
-fuzzy-if(Android,0-7,0-3935) random-if(/^Windows\x20NT\x206\.1/.test(http.oscpu)) skip-if(!xbl) == display-contents-xbl.xhtml display-contents-xbl-ref.html # bug 1392106
-skip-if(!xbl) == chrome://reftest/content/css-display/display-contents-xbl-2.xul chrome://reftest/content/css-display/display-contents-xbl-2-ref.xul
-skip-if(!xbl) == chrome://reftest/content/css-display/display-contents-xbl-3.xul chrome://reftest/content/css-display/display-contents-xbl-3-ref.xul
 skip == chrome://reftest/content/css-display/display-contents-xbl-4.xul chrome://reftest/content/css-display/display-contents-xbl-4-ref.xul # fails (not just asserts) due to bug 1089223
 asserts(0-1) fuzzy-if(Android,0-8,0-3216) == display-contents-fieldset.html display-contents-fieldset-ref.html # bug 1089223
-skip-if(!xbl) == chrome://reftest/content/css-display/display-contents-xbl-5.xul chrome://reftest/content/css-display/display-contents-xbl-3-ref.xul
-skip-if(!xbl) == display-contents-xbl-6.xhtml display-contents-xbl-6-ref.html
-skip-if(!xbl) == display-contents-xbl-7.xhtml display-contents-xbl-7-ref.html
 == display-contents-list-item-child.html display-contents-list-item-child-ref.html
 == display-contents-dyn-insert-text.html display-contents-dyn-insert-text-ref.html
 == display-contents-writing-mode-1.html display-contents-writing-mode-1-ref.html
 == display-contents-writing-mode-2.html display-contents-writing-mode-2-ref.html
 needs-focus == display-contents-state-change.html display-contents-state-change-ref.html
 == display-flow-root-001.html display-flow-root-001-ref.html
 == display-contents-suppression-dynamic.html display-contents-suppression-dynamic-ref.html
diff --git a/layout/reftests/css-selectors/reftest.list b/layout/reftests/css-selectors/reftest.list
--- a/layout/reftests/css-selectors/reftest.list
+++ b/layout/reftests/css-selectors/reftest.list
@@ -1,8 +1,6 @@
 == state-dependent-in-any.html state-dependent-in-any-ref.html
 == attr-case-insensitive-1.html attr-case-insensitive-1-ref.html
 == sibling-combinators-on-anon-content-1-shadow.xhtml sibling-combinators-on-anon-content-ref.xhtml
 skip == sibling-combinators-on-anon-content-2-shadow.xhtml sibling-combinators-on-anon-content-ref.xhtml # Enable in bug 1587216.
-skip-if(!xbl) == sibling-combinators-on-anon-content-1.xhtml sibling-combinators-on-anon-content-ref.xhtml
-skip-if(!xbl) == sibling-combinators-on-anon-content-2.xhtml sibling-combinators-on-anon-content-ref.xhtml
 == nth-child-1.html nth-child-ref.html
 == nth-child-2.html nth-child-ref.html
diff --git a/layout/reftests/dom/reftest.list b/layout/reftests/dom/reftest.list
--- a/layout/reftests/dom/reftest.list
+++ b/layout/reftests/dom/reftest.list
@@ -27,35 +27,25 @@
 == insertmultiplemultiple-1.html insertmultiplemultiple-ref.html
 # a range insert and an append
 == insertmultiplemultiple-2.html insertmultiplemultiple-ref.html
 # multiple range inserts and an append
 == insertmultiplemultiple-2.html insertmultiplemultiple-ref.html
 
 # testing bindings that have multiple insertion points
 == multipleinsertionpoints-ref2-shadow.xhtml multipleinsertionpoints-ref.xhtml
-skip-if(!xbl) == multipleinsertionpoints-ref2.xhtml multipleinsertionpoints-ref.xhtml
 # append a single element
 == multipleinsertionpoints-appendsingle-1-shadow.xhtml multipleinsertionpoints-ref.xhtml
 == multipleinsertionpoints-appendsingle-2-shadow.xhtml multipleinsertionpoints-ref.xhtml
-skip-if(!xbl) == multipleinsertionpoints-appendsingle-1.xhtml multipleinsertionpoints-ref.xhtml
-skip-if(!xbl) == multipleinsertionpoints-appendsingle-2.xhtml multipleinsertionpoints-ref.xhtml
 # append several elements
 == multipleinsertionpoints-appendmultiple-shadow.xhtml multipleinsertionpoints-ref.xhtml
-skip-if(!xbl) == multipleinsertionpoints-appendmultiple.xhtml multipleinsertionpoints-ref.xhtml
 # insert a single element
 == multipleinsertionpoints-insertsingle-1-shadow.xhtml multipleinsertionpoints-ref.xhtml
 == multipleinsertionpoints-insertsingle-2-shadow.xhtml multipleinsertionpoints-ref.xhtml
-skip-if(!xbl) == multipleinsertionpoints-insertsingle-1.xhtml multipleinsertionpoints-ref.xhtml
-skip-if(!xbl) == multipleinsertionpoints-insertsingle-2.xhtml multipleinsertionpoints-ref.xhtml
 # insert several elements
 == multipleinsertionpoints-insertmultiple-shadow.xhtml multipleinsertionpoints-ref.xhtml
-skip-if(!xbl) == multipleinsertionpoints-insertmultiple.xhtml multipleinsertionpoints-ref.xhtml
 
 # test appending some nodes whose frame construction should be done lazily
 # followed by appending a node that might not be done lazily
 == multipleappendwithxul.xhtml multipleappendwithxul-ref.xhtml
 == multipleappendwithinput.xhtml multipleappendwithinput-ref.xhtml
 == multipleappendwitheditable.xhtml multipleappendwitheditable-ref.xhtml
 
-skip-if(!xbl) == xbl-children-2.xhtml about:blank
-skip-if(!xbl) == xbl-children-3.xhtml xbl-children-3-ref.html
-skip-if(!xbl) == xbl-children-4.xhtml about:blank
diff --git a/layout/reftests/dom/xbl-children-1-ref.xhtml b/layout/reftests/dom/xbl-children-1-ref.xhtml
deleted file mode 100644
--- a/layout/reftests/dom/xbl-children-1-ref.xhtml
+++ /dev/null
@@ -1,16 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml">
-  <head>
-    <style>
-      #result {
-        color: green;
-        text-decoration: underline;
-        text-transform: lowercase;
-        background: yellow;
-      }
-    </style>
-  </head>
-  <body>
-    <div id="result">text</div>
-  </body>
-</html>
-
diff --git a/layout/reftests/dom/xbl-children-2.xhtml b/layout/reftests/dom/xbl-children-2.xhtml
deleted file mode 100644
--- a/layout/reftests/dom/xbl-children-2.xhtml
+++ /dev/null
@@ -1,31 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml"
-      xmlns:xbl="http://www.mozilla.org/xbl">
-<head>
-  <style>
-    .forced { display: block; }
-    .forced ~ p { display: none; }
-  </style>
-</head>
-<body>
-  <xbl:children>
-    FAIL
-  </xbl:children>
-
-  <xbl:children class="forced">
-    FAIL
-  </xbl:children>
-
-  <xbl:children />
-
-  <p>FAIL</p>
-
-  <script>
-    var third = document.body.children[2];
-    third.appendChild(document.createTextNode("FAIL"));
-
-    var fourth = document.createElementNS("http://www.mozilla.org/xbl", "children");
-    fourth.appendChild(document.createTextNode("FAIL"));
-    document.body.appendChild(fourth);
-  </script>
-</body>
-</html>
diff --git a/layout/reftests/dom/xbl-children-3-ref.html b/layout/reftests/dom/xbl-children-3-ref.html
deleted file mode 100644
--- a/layout/reftests/dom/xbl-children-3-ref.html
+++ /dev/null
@@ -1,20 +0,0 @@
-<!DOCTYPE html>
-<html>
-  <head>
-    <meta charset="UTF-8">
-  </head>
-  <body>
-    <div style="border: dashed green">
-      <span style="color: green">should be green in a green border</span>
-    </div>
-    <div style="border: dashed green">
-      <span style="color: green">should be green in a green border</span>
-    </div>
-    <div><div>Should be uncolored with no border</div></div>
-    <div>true, true</div>
-    <div><span>In a span</span><div>Should be uncolored with no border</div></div>
-    <div>PASS</div>
-    <div><span style="color: green">PASS</span></div>
-    <div>PASS</div>
-  </body>
-</html>
diff --git a/layout/reftests/dom/xbl-children-3.xhtml b/layout/reftests/dom/xbl-children-3.xhtml
deleted file mode 100644
--- a/layout/reftests/dom/xbl-children-3.xhtml
+++ /dev/null
@@ -1,61 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml"
-      xmlns:html="http://www.w3.org/1999/xhtml"
-      xmlns:xbl="http://www.mozilla.org/xbl"
-      xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
-      class="reftest-wait">
-<head>
-  <xbl:bindings xmlns="http://www.mozilla.org/xbl">
-    <binding id="base">
-      <content>
-        <html:div style="border: solid red">
-          <children />
-        </html:div>
-      </content>
-      <implementation>
-        <property name="foo" onget="return 42" />
-      </implementation>
-    </binding>
-    <binding id="derived" extends="#base">
-      <content>
-        <html:div style="border: dashed green">
-          <children includes="span" />
-        </html:div>
-      </content>
-    </binding>
-    <binding id="nochildren">
-      <content>
-        PASS
-      </content>
-    </binding>
-  </xbl:bindings>
-</head>
-<body>
-  <!-- Control case: our (only) child matches the children element. -->
-  <div id="first" style="-moz-binding: url(#derived)"><span style="color: green">should be green in a green border</span></div>
-  <!-- Make sure we ignore xul:template and xul:observes elements! -->
-  <div style="-moz-binding: url(#derived)"><xul:template /><xul:observes /><span style="color: green">should be green in a green border</span></div>
-  <!-- Case where our (only) child doesn't match any children elements. -->
-  <div id="second" style="-moz-binding: url(#derived)"><div>Should be uncolored with no border</div></div>
-  <!-- But make sure the binding was still applied! -->
-  <div id="output" />
-  <script>
-    var $ = document.getElementById.bind(document);
-    // Note: Done in an onload handler because binding instantiation is
-    // asynchronous.
-    onload = function() {
-      $('output').textContent =
-        ($('first').foo === 42) + ", " + ($('first').foo === $('second').foo);
-      document.documentElement.removeAttribute('class');
-    }
-  </script>
-  <!-- Case where one of our children matches but the other one doesn't. -->
-  <div id="third" style="-moz-binding: url(#derived)"><span>In a span</span><div>Should be uncolored with no border</div></div>
-
-  <!-- Control case with no <children> in the binding. -->
-  <div style="-moz-binding: url(#nochildren)" />
-  <!-- Case where we have a child but no <children> in the binding. -->
-  <div style="-moz-binding: url(#nochildren)"><span style="color: green">PASS</span></div>
-  <!-- But we must ignore xul:template and xul:observes elements! -->
-  <div style="-moz-binding: url(#nochildren)"><xul:template /><xul:observes /></div>
-</body>
-</html>
diff --git a/layout/reftests/dom/xbl-children-4.xhtml b/layout/reftests/dom/xbl-children-4.xhtml
deleted file mode 100644
--- a/layout/reftests/dom/xbl-children-4.xhtml
+++ /dev/null
@@ -1,29 +0,0 @@
-<!DOCTYPE html>
-<html xmlns="http://www.w3.org/1999/xhtml"
-      xmlns:xbl="http://www.mozilla.org/xbl"
-      class="reftest-wait">
-<head>
-  <meta charset="UTF-8" />
-  <style>
-    children { display:block; }
-  </style>
-</head>
-<body>
-    <xbl:children />
-    <script>
-        onload = function() {
-            /* First, schedule a pending restyle of the whole tree. */
-            var newSheet = document.createElementNS("http://www.w3.org/1999/xhtml", "style");
-            newSheet.appendChild(document.createTextNode("#nosuchelement { }"));
-            document.head.appendChild(newSheet);
-
-            /* Now, append a frame to our children element, causing the pending restyle to descend into it. */
-            var children = document.getElementsByTagName("xbl:children")[0];
-            var span = document.createElementNS("http://www.w3.org/1999/xhtml", "span");
-            span.appendChild(document.createTextNode("FAIL"));
-            children.appendChild(span);
-            document.documentElement.removeAttribute("class");
-        }
-    </script>
-</body>
-</html>
diff --git a/layout/reftests/forms/textarea/reftest.list b/layout/reftests/forms/textarea/reftest.list
--- a/layout/reftests/forms/textarea/reftest.list
+++ b/layout/reftests/forms/textarea/reftest.list
@@ -7,11 +7,10 @@ skip-if(Android) skip-if(winWidget) fuzz
 skip-if(Android) != ltr.html rtl.html
 skip-if(Android) != ltr-scrollbar.html rtl-scrollbar.html
 skip-if(Android) != in-ltr-doc-scrollbar.html in-rtl-doc-scrollbar.html
 skip-if(Android) != ltr.html no-resize.html
 skip-if(Android) != rtl.html no-resize.html # bug 834724
 fuzzy-if(skiaContent,0-1,0-1) == rtl.html rtl-dynamic-attr.html
 fuzzy-if(skiaContent,0-1,0-1) == rtl.html rtl-dynamic-style.html
 == rtl.html in-dynamic-rtl-doc.html
-fuzzy-if(skiaContent,0-1,0-3) skip-if(!xbl) == setvalue-framereconstruction-1.html setvalue-framereconstruction-ref.html
 fuzzy-if(asyncPan&&!layersGPUAccelerated,0-102,0-4168) random-if(/^Windows\x20NT\x206\.1/.test(http.oscpu)) == padding-scrollbar-placement.html padding-scrollbar-placement-ref.html # Bug 1392106
 == various-cols.html various-cols-ref.html
diff --git a/layout/reftests/forms/textarea/setvalue-framereconstruction-1.html b/layout/reftests/forms/textarea/setvalue-framereconstruction-1.html
deleted file mode 100644
--- a/layout/reftests/forms/textarea/setvalue-framereconstruction-1.html
+++ /dev/null
@@ -1,50 +0,0 @@
-<!--
-
-This test is mostly a copy of layout/forms/crashtests/373586-1.xhtml,
-and it makes sure that the value setter works correctly when setting
-the value causes the frame to be reconstructed.
-
--->
-<html xmlns="http://www.w3.org/1999/xhtml" class="reftest-wait">
-<head>
-
-<bindings xmlns="http://www.mozilla.org/xbl">
-  <binding id="foo">
-    <content>
-      <children xmlns="http://www.mozilla.org/xbl" />
-    </content>
-  </binding>
-</bindings>
-
-<script>
-function boom()
-{
-  document.getElementById("div").style.MozBinding = "url('#foo')";
-
-  var opt1 = document.getElementById("opt1");
-  opt1.firstChild.remove();
-
-  document.getElementById("textarea").value += " y";
-
-  document.getElementById("div").style.MozBinding = "";
-  document.documentElement.removeAttribute("class")
-}
-
-window.addEventListener("MozReftestInvalidate", boom);
-</script>
-
-</head>
-
-<body>
-
-<div id="div">
-  <textarea rows="3" cols="5" id="textarea">x</textarea>
-</div>
-
-<select style="-moz-appearance:none">
-  <option id="opt1">opt1</option>
-</select>
-
-</body>
-</html>
-
diff --git a/layout/reftests/forms/textarea/setvalue-framereconstruction-ref.html b/layout/reftests/forms/textarea/setvalue-framereconstruction-ref.html
deleted file mode 100644
--- a/layout/reftests/forms/textarea/setvalue-framereconstruction-ref.html
+++ /dev/null
@@ -1,17 +0,0 @@
-<html xmlns="http://www.w3.org/1999/xhtml">
-<head>
-</head>
-
-<body>
-
-<div id="div">
-  <textarea rows="3" cols="5" id="textarea">x y</textarea>
-</div>
-
-<select style="-moz-appearance:none">
-  <option id="opt1"></option>
-</select>
-
-</body>
-</html>
-
diff --git a/layout/reftests/ib-split/insert-into-split-inline-5-noib-ref.html b/layout/reftests/ib-split/insert-into-split-inline-5-noib-ref.html
deleted file mode 100644
--- a/layout/reftests/ib-split/insert-into-split-inline-5-noib-ref.html
+++ /dev/null
@@ -1,27 +0,0 @@
-<!DOCTYPE html>
-<html>
- <head>
-  <style>
-   body > span { border: 3px solid blue }
-   .notstart { border-left: none; }
-   .notend { border-right: none; }
-  </style>
- </head>
- <body>
-  <span class="notend">
-    <span>One</span><span>Two</span><span>Three</span>
-  </span>
-  <div>Four</div>
-  <span class="notstart notend"></span>
-  <div>Five</div>
-  <span class="notstart notend">
-    <span>Six</span>
-  </span>
-  <div>Seven</div>
-  <span class="notstart notend"></span>
-  <div>Eight</div>
-  <span class="notstart">
-    <span>Nine</span>
-  </span>
- </body>
-</html>
diff --git a/layout/reftests/ib-split/insert-into-split-inline-5-ref.html b/layout/reftests/ib-split/insert-into-split-inline-5-ref.html
deleted file mode 100644
--- a/layout/reftests/ib-split/insert-into-split-inline-5-ref.html
+++ /dev/null
@@ -1,21 +0,0 @@
-<!DOCTYPE html>
-<html>
- <head>
-  <style>
-   body > span { border: 3px solid blue }
-  </style>
- </head>
- <body>
-  <span
-  ><span>One</span
-  ><span>Two</span
-  ><span>Three</span
-  ><div>Four</div
-  ><div>Five</div
-  ><span>Six</span
-  ><div>Seven</div
-  ><div>Eight</div
-  ><span>Nine</span
- ></span>
- </body>
-</html>
diff --git a/layout/reftests/ib-split/insert-into-split-inline-5-shadow.html b/layout/reftests/ib-split/insert-into-split-inline-5-shadow.html
deleted file mode 100644
--- a/layout/reftests/ib-split/insert-into-split-inline-5-shadow.html
+++ /dev/null
@@ -1,42 +0,0 @@
-<!DOCTYPE html>
-<html>
- <head>
-  <script>
-    customElements.define("custom-element", class extends HTMLElement {
-      constructor() {
-        super();
-        const template = document.getElementById("template");
-        const shadowRoot = this.attachShadow({mode: "open"})
-          .appendChild(template.content.cloneNode(true));
-      }
-    });
-    function doit() {
-      var newNode = document.createElement("span");
-      newNode.appendChild(document.createTextNode("Nine"));
-      document.getElementById("target").appendChild(newNode);
-    }
-  </script>
-  <style>
-   body > custom-element { border: 3px solid blue }
-  </style>
- </head>
- <body onload='doit()'>
- <template id="template">
-   <!-- Multiple insertion points to force appends to be handled via
-       ContentInserted -->
-  <slot name="foo"></slot>
-  <slot name="bar"></slot>
-  <slot></slot>
- </template>
-  <custom-element id="target"
-  ><span>One</span
-  ><span>Two</span
-  ><span>Three</span
-  ><div>Four</div
-  ><div>Five</div
-  ><span>Six</span
-  ><div>Seven</div
-  ><div>Eight</div
- ></custom-element>
- </body>
-</html>
diff --git a/layout/reftests/ib-split/insert-into-split-inline-5.html b/layout/reftests/ib-split/insert-into-split-inline-5.html
deleted file mode 100644
--- a/layout/reftests/ib-split/insert-into-split-inline-5.html
+++ /dev/null
@@ -1,28 +0,0 @@
-<!DOCTYPE html>
-<html>
- <head>
-  <script>
-   function doit() {
-     var newNode = document.createElement("span");
-     newNode.appendChild(document.createTextNode("Nine"));
-     document.getElementById("target").appendChild(newNode);
-   }
-  </script>
-  <style>
-   body > span { border: 3px solid blue }
-  </style>
- </head>
- <body onload='doit()'>
-  <span id="target"
-        style="-moz-binding: url(insert-into-split-inline-force-ContentInserted.xml#test);"
-  ><span>One</span
-  ><span>Two</span
-  ><span>Three</span
-  ><div>Four</div
-  ><div>Five</div
-  ><span>Six</span
-  ><div>Seven</div
-  ><div>Eight</div
- ></span>
- </body>
-</html>
diff --git a/layout/reftests/ib-split/reftest.list b/layout/reftests/ib-split/reftest.list
--- a/layout/reftests/ib-split/reftest.list
+++ b/layout/reftests/ib-split/reftest.list
@@ -21,17 +21,16 @@
 == insert-into-split-inline-2h.html insert-into-split-inline-2-ref.html
 == insert-into-split-inline-2i.html insert-into-split-inline-2-ref.html
 == insert-into-split-inline-2-ref.html insert-into-split-inline-2-noib-ref.html
 == insert-into-split-inline-3.html insert-into-split-inline-3-ref.html
 == insert-into-split-inline-3-ref.html insert-into-split-inline-3-noib-ref.html
 == insert-into-split-inline-4.html insert-into-split-inline-4-ref.html
 == insert-into-split-inline-4-ref.html insert-into-split-inline-4-noib-ref.html
 == insert-into-split-inline-5-shadow.html insert-into-split-inline-5-ref.html
-skip-if(!xbl) == insert-into-split-inline-5.html insert-into-split-inline-5-ref.html
 == insert-into-split-inline-5-ref.html insert-into-split-inline-5-noib-ref.html
 == insert-into-split-inline-6.html insert-into-split-inline-6-ref.html
 == insert-into-split-inline-6-ref.html insert-into-split-inline-6-noib-ref.html
 == insert-into-split-inline-7.html insert-into-split-inline-7-ref.html
 == insert-into-split-inline-7-ref.html insert-into-split-inline-7-noib-ref.html
 == insert-into-split-inline-8a.html insert-into-split-inline-8-ref.html
 == insert-into-split-inline-8b.html insert-into-split-inline-8-ref.html
 == insert-into-split-inline-8c.html insert-into-split-inline-8-ref.html
diff --git a/layout/reftests/image-element/referenced-from-binding-01-ref.html b/layout/reftests/image-element/referenced-from-binding-01-ref.html
deleted file mode 100644
--- a/layout/reftests/image-element/referenced-from-binding-01-ref.html
+++ /dev/null
@@ -1,11 +0,0 @@
-<!--
-     Any copyright is dedicated to the Public Domain.
-     http://creativecommons.org/licenses/publicdomain/
--->
-<!-- From https://bugzilla.mozilla.org/show_bug.cgi?id=587585 -->
-<!DOCTYPE html>
-<title>Test -moz-element reference with external binding</title>
-
-<body style="margin:0">
-  <div style="width: 100px; height: 100px; background: lime;"></div>
-</body>
diff --git a/layout/reftests/image-element/referenced-from-binding-01.html b/layout/reftests/image-element/referenced-from-binding-01.html
deleted file mode 100644
--- a/layout/reftests/image-element/referenced-from-binding-01.html
+++ /dev/null
@@ -1,22 +0,0 @@
-<!--
-     Any copyright is dedicated to the Public Domain.
-     http://creativecommons.org/licenses/publicdomain/
--->
-<!-- From https://bugzilla.mozilla.org/show_bug.cgi?id=587585 -->
-<!DOCTYPE html>
-<title>Test -moz-element reference with external binding</title>
-<style>
-.paintClient {
-  background: -moz-element(#image-element);
-  width: 100px;
-  height: 100px;
-}
-</style>
-
-<body style="margin:0">
-  <div style="-moz-binding: url(referenced-from-binding-01.xbl#insertPaintClient);"></div>
-  <div style="height: 0; overflow: hidden;">
-    <div id="image-element"
-         style="width: 20px; height: 20px; background: lime;"></div>
-  </div>
-</body>
diff --git a/layout/reftests/image-element/referenced-from-binding-01.xbl b/layout/reftests/image-element/referenced-from-binding-01.xbl
deleted file mode 100644
--- a/layout/reftests/image-element/referenced-from-binding-01.xbl
+++ /dev/null
@@ -1,11 +0,0 @@
-<!--
-     Any copyright is dedicated to the Public Domain.
-     http://creativecommons.org/licenses/publicdomain/
--->
-<bindings xmlns="http://www.mozilla.org/xbl">
-  <binding id="insertPaintClient">
-    <content>
-      <div xmlns="http://www.w3.org/1999/xhtml" class="paintClient"></div>
-    </content>
-  </binding>
-</bindings>
diff --git a/layout/reftests/image-element/reftest.list b/layout/reftests/image-element/reftest.list
--- a/layout/reftests/image-element/reftest.list
+++ b/layout/reftests/image-element/reftest.list
@@ -39,16 +39,15 @@ fuzzy(0-1,0-9674) random-if(!cocoaWidget
 fuzzy(0-1,0-9674) random-if(!cocoaWidget) fuzzy-if(webrender&&cocoaWidget,1-1,44200-444200) == gradient-html-06b.html gradient-html-06c.html
 == gradient-html-06c.html gradient-html-06d.html
 == gradient-html-06d.html gradient-html-06e.html
 random-if(!cocoaWidget) fuzzy-if(cocoaWidget,0-2,0-42305) == gradient-html-07a.html gradient-html-07b.html
 fuzzy(0-1,0-16900) == gradient-html-07c.html gradient-html-07d.html
 HTTP == invalidate-1.html invalidate-1-ref.html
 == pattern-html-01.html pattern-html-01-ref.svg
 == pattern-html-02.html pattern-html-02-ref.svg
-skip-if(!xbl) == referenced-from-binding-01.html referenced-from-binding-01-ref.html
 != broken-icon.html no-src.html
 != broken-icon.html empty-src.html
 == empty-src.html no-src.html
 == broken-icon.html invalid-src.html
 fails == invalid-src.html invalid-src-2.html # bug 1506804
 
 fuzzy-if(skiaContent,0-1,0-30000) == mask-image-element.html mask-image-element-ref.html
diff --git a/layout/reftests/svg/moz-only/reftest.list b/layout/reftests/svg/moz-only/reftest.list
--- a/layout/reftests/svg/moz-only/reftest.list
+++ b/layout/reftests/svg/moz-only/reftest.list
@@ -1,21 +1,7 @@
-# XBL tests
-skip-if(!xbl) == xbl-basic-01.svg                             pass.svg
-skip-if(!xbl) == xbl-basic-02.svg                             pass.svg
-skip-if(!xbl) == xbl-grad-ref--grad-in-binding-01.svg         pass.svg
-fails skip-if(!xbl) == xbl-grad-ref--grad-in-binding-02.svg   pass.svg
-skip-if(!xbl) == xbl-grad-ref--grad-in-bound-01.svg           pass.svg
-fails skip-if(!xbl) == xbl-grad-ref--grad-in-bound-02.svg     pass-black.svg
-fails skip-if(!xbl) == xbl-grad-ref--grad-in-resources-01.svg pass.svg
-fails skip-if(!xbl) == xbl-grad-ref--grad-in-resources-02.svg pass.svg
-skip-if(!xbl) == xbl-grad-ref--grad-in-binding-03.svg         pass.svg
-skip-if(!xbl) == xbl-grad-ref--grad-in-bound-03.svg           pass.svg
-fails skip-if(!xbl) == xbl-grad-ref--grad-in-binding-04.svg   pass.svg
-skip-if(!xbl) == xbl-grad-ref--grad-in-bound-04.svg           pass.svg
-
 # Tests for zooming with the full page zoom UI
 random-if(d2d) == feImage-zoom-01a.svg          feImage-zoom-01-ref.svg
 random-if(d2d) == feImage-zoom-01b.svg          feImage-zoom-01-ref.svg
 == foreignObject-zoom-01.svg                    pass.svg
 == zoom-invalidation-01.svg                     pass.svg
 == replaced-element-zoom-01.html                pass.svg
 fuzzy-if(winWidget,0-12,0-7) == zoomed-svg-with-viewBox-01.svg   zoomed-svg-with-viewBox-01-ref.svg
diff --git a/layout/reftests/svg/moz-only/xbl-basic-01.svg b/layout/reftests/svg/moz-only/xbl-basic-01.svg
deleted file mode 100644
--- a/layout/reftests/svg/moz-only/xbl-basic-01.svg
+++ /dev/null
@@ -1,23 +0,0 @@
-<!--
-     Any copyright is dedicated to the Public Domain.
-     http://creativecommons.org/publicdomain/zero/1.0/
--->
-<svg xmlns="http://www.w3.org/2000/svg" style="-moz-binding: url(#lime);">
-
-  <!-- From https://bugzilla.mozilla.org/show_bug.cgi?id=389670 -->
-
-  <title>Test XBL bindings inline in an SVG file can be used in the SVG</title>
-
-  <bindings xmlns="http://www.mozilla.org/xbl">
-    <binding id="lime">
-      <content>
-        <children/>
-        <rect xmlns="http://www.w3.org/2000/svg"
-              width="100%" height="100%" fill="lime"/>
-      </content>
-    </binding>
-  </bindings>
-
-  <rect width="100%" height="100%" fill="red"/>
-
-</svg>
diff --git a/layout/reftests/svg/moz-only/xbl-basic-02.svg b/layout/reftests/svg/moz-only/xbl-basic-02.svg
deleted file mode 100644
--- a/layout/reftests/svg/moz-only/xbl-basic-02.svg
+++ /dev/null
@@ -1,14 +0,0 @@
-<!--
-     Any copyright is dedicated to the Public Domain.
-     http://creativecommons.org/publicdomain/zero/1.0/
--->
-<svg xmlns="http://www.w3.org/2000/svg"
-     style="-moz-binding: url(xbl-basic-02.xbl#lime);">
-
-  <!-- From https://bugzilla.mozilla.org/show_bug.cgi?id=389670 -->
-
-  <title>Test XBL bindings in an external file can be used by SVG</title>
-
-  <rect width="100%" height="100%" fill="red"/>
-
-</svg>
diff --git a/layout/reftests/svg/moz-only/xbl-basic-02.xbl b/layout/reftests/svg/moz-only/xbl-basic-02.xbl
deleted file mode 100644
--- a/layout/reftests/svg/moz-only/xbl-basic-02.xbl
+++ /dev/null
@@ -1,9 +0,0 @@
-<bindings xmlns="http://www.mozilla.org/xbl">
-  <binding id="lime">
-    <content>
-      <children/>
-      <rect xmlns="http://www.w3.org/2000/svg"
-            width="100%" height="100%" fill="lime"/>
-    </content>
-  </binding>
-</bindings>
diff --git a/layout/reftests/svg/moz-only/xbl-grad-ref--grad-in-binding-01.svg b/layout/reftests/svg/moz-only/xbl-grad-ref--grad-in-binding-01.svg
deleted file mode 100644
--- a/layout/reftests/svg/moz-only/xbl-grad-ref--grad-in-binding-01.svg
+++ /dev/null
@@ -1,29 +0,0 @@
-<!--
-     Any copyright is dedicated to the Public Domain.
-     http://creativecommons.org/publicdomain/zero/1.0/
--->
-<svg xmlns="http://www.w3.org/2000/svg">
-
-  <!-- From https://bugzilla.mozilla.org/show_bug.cgi?id=389670 -->
-
-  <title>Test gradient reference in binding for gradient in &lt;binding&gt;</title>
-
-  <bindings xmlns="http://www.mozilla.org/xbl">
-    <binding id="lime">
-      <content>
-        <children/>
-        <g xmlns="http://www.w3.org/2000/svg">
-          <linearGradient id="grad" gradientUnits="userSpaceOnUse">
-            <stop stop-color="lime"/>
-          </linearGradient>
-          <rect width="100%" height="100%" fill="url(#grad)"/>
-        </g>
-      </content>
-    </binding>
-  </bindings>
-
-  <rect width="100%" height="100%" fill="red"/>
-
-  <g style="-moz-binding: url(#lime);"/>
-
-</svg>
diff --git a/layout/reftests/svg/moz-only/xbl-grad-ref--grad-in-binding-02.svg b/layout/reftests/svg/moz-only/xbl-grad-ref--grad-in-binding-02.svg
deleted file mode 100644
--- a/layout/reftests/svg/moz-only/xbl-grad-ref--grad-in-binding-02.svg
+++ /dev/null
@@ -1,14 +0,0 @@
-<!--
-     Any copyright is dedicated to the Public Domain.
-     http://creativecommons.org/publicdomain/zero/1.0/
--->
-<svg xmlns="http://www.w3.org/2000/svg"
-     style="-moz-binding: url(xbl-grad-ref--grad-in-binding-02.xbl#lime);">
-
-  <!-- From https://bugzilla.mozilla.org/show_bug.cgi?id=389670 -->
-
-  <title>Test gradient reference in binding for gradient in &lt;binding&gt;</title>
-
-  <rect width="100%" height="100%" fill="red"/>
-
-</svg>
diff --git a/layout/reftests/svg/moz-only/xbl-grad-ref--grad-in-binding-02.xbl b/layout/reftests/svg/moz-only/xbl-grad-ref--grad-in-binding-02.xbl
deleted file mode 100644
--- a/layout/reftests/svg/moz-only/xbl-grad-ref--grad-in-binding-02.xbl
+++ /dev/null
@@ -1,13 +0,0 @@
-<bindings xmlns="http://www.mozilla.org/xbl">
-  <binding id="lime">
-    <content>
-      <children/>
-      <g xmlns="http://www.w3.org/2000/svg">
-        <linearGradient id="grad" gradientUnits="userSpaceOnUse">
-          <stop stop-color="lime"/>
-        </linearGradient>
-        <rect width="100%" height="100%" fill="url(#grad)"/>
-      </g>
-    </content>
-  </binding>
-</bindings>
diff --git a/layout/reftests/svg/moz-only/xbl-grad-ref--grad-in-binding-03.svg b/layout/reftests/svg/moz-only/xbl-grad-ref--grad-in-binding-03.svg
deleted file mode 100644
--- a/layout/reftests/svg/moz-only/xbl-grad-ref--grad-in-binding-03.svg
+++ /dev/null
@@ -1,26 +0,0 @@
-<!--
-     Any copyright is dedicated to the Public Domain.
-     http://creativecommons.org/publicdomain/zero/1.0/
--->
-<svg xmlns="http://www.w3.org/2000/svg">
-
-  <!-- From https://bugzilla.mozilla.org/show_bug.cgi?id=587585 -->
-
-  <title>Test gradient reference in binding for gradient inside &lt;bindings&gt;</title>
-
-  <g style="-moz-binding: url(#lime);"/>
-
-  <bindings xmlns="http://www.mozilla.org/xbl">
-    <binding id="lime">
-      <content>
-        <rect xmlns="http://www.w3.org/2000/svg"
-              width="100%" height="100%" fill="url(#grad) red"/>
-        <linearGradient xmlns="http://www.w3.org/2000/svg"
-                        id="grad" gradientUnits="userSpaceOnUse">
-          <stop stop-color="lime"/>
-        </linearGradient>
-      </content>
-    </binding>
-  </bindings>
-
-</svg>
diff --git a/layout/reftests/svg/moz-only/xbl-grad-ref--grad-in-binding-04.svg b/layout/reftests/svg/moz-only/xbl-grad-ref--grad-in-binding-04.svg
deleted file mode 100644
--- a/layout/reftests/svg/moz-only/xbl-grad-ref--grad-in-binding-04.svg
+++ /dev/null
@@ -1,13 +0,0 @@
-<!--
-     Any copyright is dedicated to the Public Domain.
-     http://creativecommons.org/publicdomain/zero/1.0/
--->
-<svg xmlns="http://www.w3.org/2000/svg">
-
-  <!-- From https://bugzilla.mozilla.org/show_bug.cgi?id=587585 -->
-
-  <title>Test gradient reference in binding for gradient inside &lt;bindings&gt; with external binding</title>
-
-  <g style="-moz-binding: url(xbl-grad-ref--grad-in-binding-04.xbl#lime);"/>
-
-</svg>
diff --git a/layout/reftests/svg/moz-only/xbl-grad-ref--grad-in-binding-04.xbl b/layout/reftests/svg/moz-only/xbl-grad-ref--grad-in-binding-04.xbl
deleted file mode 100644
--- a/layout/reftests/svg/moz-only/xbl-grad-ref--grad-in-binding-04.xbl
+++ /dev/null
@@ -1,16 +0,0 @@
-<!--
-     Any copyright is dedicated to the Public Domain.
-     http://creativecommons.org/publicdomain/zero/1.0/
--->
-<bindings xmlns="http://www.mozilla.org/xbl">
-  <binding id="lime">
-    <content>
-      <rect xmlns="http://www.w3.org/2000/svg"
-            width="100%" height="100%" fill="url(#grad) red"/>
-      <linearGradient xmlns="http://www.w3.org/2000/svg"
-                      id="grad" gradientUnits="userSpaceOnUse">
-        <stop stop-color="lime"/>
-      </linearGradient>
-    </content>
-  </binding>
-</bindings>
diff --git a/layout/reftests/svg/moz-only/xbl-grad-ref--grad-in-bound-01.svg b/layout/reftests/svg/moz-only/xbl-grad-ref--grad-in-bound-01.svg
deleted file mode 100644
--- a/layout/reftests/svg/moz-only/xbl-grad-ref--grad-in-bound-01.svg
+++ /dev/null
@@ -1,27 +0,0 @@
-<!--
-     Any copyright is dedicated to the Public Domain.
-     http://creativecommons.org/publicdomain/zero/1.0/
--->
-<svg xmlns="http://www.w3.org/2000/svg" style="-moz-binding: url(#lime);">
-
-  <!-- From https://bugzilla.mozilla.org/show_bug.cgi?id=389670 -->
-
-  <title>Test gradient reference in binding for gradient outside &lt;bindings&gt;</title>
-
-  <linearGradient id="grad" gradientUnits="userSpaceOnUse">
-    <stop stop-color="lime"/>
-  </linearGradient>
-
-  <bindings xmlns="http://www.mozilla.org/xbl">
-    <binding id="lime">
-      <content>
-        <children/>
-        <rect xmlns="http://www.w3.org/2000/svg"
-              width="100%" height="100%" fill="url(#grad)"/>
-      </content>
-    </binding>
-  </bindings>
-
-  <rect width="100%" height="100%" fill="red"/>
-
-</svg>
diff --git a/layout/reftests/svg/moz-only/xbl-grad-ref--grad-in-bound-02.svg b/layout/reftests/svg/moz-only/xbl-grad-ref--grad-in-bound-02.svg
deleted file mode 100644
--- a/layout/reftests/svg/moz-only/xbl-grad-ref--grad-in-bound-02.svg
+++ /dev/null
@@ -1,19 +0,0 @@
-<!--
-     Any copyright is dedicated to the Public Domain.
-     http://creativecommons.org/publicdomain/zero/1.0/
--->
-<svg xmlns="http://www.w3.org/2000/svg"
-     style="-moz-binding: url(xbl-grad-ref--grad-in-bound-02.xbl#red);">
-
-  <!-- From https://bugzilla.mozilla.org/show_bug.cgi?id=389670 -->
-
-  <title>Test SVG in XBL can't reference gradient in the bound document</title>
-
-  <!-- SVG in the binding should not be able to reference this gradient -->
-  <linearGradient id="grad" gradientUnits="userSpaceOnUse">
-    <stop stop-color="red"/>
-  </linearGradient>
-
-  <rect width="100%" height="100%" fill="red"/>
-
-</svg>
diff --git a/layout/reftests/svg/moz-only/xbl-grad-ref--grad-in-bound-02.xbl b/layout/reftests/svg/moz-only/xbl-grad-ref--grad-in-bound-02.xbl
deleted file mode 100644
--- a/layout/reftests/svg/moz-only/xbl-grad-ref--grad-in-bound-02.xbl
+++ /dev/null
@@ -1,10 +0,0 @@
-<bindings xmlns="http://www.mozilla.org/xbl">
-  <binding id="red">
-    <content>
-      <children/>
-      <!-- gradient reference should fail, fill should fall back to black -->
-      <rect xmlns="http://www.w3.org/2000/svg"
-            width="100%" height="100%" fill="url(#grad)"/>
-    </content>
-  </binding>
-</bindings>
diff --git a/layout/reftests/svg/moz-only/xbl-grad-ref--grad-in-bound-03.svg b/layout/reftests/svg/moz-only/xbl-grad-ref--grad-in-bound-03.svg
deleted file mode 100644
--- a/layout/reftests/svg/moz-only/xbl-grad-ref--grad-in-bound-03.svg
+++ /dev/null
@@ -1,25 +0,0 @@
-<!--
-     Any copyright is dedicated to the Public Domain.
-     http://creativecommons.org/publicdomain/zero/1.0/
--->
-<svg xmlns="http://www.w3.org/2000/svg">
-
-  <!-- From https://bugzilla.mozilla.org/show_bug.cgi?id=587585 -->
-
-  <title>Test gradient reference in binding for gradient outside &lt;bindings&gt;</title>
-
-  <g style="-moz-binding: url(#lime);"/>
-
-  <bindings xmlns="http://www.mozilla.org/xbl">
-    <binding id="lime">
-      <content>
-        <rect xmlns="http://www.w3.org/2000/svg"
-              width="100%" height="100%" fill="url(#grad) lime"/>
-      </content>
-    </binding>
-  </bindings>
-
-  <linearGradient id="grad" gradientUnits="userSpaceOnUse">
-    <stop stop-color="red"/>
-  </linearGradient>
-</svg>
diff --git a/layout/reftests/svg/moz-only/xbl-grad-ref--grad-in-bound-04.svg b/layout/reftests/svg/moz-only/xbl-grad-ref--grad-in-bound-04.svg
deleted file mode 100644
--- a/layout/reftests/svg/moz-only/xbl-grad-ref--grad-in-bound-04.svg
+++ /dev/null
@@ -1,17 +0,0 @@
-<!--
-     Any copyright is dedicated to the Public Domain.
-     http://creativecommons.org/publicdomain/zero/1.0/
--->
-<svg xmlns="http://www.w3.org/2000/svg">
-
-  <!-- From https://bugzilla.mozilla.org/show_bug.cgi?id=587585 -->
-
-  <title>Test gradient reference in binding for gradient in bound document with external binding</title>
-
-  <g style="-moz-binding: url(xbl-grad-ref--grad-in-bound-04.xbl#lime);"/>
-
-  <linearGradient id="grad" gradientUnits="userSpaceOnUse">
-    <stop stop-color="lime"/>
-  </linearGradient>
-
-</svg>
diff --git a/layout/reftests/svg/moz-only/xbl-grad-ref--grad-in-bound-04.xbl b/layout/reftests/svg/moz-only/xbl-grad-ref--grad-in-bound-04.xbl
deleted file mode 100644
--- a/layout/reftests/svg/moz-only/xbl-grad-ref--grad-in-bound-04.xbl
+++ /dev/null
@@ -1,12 +0,0 @@
-<!--
-     Any copyright is dedicated to the Public Domain.
-     http://creativecommons.org/publicdomain/zero/1.0/
--->
-<bindings xmlns="http://www.mozilla.org/xbl">
-  <binding id="lime">
-    <content>
-      <rect xmlns="http://www.w3.org/2000/svg"
-            width="100%" height="100%" fill="url(xbl-grad-ref--grad-in-bound-04.svg#grad) red"/>
-    </content>
-  </binding>
-</bindings>
diff --git a/layout/reftests/svg/moz-only/xbl-grad-ref--grad-in-resources-01.svg b/layout/reftests/svg/moz-only/xbl-grad-ref--grad-in-resources-01.svg
deleted file mode 100644
--- a/layout/reftests/svg/moz-only/xbl-grad-ref--grad-in-resources-01.svg
+++ /dev/null
@@ -1,37 +0,0 @@
-<!--
-     Any copyright is dedicated to the Public Domain.
-     http://creativecommons.org/publicdomain/zero/1.0/
--->
-<svg xmlns="http://www.w3.org/2000/svg">
-
-  <!-- From https://bugzilla.mozilla.org/show_bug.cgi?id=389670 -->
-
-  <title>Test gradient reference in binding for gradient in &lt;resources&gt;</title>
-
-  <bindings xmlns="http://www.mozilla.org/xbl">
-    <binding id="lime">
-      <resources>
-
-        <!-- don't need <svg> - only used to eliminate its omission as a problem -->
-
-        <svg xmlns="http://www.w3.org/2000/svg">
-          <linearGradient xmlns="http://www.w3.org/2000/svg"
-                          id="grad" gradientUnits="userSpaceOnUse">
-            <stop stop-color="lime"/>
-          </linearGradient>
-        </svg>
-
-      </resources>
-      <content>
-        <children/>
-        <rect xmlns="http://www.w3.org/2000/svg"
-              width="100%" height="100%" fill="url(#grad)"/>
-      </content>
-    </binding>
-  </bindings>
-
-  <rect width="100%" height="100%" fill="red"/>
-
-  <g style="-moz-binding: url(#lime);"/>
-
-</svg>
diff --git a/layout/reftests/svg/moz-only/xbl-grad-ref--grad-in-resources-02.svg b/layout/reftests/svg/moz-only/xbl-grad-ref--grad-in-resources-02.svg
deleted file mode 100644
--- a/layout/reftests/svg/moz-only/xbl-grad-ref--grad-in-resources-02.svg
+++ /dev/null
@@ -1,14 +0,0 @@
-<!--
-     Any copyright is dedicated to the Public Domain.
-     http://creativecommons.org/publicdomain/zero/1.0/
--->
-<svg xmlns="http://www.w3.org/2000/svg"
-     style="-moz-binding: url(xbl-grad-ref--grad-in-resources-02.xbl#lime);">
-
-  <!-- From https://bugzilla.mozilla.org/show_bug.cgi?id=389670 -->
-
-  <title>Test gradient reference in binding for gradient in &lt;resources&gt;</title>
-
-  <rect width="100%" height="100%" fill="red"/>
-
-</svg>
diff --git a/layout/reftests/svg/moz-only/xbl-grad-ref--grad-in-resources-02.xbl b/layout/reftests/svg/moz-only/xbl-grad-ref--grad-in-resources-02.xbl
deleted file mode 100644
--- a/layout/reftests/svg/moz-only/xbl-grad-ref--grad-in-resources-02.xbl
+++ /dev/null
@@ -1,21 +0,0 @@
-<bindings xmlns="http://www.mozilla.org/xbl">
-  <binding id="lime">
-    <resources>
-
-      <!-- don't need <svg> - only used to eliminate its omission as a problem -->
-
-      <svg xmlns="http://www.w3.org/2000/svg">
-        <linearGradient xmlns="http://www.w3.org/2000/svg"
-                        id="grad" gradientUnits="userSpaceOnUse">
-          <stop stop-color="lime"/>
-        </linearGradient>
-      </svg>
-
-    </resources>
-    <content>
-      <children/>
-      <rect xmlns="http://www.w3.org/2000/svg"
-            width="100%" height="100%" fill="url(#grad)"/>
-    </content>
-  </binding>
-</bindings>
diff --git a/layout/reftests/svg/svg-integration/mask-html-xbl-bound-01.html b/layout/reftests/svg/svg-integration/mask-html-xbl-bound-01.html
deleted file mode 100644
--- a/layout/reftests/svg/svg-integration/mask-html-xbl-bound-01.html
+++ /dev/null
@@ -1,22 +0,0 @@
-<!--
-     Any copyright is dedicated to the Public Domain.
-     http://creativecommons.org/publicdomain/zero/1.0/
--->
-<!-- From https://bugzilla.mozilla.org/show_bug.cgi?id=587585 -->
-<!DOCTYPE html>
-<title>Test mask reference in binding for mask in bound document with external binding</title>
-
-<body style="margin:0">
-  <div style="-moz-binding: url(mask-html-xbl-bound-01.xbl#lime);"></div>
-  
-  <svg height="0">
-    <mask id="m1" maskUnits="objectBoundingBox" maskContentUnits="objectBoundingBox">
-      <linearGradient id="g" gradientUnits="objectBoundingBox" x2="0" y2="1">
-        <stop stop-color="white" offset="0"/>
-        <stop stop-color="white" stop-opacity="0" offset="1"/>
-      </linearGradient>
-      <circle cx="0.25" cy="0.25" r="0.25" id="circle" fill="white"/>
-      <rect x="0.5" y="0" width="0.5" height="1" fill="url(#g)"/>
-    </mask>
-  </svg>
-</body>
diff --git a/layout/reftests/svg/svg-integration/reftest.list b/layout/reftests/svg/svg-integration/reftest.list
--- a/layout/reftests/svg/svg-integration/reftest.list
+++ b/layout/reftests/svg/svg-integration/reftest.list
@@ -27,17 +27,16 @@ fuzzy-if(Android,0-255,0-30) == clipPath
 == filter-html-01.xhtml filter-html-01-ref.svg
 == filter-html-dynamic-01.xhtml filter-html-dynamic-01-ref.xhtml
 random-if(Android) == filter-html-01-extref.xhtml filter-html-01-ref.svg # Android: bug 1198380
 == filter-html-zoomed-01.xhtml filter-html-01-ref.svg
 fuzzy-if(webrender,0-1,0-125414) == mask-html-01.xhtml mask-html-01-ref.svg
 fuzzy-if(webrender,0-1,0-125414) == mask-html-01-extref-01.xhtml mask-html-01-ref.svg
 random == mask-html-01-extref-02.xhtml mask-html-01-ref.svg # random due to bug 877661
 fuzzy-if(webrender,0-1,0-125414) == mask-html-zoomed-01.xhtml mask-html-01-ref.svg
-fuzzy-if(webrender,0-1,0-125414) skip-if(!xbl) == mask-html-xbl-bound-01.html mask-html-01-ref.svg
 == mask-transformed-html-01.xhtml ../pass.svg
 == mask-transformed-html-02.xhtml ../pass.svg
 fuzzy-if(skiaContent,0-1,0-5) == patterned-svg-under-transformed-html-01.xhtml ../pass.svg
 == patterned-svg-under-transformed-html-02.xhtml ../pass.svg
 
 fuzzy(0-1,0-5000) == mask-clipPath-opacity-01a.xhtml mask-clipPath-opacity-01-ref.xhtml
 fuzzy(0-1,0-5000) == mask-clipPath-opacity-01b.xhtml mask-clipPath-opacity-01-ref.xhtml
 fuzzy(0-1,0-5000) == mask-clipPath-opacity-01c.xhtml mask-clipPath-opacity-01-ref.xhtml
diff --git a/layout/reftests/usercss/reftest.list b/layout/reftests/usercss/reftest.list
--- a/layout/reftests/usercss/reftest.list
+++ b/layout/reftests/usercss/reftest.list
@@ -1,4 +1,3 @@
 == usercss.html usercss-ref.html
 == usercss-uppercase.html usercss-ref.html
-skip-if(!xbl) == usercss-xbl.html usercss-ref.html
 fails-if(geckoview&&webrender) == usercss-moz-document.html usercss-moz-document-ref.html
diff --git a/layout/style/crashtests/1370793-1.xhtml b/layout/style/crashtests/1370793-1.xhtml
deleted file mode 100644
--- a/layout/style/crashtests/1370793-1.xhtml
+++ /dev/null
@@ -1,24 +0,0 @@
-<!DOCTYPE html>
-<html xmlns="http://www.w3.org/1999/xhtml">
-  <head>
-    <bindings xmlns="http://www.mozilla.org/xbl">
-      <binding id="a">
-        <content>
-          <children/>
-        </content>
-      </binding>
-    </bindings>
-    <script>
-      function doTest() {
-        // Cause XBL bindings to be attached to the object element by
-        // wrapping it for JS.
-        document.querySelector("object");
-      }
-    </script>
-  </head>
-  <body onload="doTest()">
-    <div style="display: none;">
-      <object style="-moz-binding: url(#a);" data="about:blank"></object>
-    </div>
-  </body>
-</html>
diff --git a/layout/style/crashtests/1517319.html b/layout/style/crashtests/1517319.html
deleted file mode 100644
--- a/layout/style/crashtests/1517319.html
+++ /dev/null
@@ -1,3 +0,0 @@
-<frameset>
-<frameset onload="document.getElementById('y').appendChild(document.createElement('span'))" style="-moz-binding: url(#x)">
-<frame id="y">
diff --git a/layout/style/crashtests/crashtests.list b/layout/style/crashtests/crashtests.list
--- a/layout/style/crashtests/crashtests.list
+++ b/layout/style/crashtests/crashtests.list
@@ -176,17 +176,16 @@ load 1331272.html
 HTTP load 1333001-1.html
 load 1340248.html
 pref(dom.animations-api.core.enabled,true) pref(dom.animations-api.implicit-keyframes.enabled,true) load 1340344.html
 load 1342316-1.html
 load 1344210.html
 load 1353312.html
 load 1356601-1.html
 load 1364139-1.html
-skip-if(!xbl) load 1370793-1.xhtml
 load 1371450-1.html
 load 1374175-1.html
 load 1375812-1.html
 load 1377053-1.html
 load 1377256-1.html
 load 1378064-1.html
 load 1378814.html
 load 1380800.html
@@ -293,17 +292,16 @@ load 1468640.html
 load 1469076.html
 load 1475003.html
 load 1479681.html
 load 1488817.html
 load 1490012.html
 load 1502893.html
 load 1509989.html
 load 1514086.html
-pref(layout.css.moz-binding.content.enabled,false) skip-if(!xbl) load 1517319.html
 load 1533783.html
 load 1533891.html
 pref(gfx.omta.background-color,true) load 1533968.html
 load 1541126.html
 load 1545177.html
 skip-if(geckoview&&webrender) skip-if(Android) load 1546255.html # Bug 1563020 for GV+WR & Bug 1553971
 pref(layout.css.resizeobserver.enabled,true) load 1552911.html
 load 1562361.html
diff --git a/layout/style/test/mochitest.ini b/layout/style/test/mochitest.ini
--- a/layout/style/test/mochitest.ini
+++ b/layout/style/test/mochitest.ini
@@ -307,18 +307,16 @@ support-files = redundant_font_download.
 [test_rem_unit.html]
 [test_restyle_table_wrapper.html]
 [test_restyles_in_smil_animation.html]
 [test_root_node_display.html]
 [test_rule_insertion.html]
 [test_rule_serialization.html]
 [test_rules_out_of_sheets.html]
 [test_selectors.html]
-[test_selectors_on_anonymous_content.html]
-skip-if = !xbl
 [test_setPropertyWithNull.html]
 [test_shape_outside_CORS.html]
 [test_shorthand_property_getters.html]
 [test_specified_value_serialization.html]
 support-files = file_specified_value_serialization_individual_transforms.html
 [test_style_attr_listener.html]
 [test_style_attribute_quirks.html]
 [test_style_attribute_standards.html]
diff --git a/layout/style/test/test_selectors_on_anonymous_content.html b/layout/style/test/test_selectors_on_anonymous_content.html
deleted file mode 100644
--- a/layout/style/test/test_selectors_on_anonymous_content.html
+++ /dev/null
@@ -1,78 +0,0 @@
-<!DOCTYPE HTML>
-<html>
-<head>
-  <title>Test for CSS Selectors</title>
-  <!--
-      Separate from test_selectors.html so we don't need to deal with
-      waiting for the binding document to load.
-    -->
-  <script src="/tests/SimpleTest/SimpleTest.js"></script>
-  <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
-  <style type="text/css">
-
-  #display { -moz-binding: url(xbl_bindings.xml#onedivchild); }
-
-  </style>
-</head>
-<body onload="run()">
-<div id="display"></div>
-<pre id="test">
-<script class="testbody" type="text/javascript">
-
-SimpleTest.waitForExplicitFinish();
-
-function run() {
-
-    function setup_style() {
-        var style_elem = document.createElement("style");
-        style_elem.setAttribute("type", "text/css");
-        document.getElementsByTagName("head")[0].appendChild(style_elem);
-        var style_text = document.createTextNode("");
-        style_elem.appendChild(style_text);
-        return style_text;
-    }
-
-    var style_text = setup_style();
-
-    var gCounter = 0;
-
-    function test_selector(selector, matches_docdiv, matches_anondiv)
-    {
-        var zi = ++gCounter;
-        style_text.data = selector + "{ z-index: " + zi + " }";
-
-        var doc_div = document.getElementById("display");
-        var anon_div = SpecialPowers.wrap(document).getAnonymousNodes(doc_div)[0];
-        var should_match = [];
-        var should_not_match = [];
-        (matches_docdiv ? should_match : should_not_match).push(doc_div);
-        (matches_anondiv ? should_match : should_not_match).push(anon_div);
-
-        for (var i = 0; i < should_match.length; ++i) {
-            var e = should_match[i];
-            is(SpecialPowers.wrap(window).getComputedStyle(e).zIndex, String(zi),
-               "element matched " + selector);
-        }
-        for (var i = 0; i < should_not_match.length; ++i) {
-            var e = should_not_match[i];
-            is(SpecialPowers.wrap(window).getComputedStyle(e).zIndex, "auto",
-               "element did not match " + selector);
-        }
-
-        style_text.data = "";
-    }
-
-    // Test that the root of an XBL1 anonymous content subtree doesn't
-    // match :nth-child().
-    test_selector("div.anondiv", false, true);
-    test_selector("div:nth-child(odd)", true, false);
-    test_selector("div:nth-child(even)", false, false);
-
-    SimpleTest.finish();
-}
-
-</script>
-</pre>
-</body>
-</html>
-
diff --git a/layout/svg/crashtests/386566-1.svg b/layout/svg/crashtests/386566-1.svg
deleted file mode 100644
--- a/layout/svg/crashtests/386566-1.svg
+++ /dev/null
@@ -1,21 +0,0 @@
-<svg xmlns="http://www.w3.org/2000/svg" height="5" onload="setTimeout(boom, 30);" class="reftest-wait">
-     
-<bindings xmlns="http://www.mozilla.org/xbl"><binding id="foo"><content></content></binding></bindings>
-
-<script>
-function boom()
-{
-  document.getElementById("rr").style.MozBinding = "url('#foo')";
-  document.documentElement.setAttribute('height', "5px");
-  setTimeout(done, 30);
-}
-
-function done()
-{
-  document.documentElement.removeAttribute("class");
-}
-</script>
-
-<rect id="rr" x="50%" width="25%" height="10em" fill="red"/>
-
-</svg>
diff --git a/layout/svg/crashtests/409573-1.svg b/layout/svg/crashtests/409573-1.svg
deleted file mode 100644
--- a/layout/svg/crashtests/409573-1.svg
+++ /dev/null
@@ -1,17 +0,0 @@
-<svg xmlns="http://www.w3.org/2000/svg"
-     xmlns:xlink="http://www.w3.org/1999/xlink"
-     onload="document.documentElement.style.MozBinding = 'url(#empty)';">
-
-  <bindings xmlns="http://www.mozilla.org/xbl"><binding id="empty"><content></content></binding></bindings>
-
-	<defs>
-
-    <filter id="filter1"/>
-    
-    <filter id="filter2">
-      <use filter="url(#filter1)" />
-	  </filter>
-
-  </defs>
-
-</svg>
diff --git a/layout/svg/crashtests/crashtests.list b/layout/svg/crashtests/crashtests.list
--- a/layout/svg/crashtests/crashtests.list
+++ b/layout/svg/crashtests/crashtests.list
@@ -56,23 +56,21 @@ load 384637-1.svg
 load 384728-1.svg
 load 385246-1.svg
 load 385246-2.svg
 load 385552-1.svg
 load 385552-2.svg
 load 385840-1.svg
 load 385852-1.svg
 load 386475-1.xhtml
-skip-if(!xbl) load 386566-1.svg
 load 386690-1.svg
 load 387290-1.svg
 load 402408-1.svg
 load 404677-1.xhtml
 load 409565-1.xhtml
-skip-if(!xbl) load 409573-1.svg
 load 420697-1.svg
 load 420697-2.svg
 load 429774-1.svg
 load 441368-1.svg
 load 453754-1.svg
 load 455314-1.xhtml
 load 458453.html
 load 459666-1.html
diff --git a/layout/tools/reftest/jar.mn b/layout/tools/reftest/jar.mn
--- a/layout/tools/reftest/jar.mn
+++ b/layout/tools/reftest/jar.mn
@@ -22,17 +22,16 @@ reftest.jar:
   content/xul/reftest (../../xul/reftest/*)
   content/fonts/fira (../../reftests/fonts/fira/*)
   content/fonts/sil (../../reftests/fonts/sil/*)
   content/toolkit/reftests (../../../toolkit/content/tests/reftests/*)
   content/osx-theme (../../../toolkit/themes/osx/reftests/*)
   content/reftest.xul (reftest.xul)
 
 # Crash tests
-  content/crashtests/dom/xbl/crashtests (../../../dom/xbl/crashtests/*)
   content/crashtests/dom/svg/crashtests (../../../dom/svg/crashtests/*)
   content/crashtests/dom/html/crashtests (../../../dom/html/crashtests/*)
   content/crashtests/dom/base/crashtests (../../../dom/base/crashtests/*)
   content/crashtests/dom/xul/crashtests (../../../dom/xul/crashtests/*)
   content/crashtests/dom/xml/crashtests (../../../dom/xml/crashtests/*)
   content/crashtests/layout/forms/crashtests (../../../layout/forms/crashtests/*)
   content/crashtests/layout/svg/crashtests (../../../layout/svg/crashtests/*)
   content/crashtests/layout/tables/crashtests (../../../layout/tables/crashtests/*)
diff --git a/layout/xul/crashtests/387033-1.xhtml b/layout/xul/crashtests/387033-1.xhtml
deleted file mode 100644
--- a/layout/xul/crashtests/387033-1.xhtml
+++ /dev/null
@@ -1,31 +0,0 @@
-<?xml version="1.0"?>
-<html xmlns="http://www.w3.org/1999/xhtml"
-      xmlns:xbl="http://www.mozilla.org/xbl"
-      xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
-  <head>
-    <xbl:bindings>
-      <xbl:binding id="test" extends="chrome://global/content/bindings/text.xml#text-label">
-        <xbl:implementation>
-          <xbl:property name="accessKey">
-            <xbl:getter>
-              <![CDATA[
-                this.parentNode.remove();
-                return "";
-              ]]>
-            </xbl:getter>
-            <xbl:setter>
-              <![CDATA[
-                return val;
-              ]]>
-            </xbl:setter>
-          </xbl:property>
-        </xbl:implementation>
-      </xbl:binding>
-    </xbl:bindings>
-  </head>
-  <body>
-    <xul:hbox>
-      <xul:label value="foobar" style="-moz-binding: url(#test)"/>
-    </xul:hbox>
-  </body>
-</html>
diff --git a/layout/xul/crashtests/452185.html b/layout/xul/crashtests/452185.html
deleted file mode 100644
--- a/layout/xul/crashtests/452185.html
+++ /dev/null
@@ -1,3 +0,0 @@
-<html><head></head><body><div style="position: absolute;"> </div>
-<style>div, head {-moz-binding:url(452185.xml#a);</style>
-</body></html>
diff --git a/layout/xul/crashtests/467080.xul b/layout/xul/crashtests/467080.xul
deleted file mode 100644
--- a/layout/xul/crashtests/467080.xul
+++ /dev/null
@@ -1,24 +0,0 @@
-<?xml-stylesheet href="chrome://browser/skin/" type="text/css"?>
-<window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul" xmlns:html="http://www.w3.org/1999/xhtml" xmlns:mathml="http://www.w3.org/1998/Math/MathML" style="-moz-binding:url(#a);" class="reftest-wait">
-
-<content xmlns="http://www.mozilla.org/xbl" ordinal="-1">
-<mathml:median style="display: block;"/>
-</content>
-
-<script xmlns="http://www.w3.org/1999/xhtml"><![CDATA[
-function finish() {
-  document.documentElement.removeAttribute("class");
-}
-function doe() {
-document.documentElement.removeAttribute('style');
-setTimeout(finish, 0);
-}
-setTimeout(doe, 100);
-]]></script>
-
-
-<bindings xmlns="http://www.mozilla.org/xbl">
-<binding id="a">
-<content><children/></content>
-</binding></bindings>
-</window>
diff --git a/layout/xul/crashtests/crashtests.list b/layout/xul/crashtests/crashtests.list
--- a/layout/xul/crashtests/crashtests.list
+++ b/layout/xul/crashtests/crashtests.list
@@ -34,29 +34,26 @@ load 378961.html
 load 381862.html
 load chrome://reftest/content/crashtests/layout/xul/crashtests/382746-1.xul
 load chrome://reftest/content/crashtests/layout/xul/crashtests/382899-1.xul
 load 384037-1.xhtml
 load 384105-1.html
 load 384373.html
 load 384871-1.html
 load chrome://reftest/content/crashtests/layout/xul/crashtests/386642.xul
-skip-if(!xbl) load 387033-1.xhtml
 load chrome://reftest/content/crashtests/layout/xul/crashtests/387080-1.xul
 load 391974-1.html
 load chrome://reftest/content/crashtests/layout/xul/crashtests/399013.xul
 load 402912-1.xhtml
 load 404192.xhtml
 load chrome://reftest/content/crashtests/layout/xul/crashtests/408904-1.xul
 load 412479-1.xhtml
 load chrome://reftest/content/crashtests/layout/xul/crashtests/417509.xul
 load 430356-1.xhtml
-skip-if(!xbl) load 452185.html
 asserts(0-1) load 464407-1.xhtml # Bugs 450974, 1267054, 718883
-skip-if(!xbl) load chrome://reftest/content/crashtests/layout/xul/crashtests/467080.xul
 load 470063-1.html
 load 470272.html
 load chrome://reftest/content/crashtests/layout/xul/crashtests/538308-1.xul
 load 557174-1.xml
 load chrome://reftest/content/crashtests/layout/xul/crashtests/564705-1.xul
 load 583957-1.html
 load 617089.html
 load menulist-focused.xhtml
diff --git a/testing/crashtest/crashtests.list b/testing/crashtest/crashtests.list
--- a/testing/crashtest/crashtests.list
+++ b/testing/crashtest/crashtests.list
@@ -24,17 +24,16 @@ include ../../dom/media/test/crashtests/
 skip-if(!webrtc) include ../../dom/media/tests/crashtests/crashtests.list
 include ../../dom/media/webspeech/synth/crashtests/crashtests.list
 include ../../dom/offline/crashtests/crashtests.list
 include ../../dom/plugins/test/crashtests/crashtests.list
 include ../../dom/security/test/crashtests/crashtests.list
 include ../../dom/smil/crashtests/crashtests.list
 include ../../dom/svg/crashtests/crashtests.list
 include ../../dom/workers/test/crashtests/crashtests.list
-skip-if(!xbl) include ../../dom/xbl/crashtests/crashtests.list
 include ../../dom/xhr/tests/crashtests/crashtests.list
 include ../../dom/xml/crashtests/crashtests.list
 include ../../dom/xslt/crashtests/crashtests.list
 include ../../dom/xul/crashtests/crashtests.list
 
 include ../../editor/composer/crashtests/crashtests.list
 include ../../editor/libeditor/crashtests/crashtests.list
 include ../../editor/txmgr/tests/crashtests/crashtests.list
diff --git a/testing/marionette/harness/marionette_harness/tests/unit/unit-tests.ini b/testing/marionette/harness/marionette_harness/tests/unit/unit-tests.ini
--- a/testing/marionette/harness/marionette_harness/tests/unit/unit-tests.ini
+++ b/testing/marionette/harness/marionette_harness/tests/unit/unit-tests.ini
@@ -29,18 +29,16 @@ expected = fail
 [test_execute_script.py]
 [test_element_retrieval.py]
 [test_findelement_chrome.py]
 
 [test_get_current_url_chrome.py]
 [test_navigation.py]
 [test_timeouts.py]
 
-[test_anonymous_content.py]
-skip-if = !xbl
 [test_switch_frame.py]
 [test_switch_frame_chrome.py]
 [test_switch_window_chrome.py]
 [test_switch_window_content.py]
 
 [test_pagesource.py]
 [test_pagesource_chrome.py]
 
